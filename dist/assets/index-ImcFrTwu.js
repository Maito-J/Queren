function om(s,n){for(var r=0;r<n.length;r++){const l=n[r];if(typeof l!="string"&&!Array.isArray(l)){for(const c in l)if(c!=="default"&&!(c in s)){const u=Object.getOwnPropertyDescriptor(l,c);u&&Object.defineProperty(s,c,u.get?u:{enumerable:!0,get:()=>l[c]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function r(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(c){if(c.ep)return;c.ep=!0;const u=r(c);fetch(c.href,u)}})();function Ih(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var co={exports:{}},Rs={},uo={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fd;function cm(){if(Fd)return ue;Fd=1;var s=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function k(S){return S===null||typeof S!="object"?null:(S=x&&S[x]||S["@@iterator"],typeof S=="function"?S:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,E={};function T(S,L,ce){this.props=S,this.context=L,this.refs=E,this.updater=ce||N}T.prototype.isReactComponent={},T.prototype.setState=function(S,L){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,L,"setState")},T.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function O(){}O.prototype=T.prototype;function $(S,L,ce){this.props=S,this.context=L,this.refs=E,this.updater=ce||N}var I=$.prototype=new O;I.constructor=$,R(I,T.prototype),I.isPureReactComponent=!0;var z=Array.isArray,J=Object.prototype.hasOwnProperty,K={current:null},re={key:!0,ref:!0,__self:!0,__source:!0};function pe(S,L,ce){var he,me={},ve=null,je=null;if(L!=null)for(he in L.ref!==void 0&&(je=L.ref),L.key!==void 0&&(ve=""+L.key),L)J.call(L,he)&&!re.hasOwnProperty(he)&&(me[he]=L[he]);var we=arguments.length-2;if(we===1)me.children=ce;else if(1<we){for(var Ee=Array(we),gt=0;gt<we;gt++)Ee[gt]=arguments[gt+2];me.children=Ee}if(S&&S.defaultProps)for(he in we=S.defaultProps,we)me[he]===void 0&&(me[he]=we[he]);return{$$typeof:s,type:S,key:ve,ref:je,props:me,_owner:K.current}}function Ie(S,L){return{$$typeof:s,type:S.type,key:L,ref:S.ref,props:S.props,_owner:S._owner}}function st(S){return typeof S=="object"&&S!==null&&S.$$typeof===s}function Nt(S){var L={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(ce){return L[ce]})}var mt=/\/+/g;function it(S,L){return typeof S=="object"&&S!==null&&S.key!=null?Nt(""+S.key):L.toString(36)}function vt(S,L,ce,he,me){var ve=typeof S;(ve==="undefined"||ve==="boolean")&&(S=null);var je=!1;if(S===null)je=!0;else switch(ve){case"string":case"number":je=!0;break;case"object":switch(S.$$typeof){case s:case n:je=!0}}if(je)return je=S,me=me(je),S=he===""?"."+it(je,0):he,z(me)?(ce="",S!=null&&(ce=S.replace(mt,"$&/")+"/"),vt(me,L,ce,"",function(gt){return gt})):me!=null&&(st(me)&&(me=Ie(me,ce+(!me.key||je&&je.key===me.key?"":(""+me.key).replace(mt,"$&/")+"/")+S)),L.push(me)),1;if(je=0,he=he===""?".":he+":",z(S))for(var we=0;we<S.length;we++){ve=S[we];var Ee=he+it(ve,we);je+=vt(ve,L,ce,Ee,me)}else if(Ee=k(S),typeof Ee=="function")for(S=Ee.call(S),we=0;!(ve=S.next()).done;)ve=ve.value,Ee=he+it(ve,we++),je+=vt(ve,L,ce,Ee,me);else if(ve==="object")throw L=String(S),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return je}function bt(S,L,ce){if(S==null)return S;var he=[],me=0;return vt(S,he,"","",function(ve){return L.call(ce,ve,me++)}),he}function Ze(S){if(S._status===-1){var L=S._result;L=L(),L.then(function(ce){(S._status===0||S._status===-1)&&(S._status=1,S._result=ce)},function(ce){(S._status===0||S._status===-1)&&(S._status=2,S._result=ce)}),S._status===-1&&(S._status=0,S._result=L)}if(S._status===1)return S._result.default;throw S._result}var B={current:null},q={transition:null},te={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:q,ReactCurrentOwner:K};function V(){throw Error("act(...) is not supported in production builds of React.")}return ue.Children={map:bt,forEach:function(S,L,ce){bt(S,function(){L.apply(this,arguments)},ce)},count:function(S){var L=0;return bt(S,function(){L++}),L},toArray:function(S){return bt(S,function(L){return L})||[]},only:function(S){if(!st(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},ue.Component=T,ue.Fragment=r,ue.Profiler=c,ue.PureComponent=$,ue.StrictMode=l,ue.Suspense=m,ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,ue.act=V,ue.cloneElement=function(S,L,ce){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var he=R({},S.props),me=S.key,ve=S.ref,je=S._owner;if(L!=null){if(L.ref!==void 0&&(ve=L.ref,je=K.current),L.key!==void 0&&(me=""+L.key),S.type&&S.type.defaultProps)var we=S.type.defaultProps;for(Ee in L)J.call(L,Ee)&&!re.hasOwnProperty(Ee)&&(he[Ee]=L[Ee]===void 0&&we!==void 0?we[Ee]:L[Ee])}var Ee=arguments.length-2;if(Ee===1)he.children=ce;else if(1<Ee){we=Array(Ee);for(var gt=0;gt<Ee;gt++)we[gt]=arguments[gt+2];he.children=we}return{$$typeof:s,type:S.type,key:me,ref:ve,props:he,_owner:je}},ue.createContext=function(S){return S={$$typeof:f,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:u,_context:S},S.Consumer=S},ue.createElement=pe,ue.createFactory=function(S){var L=pe.bind(null,S);return L.type=S,L},ue.createRef=function(){return{current:null}},ue.forwardRef=function(S){return{$$typeof:p,render:S}},ue.isValidElement=st,ue.lazy=function(S){return{$$typeof:y,_payload:{_status:-1,_result:S},_init:Ze}},ue.memo=function(S,L){return{$$typeof:g,type:S,compare:L===void 0?null:L}},ue.startTransition=function(S){var L=q.transition;q.transition={};try{S()}finally{q.transition=L}},ue.unstable_act=V,ue.useCallback=function(S,L){return B.current.useCallback(S,L)},ue.useContext=function(S){return B.current.useContext(S)},ue.useDebugValue=function(){},ue.useDeferredValue=function(S){return B.current.useDeferredValue(S)},ue.useEffect=function(S,L){return B.current.useEffect(S,L)},ue.useId=function(){return B.current.useId()},ue.useImperativeHandle=function(S,L,ce){return B.current.useImperativeHandle(S,L,ce)},ue.useInsertionEffect=function(S,L){return B.current.useInsertionEffect(S,L)},ue.useLayoutEffect=function(S,L){return B.current.useLayoutEffect(S,L)},ue.useMemo=function(S,L){return B.current.useMemo(S,L)},ue.useReducer=function(S,L,ce){return B.current.useReducer(S,L,ce)},ue.useRef=function(S){return B.current.useRef(S)},ue.useState=function(S){return B.current.useState(S)},ue.useSyncExternalStore=function(S,L,ce){return B.current.useSyncExternalStore(S,L,ce)},ue.useTransition=function(){return B.current.useTransition()},ue.version="18.3.1",ue}var Wd;function Mo(){return Wd||(Wd=1,uo.exports=cm()),uo.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vd;function um(){if(Vd)return Rs;Vd=1;var s=Mo(),n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,c=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function f(p,m,g){var y,x={},k=null,N=null;g!==void 0&&(k=""+g),m.key!==void 0&&(k=""+m.key),m.ref!==void 0&&(N=m.ref);for(y in m)l.call(m,y)&&!u.hasOwnProperty(y)&&(x[y]=m[y]);if(p&&p.defaultProps)for(y in m=p.defaultProps,m)x[y]===void 0&&(x[y]=m[y]);return{$$typeof:n,type:p,key:k,ref:N,props:x,_owner:c.current}}return Rs.Fragment=r,Rs.jsx=f,Rs.jsxs=f,Rs}var Hd;function dm(){return Hd||(Hd=1,co.exports=um()),co.exports}var i=dm(),A=Mo();const Mr=Ih(A),hm=om({__proto__:null,default:Mr},[A]);var Zi={},ho={exports:{}},pt={},fo={exports:{}},po={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kd;function fm(){return Kd||(Kd=1,(function(s){function n(q,te){var V=q.length;q.push(te);e:for(;0<V;){var S=V-1>>>1,L=q[S];if(0<c(L,te))q[S]=te,q[V]=L,V=S;else break e}}function r(q){return q.length===0?null:q[0]}function l(q){if(q.length===0)return null;var te=q[0],V=q.pop();if(V!==te){q[0]=V;e:for(var S=0,L=q.length,ce=L>>>1;S<ce;){var he=2*(S+1)-1,me=q[he],ve=he+1,je=q[ve];if(0>c(me,V))ve<L&&0>c(je,me)?(q[S]=je,q[ve]=V,S=ve):(q[S]=me,q[he]=V,S=he);else if(ve<L&&0>c(je,V))q[S]=je,q[ve]=V,S=ve;else break e}}return te}function c(q,te){var V=q.sortIndex-te.sortIndex;return V!==0?V:q.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();s.unstable_now=function(){return f.now()-p}}var m=[],g=[],y=1,x=null,k=3,N=!1,R=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(q){for(var te=r(g);te!==null;){if(te.callback===null)l(g);else if(te.startTime<=q)l(g),te.sortIndex=te.expirationTime,n(m,te);else break;te=r(g)}}function z(q){if(E=!1,I(q),!R)if(r(m)!==null)R=!0,Ze(J);else{var te=r(g);te!==null&&B(z,te.startTime-q)}}function J(q,te){R=!1,E&&(E=!1,O(pe),pe=-1),N=!0;var V=k;try{for(I(te),x=r(m);x!==null&&(!(x.expirationTime>te)||q&&!Nt());){var S=x.callback;if(typeof S=="function"){x.callback=null,k=x.priorityLevel;var L=S(x.expirationTime<=te);te=s.unstable_now(),typeof L=="function"?x.callback=L:x===r(m)&&l(m),I(te)}else l(m);x=r(m)}if(x!==null)var ce=!0;else{var he=r(g);he!==null&&B(z,he.startTime-te),ce=!1}return ce}finally{x=null,k=V,N=!1}}var K=!1,re=null,pe=-1,Ie=5,st=-1;function Nt(){return!(s.unstable_now()-st<Ie)}function mt(){if(re!==null){var q=s.unstable_now();st=q;var te=!0;try{te=re(!0,q)}finally{te?it():(K=!1,re=null)}}else K=!1}var it;if(typeof $=="function")it=function(){$(mt)};else if(typeof MessageChannel<"u"){var vt=new MessageChannel,bt=vt.port2;vt.port1.onmessage=mt,it=function(){bt.postMessage(null)}}else it=function(){T(mt,0)};function Ze(q){re=q,K||(K=!0,it())}function B(q,te){pe=T(function(){q(s.unstable_now())},te)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_continueExecution=function(){R||N||(R=!0,Ze(J))},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ie=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return k},s.unstable_getFirstCallbackNode=function(){return r(m)},s.unstable_next=function(q){switch(k){case 1:case 2:case 3:var te=3;break;default:te=k}var V=k;k=te;try{return q()}finally{k=V}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(q,te){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var V=k;k=q;try{return te()}finally{k=V}},s.unstable_scheduleCallback=function(q,te,V){var S=s.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?S+V:S):V=S,q){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=V+L,q={id:y++,callback:te,priorityLevel:q,startTime:V,expirationTime:L,sortIndex:-1},V>S?(q.sortIndex=V,n(g,q),r(m)===null&&q===r(g)&&(E?(O(pe),pe=-1):E=!0,B(z,V-S))):(q.sortIndex=L,n(m,q),R||N||(R=!0,Ze(J))),q},s.unstable_shouldYield=Nt,s.unstable_wrapCallback=function(q){var te=k;return function(){var V=k;k=te;try{return q.apply(this,arguments)}finally{k=V}}}})(po)),po}var Jd;function pm(){return Jd||(Jd=1,fo.exports=fm()),fo.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gd;function mm(){if(Gd)return pt;Gd=1;var s=Mo(),n=pm();function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,c={};function u(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(c[e]=t,e=0;e<t.length;e++)l.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},x={};function k(e){return m.call(x,e)?!0:m.call(y,e)?!1:g.test(e)?x[e]=!0:(y[e]=!0,!1)}function N(e,t,a,o){if(a!==null&&a.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function R(e,t,a,o){if(t===null||typeof t>"u"||N(e,t,a,o))return!0;if(o)return!1;if(a!==null)switch(a.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function E(e,t,a,o,d,h,v){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=e,this.type=t,this.sanitizeURL=h,this.removeEmptyString=v}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){T[e]=new E(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];T[t]=new E(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){T[e]=new E(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){T[e]=new E(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){T[e]=new E(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){T[e]=new E(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){T[e]=new E(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){T[e]=new E(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){T[e]=new E(e,5,!1,e.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function $(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(O,$);T[t]=new E(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(O,$);T[t]=new E(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(O,$);T[t]=new E(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){T[e]=new E(e,1,!1,e.toLowerCase(),null,!1,!1)}),T.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){T[e]=new E(e,1,!1,e.toLowerCase(),null,!0,!0)});function I(e,t,a,o){var d=T.hasOwnProperty(t)?T[t]:null;(d!==null?d.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(R(t,a,d,o)&&(a=null),o||d===null?k(t)&&(a===null?e.removeAttribute(t):e.setAttribute(t,""+a)):d.mustUseProperty?e[d.propertyName]=a===null?d.type===3?!1:"":a:(t=d.attributeName,o=d.attributeNamespace,a===null?e.removeAttribute(t):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,o?e.setAttributeNS(o,t,a):e.setAttribute(t,a))))}var z=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),K=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),pe=Symbol.for("react.strict_mode"),Ie=Symbol.for("react.profiler"),st=Symbol.for("react.provider"),Nt=Symbol.for("react.context"),mt=Symbol.for("react.forward_ref"),it=Symbol.for("react.suspense"),vt=Symbol.for("react.suspense_list"),bt=Symbol.for("react.memo"),Ze=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),q=Symbol.iterator;function te(e){return e===null||typeof e!="object"?null:(e=q&&e[q]||e["@@iterator"],typeof e=="function"?e:null)}var V=Object.assign,S;function L(e){if(S===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);S=t&&t[1]||""}return`
`+S+e}var ce=!1;function he(e,t){if(!e||ce)return"";ce=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(P){var o=P}Reflect.construct(e,[],t)}else{try{t.call()}catch(P){o=P}e.call(t.prototype)}else{try{throw Error()}catch(P){o=P}e()}}catch(P){if(P&&o&&typeof P.stack=="string"){for(var d=P.stack.split(`
`),h=o.stack.split(`
`),v=d.length-1,w=h.length-1;1<=v&&0<=w&&d[v]!==h[w];)w--;for(;1<=v&&0<=w;v--,w--)if(d[v]!==h[w]){if(v!==1||w!==1)do if(v--,w--,0>w||d[v]!==h[w]){var j=`
`+d[v].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=v&&0<=w);break}}}finally{ce=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?L(e):""}function me(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=he(e.type,!1),e;case 11:return e=he(e.type.render,!1),e;case 1:return e=he(e.type,!0),e;default:return""}}function ve(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case re:return"Fragment";case K:return"Portal";case Ie:return"Profiler";case pe:return"StrictMode";case it:return"Suspense";case vt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Nt:return(e.displayName||"Context")+".Consumer";case st:return(e._context.displayName||"Context")+".Provider";case mt:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bt:return t=e.displayName||null,t!==null?t:ve(e.type)||"Memo";case Ze:t=e._payload,e=e._init;try{return ve(e(t))}catch{}}return null}function je(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(t);case 8:return t===pe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function we(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ee(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gt(e){var t=Ee(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,h=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(v){o=""+v,h.call(this,v)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fs(e){e._valueTracker||(e._valueTracker=gt(e))}function Go(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),o="";return e&&(o=Ee(e)?e.checked?"true":"false":e.value),e=o,e!==a?(t.setValue(e),!0):!1}function Ws(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function va(e,t){var a=t.checked;return V({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function Qo(e,t){var a=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;a=we(t.value!=null?t.value:a),e._wrapperState={initialChecked:o,initialValue:a,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Yo(e,t){t=t.checked,t!=null&&I(e,"checked",t,!1)}function ga(e,t){Yo(e,t);var a=we(t.value),o=t.type;if(a!=null)o==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ya(e,t.type,a):t.hasOwnProperty("defaultValue")&&ya(e,t.type,we(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Xo(e,t,a){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,a||t===e.value||(e.value=t),e.defaultValue=t}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function ya(e,t,a){(t!=="number"||Ws(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var Vr=Array.isArray;function tr(e,t,a,o){if(e=e.options,t){t={};for(var d=0;d<a.length;d++)t["$"+a[d]]=!0;for(a=0;a<e.length;a++)d=t.hasOwnProperty("$"+e[a].value),e[a].selected!==d&&(e[a].selected=d),d&&o&&(e[a].defaultSelected=!0)}else{for(a=""+we(a),t=null,d=0;d<e.length;d++){if(e[d].value===a){e[d].selected=!0,o&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function wa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(r(91));return V({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zo(e,t){var a=t.value;if(a==null){if(a=t.children,t=t.defaultValue,a!=null){if(t!=null)throw Error(r(92));if(Vr(a)){if(1<a.length)throw Error(r(93));a=a[0]}t=a}t==null&&(t=""),a=t}e._wrapperState={initialValue:we(a)}}function ec(e,t){var a=we(t.value),o=we(t.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),t.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),o!=null&&(e.defaultValue=""+o)}function tc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function nc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?nc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vs,rc=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,a,o,d){MSApp.execUnsafeLocalFunction(function(){return e(t,a,o,d)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Vs=Vs||document.createElement("div"),Vs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Vs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Hr(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hf=["Webkit","ms","Moz","O"];Object.keys(Kr).forEach(function(e){hf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kr[t]=Kr[e]})});function sc(e,t,a){return t==null||typeof t=="boolean"||t===""?"":a||typeof t!="number"||t===0||Kr.hasOwnProperty(e)&&Kr[e]?(""+t).trim():t+"px"}function ic(e,t){e=e.style;for(var a in t)if(t.hasOwnProperty(a)){var o=a.indexOf("--")===0,d=sc(a,t[a],o);a==="float"&&(a="cssFloat"),o?e.setProperty(a,d):e[a]=d}}var ff=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ja(e,t){if(t){if(ff[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(r(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(t.style!=null&&typeof t.style!="object")throw Error(r(62))}}function _a(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ka=null;function Sa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Na=null,nr=null,rr=null;function ac(e){if(e=ms(e)){if(typeof Na!="function")throw Error(r(280));var t=e.stateNode;t&&(t=pi(t),Na(e.stateNode,e.type,t))}}function lc(e){nr?rr?rr.push(e):rr=[e]:nr=e}function oc(){if(nr){var e=nr,t=rr;if(rr=nr=null,ac(e),t)for(e=0;e<t.length;e++)ac(t[e])}}function cc(e,t){return e(t)}function uc(){}var ba=!1;function dc(e,t,a){if(ba)return e(t,a);ba=!0;try{return cc(e,t,a)}finally{ba=!1,(nr!==null||rr!==null)&&(uc(),oc())}}function Jr(e,t){var a=e.stateNode;if(a===null)return null;var o=pi(a);if(o===null)return null;a=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var Ea=!1;if(p)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){Ea=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch{Ea=!1}function pf(e,t,a,o,d,h,v,w,j){var P=Array.prototype.slice.call(arguments,3);try{t.apply(a,P)}catch(U){this.onError(U)}}var Qr=!1,Hs=null,Ks=!1,Ca=null,mf={onError:function(e){Qr=!0,Hs=e}};function vf(e,t,a,o,d,h,v,w,j){Qr=!1,Hs=null,pf.apply(mf,arguments)}function gf(e,t,a,o,d,h,v,w,j){if(vf.apply(this,arguments),Qr){if(Qr){var P=Hs;Qr=!1,Hs=null}else throw Error(r(198));Ks||(Ks=!0,Ca=P)}}function In(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function hc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fc(e){if(In(e)!==e)throw Error(r(188))}function yf(e){var t=e.alternate;if(!t){if(t=In(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,o=t;;){var d=a.return;if(d===null)break;var h=d.alternate;if(h===null){if(o=d.return,o!==null){a=o;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===a)return fc(d),e;if(h===o)return fc(d),t;h=h.sibling}throw Error(r(188))}if(a.return!==o.return)a=d,o=h;else{for(var v=!1,w=d.child;w;){if(w===a){v=!0,a=d,o=h;break}if(w===o){v=!0,o=d,a=h;break}w=w.sibling}if(!v){for(w=h.child;w;){if(w===a){v=!0,a=h,o=d;break}if(w===o){v=!0,o=h,a=d;break}w=w.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function pc(e){return e=yf(e),e!==null?mc(e):null}function mc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=mc(e);if(t!==null)return t;e=e.sibling}return null}var vc=n.unstable_scheduleCallback,gc=n.unstable_cancelCallback,wf=n.unstable_shouldYield,xf=n.unstable_requestPaint,Le=n.unstable_now,jf=n.unstable_getCurrentPriorityLevel,Ta=n.unstable_ImmediatePriority,yc=n.unstable_UserBlockingPriority,Js=n.unstable_NormalPriority,_f=n.unstable_LowPriority,wc=n.unstable_IdlePriority,Gs=null,Wt=null;function kf(e){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(Gs,e,void 0,(e.current.flags&128)===128)}catch{}}var At=Math.clz32?Math.clz32:bf,Sf=Math.log,Nf=Math.LN2;function bf(e){return e>>>=0,e===0?32:31-(Sf(e)/Nf|0)|0}var Qs=64,Ys=4194304;function Yr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xs(e,t){var a=e.pendingLanes;if(a===0)return 0;var o=0,d=e.suspendedLanes,h=e.pingedLanes,v=a&268435455;if(v!==0){var w=v&~d;w!==0?o=Yr(w):(h&=v,h!==0&&(o=Yr(h)))}else v=a&~d,v!==0?o=Yr(v):h!==0&&(o=Yr(h));if(o===0)return 0;if(t!==0&&t!==o&&(t&d)===0&&(d=o&-o,h=t&-t,d>=h||d===16&&(h&4194240)!==0))return t;if((o&4)!==0&&(o|=a&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)a=31-At(t),d=1<<a,o|=e[a],t&=~d;return o}function Ef(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cf(e,t){for(var a=e.suspendedLanes,o=e.pingedLanes,d=e.expirationTimes,h=e.pendingLanes;0<h;){var v=31-At(h),w=1<<v,j=d[v];j===-1?((w&a)===0||(w&o)!==0)&&(d[v]=Ef(w,t)):j<=t&&(e.expiredLanes|=w),h&=~w}}function Ra(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xc(){var e=Qs;return Qs<<=1,(Qs&4194240)===0&&(Qs=64),e}function Pa(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Xr(e,t,a){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-At(t),e[t]=a}function Tf(e,t){var a=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<a;){var d=31-At(a),h=1<<d;t[d]=0,o[d]=-1,e[d]=-1,a&=~h}}function Oa(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var o=31-At(a),d=1<<o;d&t|e[o]&t&&(e[o]|=t),a&=~d}}var xe=0;function jc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var _c,Aa,kc,Sc,Nc,Ia=!1,Zs=[],on=null,cn=null,un=null,Zr=new Map,es=new Map,dn=[],Rf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bc(e,t){switch(e){case"focusin":case"focusout":on=null;break;case"dragenter":case"dragleave":cn=null;break;case"mouseover":case"mouseout":un=null;break;case"pointerover":case"pointerout":Zr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":es.delete(t.pointerId)}}function ts(e,t,a,o,d,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:a,eventSystemFlags:o,nativeEvent:h,targetContainers:[d]},t!==null&&(t=ms(t),t!==null&&Aa(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function Pf(e,t,a,o,d){switch(t){case"focusin":return on=ts(on,e,t,a,o,d),!0;case"dragenter":return cn=ts(cn,e,t,a,o,d),!0;case"mouseover":return un=ts(un,e,t,a,o,d),!0;case"pointerover":var h=d.pointerId;return Zr.set(h,ts(Zr.get(h)||null,e,t,a,o,d)),!0;case"gotpointercapture":return h=d.pointerId,es.set(h,ts(es.get(h)||null,e,t,a,o,d)),!0}return!1}function Ec(e){var t=$n(e.target);if(t!==null){var a=In(t);if(a!==null){if(t=a.tag,t===13){if(t=hc(a),t!==null){e.blockedOn=t,Nc(e.priority,function(){kc(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ei(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Da(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);ka=o,a.target.dispatchEvent(o),ka=null}else return t=ms(a),t!==null&&Aa(t),e.blockedOn=a,!1;t.shift()}return!0}function Cc(e,t,a){ei(e)&&a.delete(t)}function Of(){Ia=!1,on!==null&&ei(on)&&(on=null),cn!==null&&ei(cn)&&(cn=null),un!==null&&ei(un)&&(un=null),Zr.forEach(Cc),es.forEach(Cc)}function ns(e,t){e.blockedOn===t&&(e.blockedOn=null,Ia||(Ia=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Of)))}function rs(e){function t(d){return ns(d,e)}if(0<Zs.length){ns(Zs[0],e);for(var a=1;a<Zs.length;a++){var o=Zs[a];o.blockedOn===e&&(o.blockedOn=null)}}for(on!==null&&ns(on,e),cn!==null&&ns(cn,e),un!==null&&ns(un,e),Zr.forEach(t),es.forEach(t),a=0;a<dn.length;a++)o=dn[a],o.blockedOn===e&&(o.blockedOn=null);for(;0<dn.length&&(a=dn[0],a.blockedOn===null);)Ec(a),a.blockedOn===null&&dn.shift()}var sr=z.ReactCurrentBatchConfig,ti=!0;function Af(e,t,a,o){var d=xe,h=sr.transition;sr.transition=null;try{xe=1,$a(e,t,a,o)}finally{xe=d,sr.transition=h}}function If(e,t,a,o){var d=xe,h=sr.transition;sr.transition=null;try{xe=4,$a(e,t,a,o)}finally{xe=d,sr.transition=h}}function $a(e,t,a,o){if(ti){var d=Da(e,t,a,o);if(d===null)Za(e,t,o,ni,a),bc(e,o);else if(Pf(d,e,t,a,o))o.stopPropagation();else if(bc(e,o),t&4&&-1<Rf.indexOf(e)){for(;d!==null;){var h=ms(d);if(h!==null&&_c(h),h=Da(e,t,a,o),h===null&&Za(e,t,o,ni,a),h===d)break;d=h}d!==null&&o.stopPropagation()}else Za(e,t,o,null,a)}}var ni=null;function Da(e,t,a,o){if(ni=null,e=Sa(o),e=$n(e),e!==null)if(t=In(e),t===null)e=null;else if(a=t.tag,a===13){if(e=hc(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ni=e,null}function Tc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jf()){case Ta:return 1;case yc:return 4;case Js:case _f:return 16;case wc:return 536870912;default:return 16}default:return 16}}var hn=null,La=null,ri=null;function Rc(){if(ri)return ri;var e,t=La,a=t.length,o,d="value"in hn?hn.value:hn.textContent,h=d.length;for(e=0;e<a&&t[e]===d[e];e++);var v=a-e;for(o=1;o<=v&&t[a-o]===d[h-o];o++);return ri=d.slice(e,1<o?1-o:void 0)}function si(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ii(){return!0}function Pc(){return!1}function yt(e){function t(a,o,d,h,v){this._reactName=a,this._targetInst=d,this.type=o,this.nativeEvent=h,this.target=v,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(a=e[w],this[w]=a?a(h):h[w]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?ii:Pc,this.isPropagationStopped=Pc,this}return V(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),t}var ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ua=yt(ir),ss=V({},ir,{view:0,detail:0}),$f=yt(ss),za,Ma,is,ai=V({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==is&&(is&&e.type==="mousemove"?(za=e.screenX-is.screenX,Ma=e.screenY-is.screenY):Ma=za=0,is=e),za)},movementY:function(e){return"movementY"in e?e.movementY:Ma}}),Oc=yt(ai),Df=V({},ai,{dataTransfer:0}),Lf=yt(Df),Uf=V({},ss,{relatedTarget:0}),Ba=yt(Uf),zf=V({},ir,{animationName:0,elapsedTime:0,pseudoElement:0}),Mf=yt(zf),Bf=V({},ir,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qf=yt(Bf),Ff=V({},ir,{data:0}),Ac=yt(Ff),Wf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Hf[e])?!!t[e]:!1}function qa(){return Kf}var Jf=V({},ss,{key:function(e){if(e.key){var t=Wf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=si(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qa,charCode:function(e){return e.type==="keypress"?si(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?si(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gf=yt(Jf),Qf=V({},ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ic=yt(Qf),Yf=V({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qa}),Xf=yt(Yf),Zf=V({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),ep=yt(Zf),tp=V({},ai,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),np=yt(tp),rp=[9,13,27,32],Fa=p&&"CompositionEvent"in window,as=null;p&&"documentMode"in document&&(as=document.documentMode);var sp=p&&"TextEvent"in window&&!as,$c=p&&(!Fa||as&&8<as&&11>=as),Dc=" ",Lc=!1;function Uc(e,t){switch(e){case"keyup":return rp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ar=!1;function ip(e,t){switch(e){case"compositionend":return zc(t);case"keypress":return t.which!==32?null:(Lc=!0,Dc);case"textInput":return e=t.data,e===Dc&&Lc?null:e;default:return null}}function ap(e,t){if(ar)return e==="compositionend"||!Fa&&Uc(e,t)?(e=Rc(),ri=La=hn=null,ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $c&&t.locale!=="ko"?null:t.data;default:return null}}var lp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lp[e.type]:t==="textarea"}function Bc(e,t,a,o){lc(o),t=di(t,"onChange"),0<t.length&&(a=new Ua("onChange","change",null,a,o),e.push({event:a,listeners:t}))}var ls=null,os=null;function op(e){iu(e,0)}function li(e){var t=dr(e);if(Go(t))return e}function cp(e,t){if(e==="change")return t}var qc=!1;if(p){var Wa;if(p){var Va="oninput"in document;if(!Va){var Fc=document.createElement("div");Fc.setAttribute("oninput","return;"),Va=typeof Fc.oninput=="function"}Wa=Va}else Wa=!1;qc=Wa&&(!document.documentMode||9<document.documentMode)}function Wc(){ls&&(ls.detachEvent("onpropertychange",Vc),os=ls=null)}function Vc(e){if(e.propertyName==="value"&&li(os)){var t=[];Bc(t,os,e,Sa(e)),dc(op,t)}}function up(e,t,a){e==="focusin"?(Wc(),ls=t,os=a,ls.attachEvent("onpropertychange",Vc)):e==="focusout"&&Wc()}function dp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return li(os)}function hp(e,t){if(e==="click")return li(t)}function fp(e,t){if(e==="input"||e==="change")return li(t)}function pp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var It=typeof Object.is=="function"?Object.is:pp;function cs(e,t){if(It(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var d=a[o];if(!m.call(t,d)||!It(e[d],t[d]))return!1}return!0}function Hc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kc(e,t){var a=Hc(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=t&&o>=t)return{node:a,offset:t-e};e=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Hc(a)}}function Jc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gc(){for(var e=window,t=Ws();t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Ws(e.document)}return t}function Ha(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function mp(e){var t=Gc(),a=e.focusedElem,o=e.selectionRange;if(t!==a&&a&&a.ownerDocument&&Jc(a.ownerDocument.documentElement,a)){if(o!==null&&Ha(a)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in a)a.selectionStart=t,a.selectionEnd=Math.min(e,a.value.length);else if(e=(t=a.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var d=a.textContent.length,h=Math.min(o.start,d);o=o.end===void 0?h:Math.min(o.end,d),!e.extend&&h>o&&(d=o,o=h,h=d),d=Kc(a,h);var v=Kc(a,o);d&&v&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==v.node||e.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),e.removeAllRanges(),h>o?(e.addRange(t),e.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),e.addRange(t)))}}for(t=[],e=a;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<t.length;a++)e=t[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vp=p&&"documentMode"in document&&11>=document.documentMode,lr=null,Ka=null,us=null,Ja=!1;function Qc(e,t,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ja||lr==null||lr!==Ws(o)||(o=lr,"selectionStart"in o&&Ha(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),us&&cs(us,o)||(us=o,o=di(Ka,"onSelect"),0<o.length&&(t=new Ua("onSelect","select",null,t,a),e.push({event:t,listeners:o}),t.target=lr)))}function oi(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var or={animationend:oi("Animation","AnimationEnd"),animationiteration:oi("Animation","AnimationIteration"),animationstart:oi("Animation","AnimationStart"),transitionend:oi("Transition","TransitionEnd")},Ga={},Yc={};p&&(Yc=document.createElement("div").style,"AnimationEvent"in window||(delete or.animationend.animation,delete or.animationiteration.animation,delete or.animationstart.animation),"TransitionEvent"in window||delete or.transitionend.transition);function ci(e){if(Ga[e])return Ga[e];if(!or[e])return e;var t=or[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Yc)return Ga[e]=t[a];return e}var Xc=ci("animationend"),Zc=ci("animationiteration"),eu=ci("animationstart"),tu=ci("transitionend"),nu=new Map,ru="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fn(e,t){nu.set(e,t),u(t,[e])}for(var Qa=0;Qa<ru.length;Qa++){var Ya=ru[Qa],gp=Ya.toLowerCase(),yp=Ya[0].toUpperCase()+Ya.slice(1);fn(gp,"on"+yp)}fn(Xc,"onAnimationEnd"),fn(Zc,"onAnimationIteration"),fn(eu,"onAnimationStart"),fn("dblclick","onDoubleClick"),fn("focusin","onFocus"),fn("focusout","onBlur"),fn(tu,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wp=new Set("cancel close invalid load scroll toggle".split(" ").concat(ds));function su(e,t,a){var o=e.type||"unknown-event";e.currentTarget=a,gf(o,t,void 0,e),e.currentTarget=null}function iu(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],d=o.event;o=o.listeners;e:{var h=void 0;if(t)for(var v=o.length-1;0<=v;v--){var w=o[v],j=w.instance,P=w.currentTarget;if(w=w.listener,j!==h&&d.isPropagationStopped())break e;su(d,w,P),h=j}else for(v=0;v<o.length;v++){if(w=o[v],j=w.instance,P=w.currentTarget,w=w.listener,j!==h&&d.isPropagationStopped())break e;su(d,w,P),h=j}}}if(Ks)throw e=Ca,Ks=!1,Ca=null,e}function Ne(e,t){var a=t[il];a===void 0&&(a=t[il]=new Set);var o=e+"__bubble";a.has(o)||(au(t,e,2,!1),a.add(o))}function Xa(e,t,a){var o=0;t&&(o|=4),au(a,e,o,t)}var ui="_reactListening"+Math.random().toString(36).slice(2);function hs(e){if(!e[ui]){e[ui]=!0,l.forEach(function(a){a!=="selectionchange"&&(wp.has(a)||Xa(a,!1,e),Xa(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ui]||(t[ui]=!0,Xa("selectionchange",!1,t))}}function au(e,t,a,o){switch(Tc(t)){case 1:var d=Af;break;case 4:d=If;break;default:d=$a}a=d.bind(null,t,a,e),d=void 0,!Ea||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),o?d!==void 0?e.addEventListener(t,a,{capture:!0,passive:d}):e.addEventListener(t,a,!0):d!==void 0?e.addEventListener(t,a,{passive:d}):e.addEventListener(t,a,!1)}function Za(e,t,a,o,d){var h=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var w=o.stateNode.containerInfo;if(w===d||w.nodeType===8&&w.parentNode===d)break;if(v===4)for(v=o.return;v!==null;){var j=v.tag;if((j===3||j===4)&&(j=v.stateNode.containerInfo,j===d||j.nodeType===8&&j.parentNode===d))return;v=v.return}for(;w!==null;){if(v=$n(w),v===null)return;if(j=v.tag,j===5||j===6){o=h=v;continue e}w=w.parentNode}}o=o.return}dc(function(){var P=h,U=Sa(a),M=[];e:{var D=nu.get(e);if(D!==void 0){var G=Ua,Y=e;switch(e){case"keypress":if(si(a)===0)break e;case"keydown":case"keyup":G=Gf;break;case"focusin":Y="focus",G=Ba;break;case"focusout":Y="blur",G=Ba;break;case"beforeblur":case"afterblur":G=Ba;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Oc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Lf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Xf;break;case Xc:case Zc:case eu:G=Mf;break;case tu:G=ep;break;case"scroll":G=$f;break;case"wheel":G=np;break;case"copy":case"cut":case"paste":G=qf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Ic}var X=(t&4)!==0,Ue=!X&&e==="scroll",b=X?D!==null?D+"Capture":null:D;X=[];for(var _=P,C;_!==null;){C=_;var F=C.stateNode;if(C.tag===5&&F!==null&&(C=F,b!==null&&(F=Jr(_,b),F!=null&&X.push(fs(_,F,C)))),Ue)break;_=_.return}0<X.length&&(D=new G(D,Y,null,a,U),M.push({event:D,listeners:X}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",D&&a!==ka&&(Y=a.relatedTarget||a.fromElement)&&($n(Y)||Y[Qt]))break e;if((G||D)&&(D=U.window===U?U:(D=U.ownerDocument)?D.defaultView||D.parentWindow:window,G?(Y=a.relatedTarget||a.toElement,G=P,Y=Y?$n(Y):null,Y!==null&&(Ue=In(Y),Y!==Ue||Y.tag!==5&&Y.tag!==6)&&(Y=null)):(G=null,Y=P),G!==Y)){if(X=Oc,F="onMouseLeave",b="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(X=Ic,F="onPointerLeave",b="onPointerEnter",_="pointer"),Ue=G==null?D:dr(G),C=Y==null?D:dr(Y),D=new X(F,_+"leave",G,a,U),D.target=Ue,D.relatedTarget=C,F=null,$n(U)===P&&(X=new X(b,_+"enter",Y,a,U),X.target=C,X.relatedTarget=Ue,F=X),Ue=F,G&&Y)t:{for(X=G,b=Y,_=0,C=X;C;C=cr(C))_++;for(C=0,F=b;F;F=cr(F))C++;for(;0<_-C;)X=cr(X),_--;for(;0<C-_;)b=cr(b),C--;for(;_--;){if(X===b||b!==null&&X===b.alternate)break t;X=cr(X),b=cr(b)}X=null}else X=null;G!==null&&lu(M,D,G,X,!1),Y!==null&&Ue!==null&&lu(M,Ue,Y,X,!0)}}e:{if(D=P?dr(P):window,G=D.nodeName&&D.nodeName.toLowerCase(),G==="select"||G==="input"&&D.type==="file")var ee=cp;else if(Mc(D))if(qc)ee=fp;else{ee=dp;var se=up}else(G=D.nodeName)&&G.toLowerCase()==="input"&&(D.type==="checkbox"||D.type==="radio")&&(ee=hp);if(ee&&(ee=ee(e,P))){Bc(M,ee,a,U);break e}se&&se(e,D,P),e==="focusout"&&(se=D._wrapperState)&&se.controlled&&D.type==="number"&&ya(D,"number",D.value)}switch(se=P?dr(P):window,e){case"focusin":(Mc(se)||se.contentEditable==="true")&&(lr=se,Ka=P,us=null);break;case"focusout":us=Ka=lr=null;break;case"mousedown":Ja=!0;break;case"contextmenu":case"mouseup":case"dragend":Ja=!1,Qc(M,a,U);break;case"selectionchange":if(vp)break;case"keydown":case"keyup":Qc(M,a,U)}var ie;if(Fa)e:{switch(e){case"compositionstart":var oe="onCompositionStart";break e;case"compositionend":oe="onCompositionEnd";break e;case"compositionupdate":oe="onCompositionUpdate";break e}oe=void 0}else ar?Uc(e,a)&&(oe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(oe="onCompositionStart");oe&&($c&&a.locale!=="ko"&&(ar||oe!=="onCompositionStart"?oe==="onCompositionEnd"&&ar&&(ie=Rc()):(hn=U,La="value"in hn?hn.value:hn.textContent,ar=!0)),se=di(P,oe),0<se.length&&(oe=new Ac(oe,e,null,a,U),M.push({event:oe,listeners:se}),ie?oe.data=ie:(ie=zc(a),ie!==null&&(oe.data=ie)))),(ie=sp?ip(e,a):ap(e,a))&&(P=di(P,"onBeforeInput"),0<P.length&&(U=new Ac("onBeforeInput","beforeinput",null,a,U),M.push({event:U,listeners:P}),U.data=ie))}iu(M,t)})}function fs(e,t,a){return{instance:e,listener:t,currentTarget:a}}function di(e,t){for(var a=t+"Capture",o=[];e!==null;){var d=e,h=d.stateNode;d.tag===5&&h!==null&&(d=h,h=Jr(e,a),h!=null&&o.unshift(fs(e,h,d)),h=Jr(e,t),h!=null&&o.push(fs(e,h,d))),e=e.return}return o}function cr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lu(e,t,a,o,d){for(var h=t._reactName,v=[];a!==null&&a!==o;){var w=a,j=w.alternate,P=w.stateNode;if(j!==null&&j===o)break;w.tag===5&&P!==null&&(w=P,d?(j=Jr(a,h),j!=null&&v.unshift(fs(a,j,w))):d||(j=Jr(a,h),j!=null&&v.push(fs(a,j,w)))),a=a.return}v.length!==0&&e.push({event:t,listeners:v})}var xp=/\r\n?/g,jp=/\u0000|\uFFFD/g;function ou(e){return(typeof e=="string"?e:""+e).replace(xp,`
`).replace(jp,"")}function hi(e,t,a){if(t=ou(t),ou(e)!==t&&a)throw Error(r(425))}function fi(){}var el=null,tl=null;function nl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rl=typeof setTimeout=="function"?setTimeout:void 0,_p=typeof clearTimeout=="function"?clearTimeout:void 0,cu=typeof Promise=="function"?Promise:void 0,kp=typeof queueMicrotask=="function"?queueMicrotask:typeof cu<"u"?function(e){return cu.resolve(null).then(e).catch(Sp)}:rl;function Sp(e){setTimeout(function(){throw e})}function sl(e,t){var a=t,o=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(o===0){e.removeChild(d),rs(t);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=d}while(a);rs(t)}function pn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function uu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}var ur=Math.random().toString(36).slice(2),Vt="__reactFiber$"+ur,ps="__reactProps$"+ur,Qt="__reactContainer$"+ur,il="__reactEvents$"+ur,Np="__reactListeners$"+ur,bp="__reactHandles$"+ur;function $n(e){var t=e[Vt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Qt]||a[Vt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=uu(e);e!==null;){if(a=e[Vt])return a;e=uu(e)}return t}e=a,a=e.parentNode}return null}function ms(e){return e=e[Vt]||e[Qt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function dr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function pi(e){return e[ps]||null}var al=[],hr=-1;function mn(e){return{current:e}}function be(e){0>hr||(e.current=al[hr],al[hr]=null,hr--)}function _e(e,t){hr++,al[hr]=e.current,e.current=t}var vn={},et=mn(vn),ct=mn(!1),Dn=vn;function fr(e,t){var a=e.type.contextTypes;if(!a)return vn;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var d={},h;for(h in a)d[h]=t[h];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=d),d}function ut(e){return e=e.childContextTypes,e!=null}function mi(){be(ct),be(et)}function du(e,t,a){if(et.current!==vn)throw Error(r(168));_e(et,t),_e(ct,a)}function hu(e,t,a){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return a;o=o.getChildContext();for(var d in o)if(!(d in t))throw Error(r(108,je(e)||"Unknown",d));return V({},a,o)}function vi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vn,Dn=et.current,_e(et,e),_e(ct,ct.current),!0}function fu(e,t,a){var o=e.stateNode;if(!o)throw Error(r(169));a?(e=hu(e,t,Dn),o.__reactInternalMemoizedMergedChildContext=e,be(ct),be(et),_e(et,e)):be(ct),_e(ct,a)}var Yt=null,gi=!1,ll=!1;function pu(e){Yt===null?Yt=[e]:Yt.push(e)}function Ep(e){gi=!0,pu(e)}function gn(){if(!ll&&Yt!==null){ll=!0;var e=0,t=xe;try{var a=Yt;for(xe=1;e<a.length;e++){var o=a[e];do o=o(!0);while(o!==null)}Yt=null,gi=!1}catch(d){throw Yt!==null&&(Yt=Yt.slice(e+1)),vc(Ta,gn),d}finally{xe=t,ll=!1}}return null}var pr=[],mr=0,yi=null,wi=0,Et=[],Ct=0,Ln=null,Xt=1,Zt="";function Un(e,t){pr[mr++]=wi,pr[mr++]=yi,yi=e,wi=t}function mu(e,t,a){Et[Ct++]=Xt,Et[Ct++]=Zt,Et[Ct++]=Ln,Ln=e;var o=Xt;e=Zt;var d=32-At(o)-1;o&=~(1<<d),a+=1;var h=32-At(t)+d;if(30<h){var v=d-d%5;h=(o&(1<<v)-1).toString(32),o>>=v,d-=v,Xt=1<<32-At(t)+d|a<<d|o,Zt=h+e}else Xt=1<<h|a<<d|o,Zt=e}function ol(e){e.return!==null&&(Un(e,1),mu(e,1,0))}function cl(e){for(;e===yi;)yi=pr[--mr],pr[mr]=null,wi=pr[--mr],pr[mr]=null;for(;e===Ln;)Ln=Et[--Ct],Et[Ct]=null,Zt=Et[--Ct],Et[Ct]=null,Xt=Et[--Ct],Et[Ct]=null}var wt=null,xt=null,Ce=!1,$t=null;function vu(e,t){var a=Ot(5,null,null,0);a.elementType="DELETED",a.stateNode=t,a.return=e,t=e.deletions,t===null?(e.deletions=[a],e.flags|=16):t.push(a)}function gu(e,t){switch(e.tag){case 5:var a=e.type;return t=t.nodeType!==1||a.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wt=e,xt=pn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wt=e,xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(a=Ln!==null?{id:Xt,overflow:Zt}:null,e.memoizedState={dehydrated:t,treeContext:a,retryLane:1073741824},a=Ot(18,null,null,0),a.stateNode=t,a.return=e,e.child=a,wt=e,xt=null,!0):!1;default:return!1}}function ul(e){return(e.mode&1)!==0&&(e.flags&128)===0}function dl(e){if(Ce){var t=xt;if(t){var a=t;if(!gu(e,t)){if(ul(e))throw Error(r(418));t=pn(a.nextSibling);var o=wt;t&&gu(e,t)?vu(o,a):(e.flags=e.flags&-4097|2,Ce=!1,wt=e)}}else{if(ul(e))throw Error(r(418));e.flags=e.flags&-4097|2,Ce=!1,wt=e}}}function yu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wt=e}function xi(e){if(e!==wt)return!1;if(!Ce)return yu(e),Ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!nl(e.type,e.memoizedProps)),t&&(t=xt)){if(ul(e))throw wu(),Error(r(418));for(;t;)vu(e,t),t=pn(t.nextSibling)}if(yu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(t===0){xt=pn(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++}e=e.nextSibling}xt=null}}else xt=wt?pn(e.stateNode.nextSibling):null;return!0}function wu(){for(var e=xt;e;)e=pn(e.nextSibling)}function vr(){xt=wt=null,Ce=!1}function hl(e){$t===null?$t=[e]:$t.push(e)}var Cp=z.ReactCurrentBatchConfig;function vs(e,t,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(r(309));var o=a.stateNode}if(!o)throw Error(r(147,e));var d=o,h=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===h?t.ref:(t=function(v){var w=d.refs;v===null?delete w[h]:w[h]=v},t._stringRef=h,t)}if(typeof e!="string")throw Error(r(284));if(!a._owner)throw Error(r(290,e))}return e}function ji(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xu(e){var t=e._init;return t(e._payload)}function ju(e){function t(b,_){if(e){var C=b.deletions;C===null?(b.deletions=[_],b.flags|=16):C.push(_)}}function a(b,_){if(!e)return null;for(;_!==null;)t(b,_),_=_.sibling;return null}function o(b,_){for(b=new Map;_!==null;)_.key!==null?b.set(_.key,_):b.set(_.index,_),_=_.sibling;return b}function d(b,_){return b=Nn(b,_),b.index=0,b.sibling=null,b}function h(b,_,C){return b.index=C,e?(C=b.alternate,C!==null?(C=C.index,C<_?(b.flags|=2,_):C):(b.flags|=2,_)):(b.flags|=1048576,_)}function v(b){return e&&b.alternate===null&&(b.flags|=2),b}function w(b,_,C,F){return _===null||_.tag!==6?(_=ro(C,b.mode,F),_.return=b,_):(_=d(_,C),_.return=b,_)}function j(b,_,C,F){var ee=C.type;return ee===re?U(b,_,C.props.children,F,C.key):_!==null&&(_.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===Ze&&xu(ee)===_.type)?(F=d(_,C.props),F.ref=vs(b,_,C),F.return=b,F):(F=Vi(C.type,C.key,C.props,null,b.mode,F),F.ref=vs(b,_,C),F.return=b,F)}function P(b,_,C,F){return _===null||_.tag!==4||_.stateNode.containerInfo!==C.containerInfo||_.stateNode.implementation!==C.implementation?(_=so(C,b.mode,F),_.return=b,_):(_=d(_,C.children||[]),_.return=b,_)}function U(b,_,C,F,ee){return _===null||_.tag!==7?(_=Hn(C,b.mode,F,ee),_.return=b,_):(_=d(_,C),_.return=b,_)}function M(b,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return _=ro(""+_,b.mode,C),_.return=b,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case J:return C=Vi(_.type,_.key,_.props,null,b.mode,C),C.ref=vs(b,null,_),C.return=b,C;case K:return _=so(_,b.mode,C),_.return=b,_;case Ze:var F=_._init;return M(b,F(_._payload),C)}if(Vr(_)||te(_))return _=Hn(_,b.mode,C,null),_.return=b,_;ji(b,_)}return null}function D(b,_,C,F){var ee=_!==null?_.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return ee!==null?null:w(b,_,""+C,F);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case J:return C.key===ee?j(b,_,C,F):null;case K:return C.key===ee?P(b,_,C,F):null;case Ze:return ee=C._init,D(b,_,ee(C._payload),F)}if(Vr(C)||te(C))return ee!==null?null:U(b,_,C,F,null);ji(b,C)}return null}function G(b,_,C,F,ee){if(typeof F=="string"&&F!==""||typeof F=="number")return b=b.get(C)||null,w(_,b,""+F,ee);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case J:return b=b.get(F.key===null?C:F.key)||null,j(_,b,F,ee);case K:return b=b.get(F.key===null?C:F.key)||null,P(_,b,F,ee);case Ze:var se=F._init;return G(b,_,C,se(F._payload),ee)}if(Vr(F)||te(F))return b=b.get(C)||null,U(_,b,F,ee,null);ji(_,F)}return null}function Y(b,_,C,F){for(var ee=null,se=null,ie=_,oe=_=0,He=null;ie!==null&&oe<C.length;oe++){ie.index>oe?(He=ie,ie=null):He=ie.sibling;var ge=D(b,ie,C[oe],F);if(ge===null){ie===null&&(ie=He);break}e&&ie&&ge.alternate===null&&t(b,ie),_=h(ge,_,oe),se===null?ee=ge:se.sibling=ge,se=ge,ie=He}if(oe===C.length)return a(b,ie),Ce&&Un(b,oe),ee;if(ie===null){for(;oe<C.length;oe++)ie=M(b,C[oe],F),ie!==null&&(_=h(ie,_,oe),se===null?ee=ie:se.sibling=ie,se=ie);return Ce&&Un(b,oe),ee}for(ie=o(b,ie);oe<C.length;oe++)He=G(ie,b,oe,C[oe],F),He!==null&&(e&&He.alternate!==null&&ie.delete(He.key===null?oe:He.key),_=h(He,_,oe),se===null?ee=He:se.sibling=He,se=He);return e&&ie.forEach(function(bn){return t(b,bn)}),Ce&&Un(b,oe),ee}function X(b,_,C,F){var ee=te(C);if(typeof ee!="function")throw Error(r(150));if(C=ee.call(C),C==null)throw Error(r(151));for(var se=ee=null,ie=_,oe=_=0,He=null,ge=C.next();ie!==null&&!ge.done;oe++,ge=C.next()){ie.index>oe?(He=ie,ie=null):He=ie.sibling;var bn=D(b,ie,ge.value,F);if(bn===null){ie===null&&(ie=He);break}e&&ie&&bn.alternate===null&&t(b,ie),_=h(bn,_,oe),se===null?ee=bn:se.sibling=bn,se=bn,ie=He}if(ge.done)return a(b,ie),Ce&&Un(b,oe),ee;if(ie===null){for(;!ge.done;oe++,ge=C.next())ge=M(b,ge.value,F),ge!==null&&(_=h(ge,_,oe),se===null?ee=ge:se.sibling=ge,se=ge);return Ce&&Un(b,oe),ee}for(ie=o(b,ie);!ge.done;oe++,ge=C.next())ge=G(ie,b,oe,ge.value,F),ge!==null&&(e&&ge.alternate!==null&&ie.delete(ge.key===null?oe:ge.key),_=h(ge,_,oe),se===null?ee=ge:se.sibling=ge,se=ge);return e&&ie.forEach(function(lm){return t(b,lm)}),Ce&&Un(b,oe),ee}function Ue(b,_,C,F){if(typeof C=="object"&&C!==null&&C.type===re&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case J:e:{for(var ee=C.key,se=_;se!==null;){if(se.key===ee){if(ee=C.type,ee===re){if(se.tag===7){a(b,se.sibling),_=d(se,C.props.children),_.return=b,b=_;break e}}else if(se.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===Ze&&xu(ee)===se.type){a(b,se.sibling),_=d(se,C.props),_.ref=vs(b,se,C),_.return=b,b=_;break e}a(b,se);break}else t(b,se);se=se.sibling}C.type===re?(_=Hn(C.props.children,b.mode,F,C.key),_.return=b,b=_):(F=Vi(C.type,C.key,C.props,null,b.mode,F),F.ref=vs(b,_,C),F.return=b,b=F)}return v(b);case K:e:{for(se=C.key;_!==null;){if(_.key===se)if(_.tag===4&&_.stateNode.containerInfo===C.containerInfo&&_.stateNode.implementation===C.implementation){a(b,_.sibling),_=d(_,C.children||[]),_.return=b,b=_;break e}else{a(b,_);break}else t(b,_);_=_.sibling}_=so(C,b.mode,F),_.return=b,b=_}return v(b);case Ze:return se=C._init,Ue(b,_,se(C._payload),F)}if(Vr(C))return Y(b,_,C,F);if(te(C))return X(b,_,C,F);ji(b,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,_!==null&&_.tag===6?(a(b,_.sibling),_=d(_,C),_.return=b,b=_):(a(b,_),_=ro(C,b.mode,F),_.return=b,b=_),v(b)):a(b,_)}return Ue}var gr=ju(!0),_u=ju(!1),_i=mn(null),ki=null,yr=null,fl=null;function pl(){fl=yr=ki=null}function ml(e){var t=_i.current;be(_i),e._currentValue=t}function vl(e,t,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===a)break;e=e.return}}function wr(e,t){ki=e,fl=yr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(dt=!0),e.firstContext=null)}function Tt(e){var t=e._currentValue;if(fl!==e)if(e={context:e,memoizedValue:t,next:null},yr===null){if(ki===null)throw Error(r(308));yr=e,ki.dependencies={lanes:0,firstContext:e}}else yr=yr.next=e;return t}var zn=null;function gl(e){zn===null?zn=[e]:zn.push(e)}function ku(e,t,a,o){var d=t.interleaved;return d===null?(a.next=a,gl(t)):(a.next=d.next,d.next=a),t.interleaved=a,en(e,o)}function en(e,t){e.lanes|=t;var a=e.alternate;for(a!==null&&(a.lanes|=t),a=e,e=e.return;e!==null;)e.childLanes|=t,a=e.alternate,a!==null&&(a.childLanes|=t),a=e,e=e.return;return a.tag===3?a.stateNode:null}var yn=!1;function yl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Su(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function tn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function wn(e,t,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(fe&2)!==0){var d=o.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),o.pending=t,en(e,a)}return d=o.interleaved,d===null?(t.next=t,gl(o)):(t.next=d.next,d.next=t),o.interleaved=t,en(e,a)}function Si(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,a|=o,t.lanes=a,Oa(e,a)}}function Nu(e,t){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var d=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var v={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};h===null?d=h=v:h=h.next=v,a=a.next}while(a!==null);h===null?d=h=t:h=h.next=t}else d=h=t;a={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:o.shared,effects:o.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}function Ni(e,t,a,o){var d=e.updateQueue;yn=!1;var h=d.firstBaseUpdate,v=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var j=w,P=j.next;j.next=null,v===null?h=P:v.next=P,v=j;var U=e.alternate;U!==null&&(U=U.updateQueue,w=U.lastBaseUpdate,w!==v&&(w===null?U.firstBaseUpdate=P:w.next=P,U.lastBaseUpdate=j))}if(h!==null){var M=d.baseState;v=0,U=P=j=null,w=h;do{var D=w.lane,G=w.eventTime;if((o&D)===D){U!==null&&(U=U.next={eventTime:G,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var Y=e,X=w;switch(D=t,G=a,X.tag){case 1:if(Y=X.payload,typeof Y=="function"){M=Y.call(G,M,D);break e}M=Y;break e;case 3:Y.flags=Y.flags&-65537|128;case 0:if(Y=X.payload,D=typeof Y=="function"?Y.call(G,M,D):Y,D==null)break e;M=V({},M,D);break e;case 2:yn=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,D=d.effects,D===null?d.effects=[w]:D.push(w))}else G={eventTime:G,lane:D,tag:w.tag,payload:w.payload,callback:w.callback,next:null},U===null?(P=U=G,j=M):U=U.next=G,v|=D;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;D=w,w=D.next,D.next=null,d.lastBaseUpdate=D,d.shared.pending=null}}while(!0);if(U===null&&(j=M),d.baseState=j,d.firstBaseUpdate=P,d.lastBaseUpdate=U,t=d.shared.interleaved,t!==null){d=t;do v|=d.lane,d=d.next;while(d!==t)}else h===null&&(d.shared.lanes=0);qn|=v,e.lanes=v,e.memoizedState=M}}function bu(e,t,a){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],d=o.callback;if(d!==null){if(o.callback=null,o=a,typeof d!="function")throw Error(r(191,d));d.call(o)}}}var gs={},Ht=mn(gs),ys=mn(gs),ws=mn(gs);function Mn(e){if(e===gs)throw Error(r(174));return e}function wl(e,t){switch(_e(ws,t),_e(ys,e),_e(Ht,gs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xa(t,e)}be(Ht),_e(Ht,t)}function xr(){be(Ht),be(ys),be(ws)}function Eu(e){Mn(ws.current);var t=Mn(Ht.current),a=xa(t,e.type);t!==a&&(_e(ys,e),_e(Ht,a))}function xl(e){ys.current===e&&(be(Ht),be(ys))}var Re=mn(0);function bi(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jl=[];function _l(){for(var e=0;e<jl.length;e++)jl[e]._workInProgressVersionPrimary=null;jl.length=0}var Ei=z.ReactCurrentDispatcher,kl=z.ReactCurrentBatchConfig,Bn=0,Pe=null,Be=null,We=null,Ci=!1,xs=!1,js=0,Tp=0;function tt(){throw Error(r(321))}function Sl(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!It(e[a],t[a]))return!1;return!0}function Nl(e,t,a,o,d,h){if(Bn=h,Pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ei.current=e===null||e.memoizedState===null?Ap:Ip,e=a(o,d),xs){h=0;do{if(xs=!1,js=0,25<=h)throw Error(r(301));h+=1,We=Be=null,t.updateQueue=null,Ei.current=$p,e=a(o,d)}while(xs)}if(Ei.current=Pi,t=Be!==null&&Be.next!==null,Bn=0,We=Be=Pe=null,Ci=!1,t)throw Error(r(300));return e}function bl(){var e=js!==0;return js=0,e}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Pe.memoizedState=We=e:We=We.next=e,We}function Rt(){if(Be===null){var e=Pe.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=We===null?Pe.memoizedState:We.next;if(t!==null)We=t,Be=e;else{if(e===null)throw Error(r(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},We===null?Pe.memoizedState=We=e:We=We.next=e}return We}function _s(e,t){return typeof t=="function"?t(e):t}function El(e){var t=Rt(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=Be,d=o.baseQueue,h=a.pending;if(h!==null){if(d!==null){var v=d.next;d.next=h.next,h.next=v}o.baseQueue=d=h,a.pending=null}if(d!==null){h=d.next,o=o.baseState;var w=v=null,j=null,P=h;do{var U=P.lane;if((Bn&U)===U)j!==null&&(j=j.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),o=P.hasEagerState?P.eagerState:e(o,P.action);else{var M={lane:U,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};j===null?(w=j=M,v=o):j=j.next=M,Pe.lanes|=U,qn|=U}P=P.next}while(P!==null&&P!==h);j===null?v=o:j.next=w,It(o,t.memoizedState)||(dt=!0),t.memoizedState=o,t.baseState=v,t.baseQueue=j,a.lastRenderedState=o}if(e=a.interleaved,e!==null){d=e;do h=d.lane,Pe.lanes|=h,qn|=h,d=d.next;while(d!==e)}else d===null&&(a.lanes=0);return[t.memoizedState,a.dispatch]}function Cl(e){var t=Rt(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,d=a.pending,h=t.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do h=e(h,v.action),v=v.next;while(v!==d);It(h,t.memoizedState)||(dt=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),a.lastRenderedState=h}return[h,o]}function Cu(){}function Tu(e,t){var a=Pe,o=Rt(),d=t(),h=!It(o.memoizedState,d);if(h&&(o.memoizedState=d,dt=!0),o=o.queue,Tl(Ou.bind(null,a,o,e),[e]),o.getSnapshot!==t||h||We!==null&&We.memoizedState.tag&1){if(a.flags|=2048,ks(9,Pu.bind(null,a,o,d,t),void 0,null),Ve===null)throw Error(r(349));(Bn&30)!==0||Ru(a,t,d)}return d}function Ru(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Pu(e,t,a,o){t.value=a,t.getSnapshot=o,Au(t)&&Iu(e)}function Ou(e,t,a){return a(function(){Au(t)&&Iu(e)})}function Au(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!It(e,a)}catch{return!0}}function Iu(e){var t=en(e,1);t!==null&&zt(t,e,1,-1)}function $u(e){var t=Kt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:e},t.queue=e,e=e.dispatch=Op.bind(null,Pe,e),[t.memoizedState,e]}function ks(e,t,a,o){return e={tag:e,create:t,destroy:a,deps:o,next:null},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.lastEffect=e.next=e):(a=t.lastEffect,a===null?t.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,t.lastEffect=e)),e}function Du(){return Rt().memoizedState}function Ti(e,t,a,o){var d=Kt();Pe.flags|=e,d.memoizedState=ks(1|t,a,void 0,o===void 0?null:o)}function Ri(e,t,a,o){var d=Rt();o=o===void 0?null:o;var h=void 0;if(Be!==null){var v=Be.memoizedState;if(h=v.destroy,o!==null&&Sl(o,v.deps)){d.memoizedState=ks(t,a,h,o);return}}Pe.flags|=e,d.memoizedState=ks(1|t,a,h,o)}function Lu(e,t){return Ti(8390656,8,e,t)}function Tl(e,t){return Ri(2048,8,e,t)}function Uu(e,t){return Ri(4,2,e,t)}function zu(e,t){return Ri(4,4,e,t)}function Mu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Bu(e,t,a){return a=a!=null?a.concat([e]):null,Ri(4,4,Mu.bind(null,t,e),a)}function Rl(){}function qu(e,t){var a=Rt();t=t===void 0?null:t;var o=a.memoizedState;return o!==null&&t!==null&&Sl(t,o[1])?o[0]:(a.memoizedState=[e,t],e)}function Fu(e,t){var a=Rt();t=t===void 0?null:t;var o=a.memoizedState;return o!==null&&t!==null&&Sl(t,o[1])?o[0]:(e=e(),a.memoizedState=[e,t],e)}function Wu(e,t,a){return(Bn&21)===0?(e.baseState&&(e.baseState=!1,dt=!0),e.memoizedState=a):(It(a,t)||(a=xc(),Pe.lanes|=a,qn|=a,e.baseState=!0),t)}function Rp(e,t){var a=xe;xe=a!==0&&4>a?a:4,e(!0);var o=kl.transition;kl.transition={};try{e(!1),t()}finally{xe=a,kl.transition=o}}function Vu(){return Rt().memoizedState}function Pp(e,t,a){var o=kn(e);if(a={lane:o,action:a,hasEagerState:!1,eagerState:null,next:null},Hu(e))Ku(t,a);else if(a=ku(e,t,a,o),a!==null){var d=lt();zt(a,e,o,d),Ju(a,t,o)}}function Op(e,t,a){var o=kn(e),d={lane:o,action:a,hasEagerState:!1,eagerState:null,next:null};if(Hu(e))Ku(t,d);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var v=t.lastRenderedState,w=h(v,a);if(d.hasEagerState=!0,d.eagerState=w,It(w,v)){var j=t.interleaved;j===null?(d.next=d,gl(t)):(d.next=j.next,j.next=d),t.interleaved=d;return}}catch{}finally{}a=ku(e,t,d,o),a!==null&&(d=lt(),zt(a,e,o,d),Ju(a,t,o))}}function Hu(e){var t=e.alternate;return e===Pe||t!==null&&t===Pe}function Ku(e,t){xs=Ci=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Ju(e,t,a){if((a&4194240)!==0){var o=t.lanes;o&=e.pendingLanes,a|=o,t.lanes=a,Oa(e,a)}}var Pi={readContext:Tt,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},Ap={readContext:Tt,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:Lu,useImperativeHandle:function(e,t,a){return a=a!=null?a.concat([e]):null,Ti(4194308,4,Mu.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ti(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ti(4,2,e,t)},useMemo:function(e,t){var a=Kt();return t=t===void 0?null:t,e=e(),a.memoizedState=[e,t],e},useReducer:function(e,t,a){var o=Kt();return t=a!==void 0?a(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=Pp.bind(null,Pe,e),[o.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:$u,useDebugValue:Rl,useDeferredValue:function(e){return Kt().memoizedState=e},useTransition:function(){var e=$u(!1),t=e[0];return e=Rp.bind(null,e[1]),Kt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,a){var o=Pe,d=Kt();if(Ce){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),Ve===null)throw Error(r(349));(Bn&30)!==0||Ru(o,t,a)}d.memoizedState=a;var h={value:a,getSnapshot:t};return d.queue=h,Lu(Ou.bind(null,o,h,e),[e]),o.flags|=2048,ks(9,Pu.bind(null,o,h,a,t),void 0,null),a},useId:function(){var e=Kt(),t=Ve.identifierPrefix;if(Ce){var a=Zt,o=Xt;a=(o&~(1<<32-At(o)-1)).toString(32)+a,t=":"+t+"R"+a,a=js++,0<a&&(t+="H"+a.toString(32)),t+=":"}else a=Tp++,t=":"+t+"r"+a.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ip={readContext:Tt,useCallback:qu,useContext:Tt,useEffect:Tl,useImperativeHandle:Bu,useInsertionEffect:Uu,useLayoutEffect:zu,useMemo:Fu,useReducer:El,useRef:Du,useState:function(){return El(_s)},useDebugValue:Rl,useDeferredValue:function(e){var t=Rt();return Wu(t,Be.memoizedState,e)},useTransition:function(){var e=El(_s)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:Cu,useSyncExternalStore:Tu,useId:Vu,unstable_isNewReconciler:!1},$p={readContext:Tt,useCallback:qu,useContext:Tt,useEffect:Tl,useImperativeHandle:Bu,useInsertionEffect:Uu,useLayoutEffect:zu,useMemo:Fu,useReducer:Cl,useRef:Du,useState:function(){return Cl(_s)},useDebugValue:Rl,useDeferredValue:function(e){var t=Rt();return Be===null?t.memoizedState=e:Wu(t,Be.memoizedState,e)},useTransition:function(){var e=Cl(_s)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:Cu,useSyncExternalStore:Tu,useId:Vu,unstable_isNewReconciler:!1};function Dt(e,t){if(e&&e.defaultProps){t=V({},t),e=e.defaultProps;for(var a in e)t[a]===void 0&&(t[a]=e[a]);return t}return t}function Pl(e,t,a,o){t=e.memoizedState,a=a(o,t),a=a==null?t:V({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Oi={isMounted:function(e){return(e=e._reactInternals)?In(e)===e:!1},enqueueSetState:function(e,t,a){e=e._reactInternals;var o=lt(),d=kn(e),h=tn(o,d);h.payload=t,a!=null&&(h.callback=a),t=wn(e,h,d),t!==null&&(zt(t,e,d,o),Si(t,e,d))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var o=lt(),d=kn(e),h=tn(o,d);h.tag=1,h.payload=t,a!=null&&(h.callback=a),t=wn(e,h,d),t!==null&&(zt(t,e,d,o),Si(t,e,d))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=lt(),o=kn(e),d=tn(a,o);d.tag=2,t!=null&&(d.callback=t),t=wn(e,d,o),t!==null&&(zt(t,e,o,a),Si(t,e,o))}};function Gu(e,t,a,o,d,h,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,h,v):t.prototype&&t.prototype.isPureReactComponent?!cs(a,o)||!cs(d,h):!0}function Qu(e,t,a){var o=!1,d=vn,h=t.contextType;return typeof h=="object"&&h!==null?h=Tt(h):(d=ut(t)?Dn:et.current,o=t.contextTypes,h=(o=o!=null)?fr(e,d):vn),t=new t(a,h),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Oi,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=h),t}function Yu(e,t,a,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,o),t.state!==e&&Oi.enqueueReplaceState(t,t.state,null)}function Ol(e,t,a,o){var d=e.stateNode;d.props=a,d.state=e.memoizedState,d.refs={},yl(e);var h=t.contextType;typeof h=="object"&&h!==null?d.context=Tt(h):(h=ut(t)?Dn:et.current,d.context=fr(e,h)),d.state=e.memoizedState,h=t.getDerivedStateFromProps,typeof h=="function"&&(Pl(e,t,h,a),d.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(t=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),t!==d.state&&Oi.enqueueReplaceState(d,d.state,null),Ni(e,a,d,o),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function jr(e,t){try{var a="",o=t;do a+=me(o),o=o.return;while(o);var d=a}catch(h){d=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:t,stack:d,digest:null}}function Al(e,t,a){return{value:e,source:null,stack:a??null,digest:t??null}}function Il(e,t){try{console.error(t.value)}catch(a){setTimeout(function(){throw a})}}var Dp=typeof WeakMap=="function"?WeakMap:Map;function Xu(e,t,a){a=tn(-1,a),a.tag=3,a.payload={element:null};var o=t.value;return a.callback=function(){zi||(zi=!0,Gl=o),Il(e,t)},a}function Zu(e,t,a){a=tn(-1,a),a.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var d=t.value;a.payload=function(){return o(d)},a.callback=function(){Il(e,t)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(a.callback=function(){Il(e,t),typeof o!="function"&&(jn===null?jn=new Set([this]):jn.add(this));var v=t.stack;this.componentDidCatch(t.value,{componentStack:v!==null?v:""})}),a}function ed(e,t,a){var o=e.pingCache;if(o===null){o=e.pingCache=new Dp;var d=new Set;o.set(t,d)}else d=o.get(t),d===void 0&&(d=new Set,o.set(t,d));d.has(a)||(d.add(a),e=Qp.bind(null,e,t,a),t.then(e,e))}function td(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nd(e,t,a,o,d){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(t=tn(-1,1),t.tag=2,wn(a,t,1))),a.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var Lp=z.ReactCurrentOwner,dt=!1;function at(e,t,a,o){t.child=e===null?_u(t,null,a,o):gr(t,e.child,a,o)}function rd(e,t,a,o,d){a=a.render;var h=t.ref;return wr(t,d),o=Nl(e,t,a,o,h,d),a=bl(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,nn(e,t,d)):(Ce&&a&&ol(t),t.flags|=1,at(e,t,o,d),t.child)}function sd(e,t,a,o,d){if(e===null){var h=a.type;return typeof h=="function"&&!no(h)&&h.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(t.tag=15,t.type=h,id(e,t,h,o,d)):(e=Vi(a.type,null,o,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,(e.lanes&d)===0){var v=h.memoizedProps;if(a=a.compare,a=a!==null?a:cs,a(v,o)&&e.ref===t.ref)return nn(e,t,d)}return t.flags|=1,e=Nn(h,o),e.ref=t.ref,e.return=t,t.child=e}function id(e,t,a,o,d){if(e!==null){var h=e.memoizedProps;if(cs(h,o)&&e.ref===t.ref)if(dt=!1,t.pendingProps=o=h,(e.lanes&d)!==0)(e.flags&131072)!==0&&(dt=!0);else return t.lanes=e.lanes,nn(e,t,d)}return $l(e,t,a,o,d)}function ad(e,t,a){var o=t.pendingProps,d=o.children,h=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(kr,jt),jt|=a;else{if((a&1073741824)===0)return e=h!==null?h.baseLanes|a:a,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_e(kr,jt),jt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=h!==null?h.baseLanes:a,_e(kr,jt),jt|=o}else h!==null?(o=h.baseLanes|a,t.memoizedState=null):o=a,_e(kr,jt),jt|=o;return at(e,t,d,a),t.child}function ld(e,t){var a=t.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(t.flags|=512,t.flags|=2097152)}function $l(e,t,a,o,d){var h=ut(a)?Dn:et.current;return h=fr(t,h),wr(t,d),a=Nl(e,t,a,o,h,d),o=bl(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,nn(e,t,d)):(Ce&&o&&ol(t),t.flags|=1,at(e,t,a,d),t.child)}function od(e,t,a,o,d){if(ut(a)){var h=!0;vi(t)}else h=!1;if(wr(t,d),t.stateNode===null)Ii(e,t),Qu(t,a,o),Ol(t,a,o,d),o=!0;else if(e===null){var v=t.stateNode,w=t.memoizedProps;v.props=w;var j=v.context,P=a.contextType;typeof P=="object"&&P!==null?P=Tt(P):(P=ut(a)?Dn:et.current,P=fr(t,P));var U=a.getDerivedStateFromProps,M=typeof U=="function"||typeof v.getSnapshotBeforeUpdate=="function";M||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w!==o||j!==P)&&Yu(t,v,o,P),yn=!1;var D=t.memoizedState;v.state=D,Ni(t,o,v,d),j=t.memoizedState,w!==o||D!==j||ct.current||yn?(typeof U=="function"&&(Pl(t,a,U,o),j=t.memoizedState),(w=yn||Gu(t,a,w,o,D,j,P))?(M||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(t.flags|=4194308)):(typeof v.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=j),v.props=o,v.state=j,v.context=P,o=w):(typeof v.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{v=t.stateNode,Su(e,t),w=t.memoizedProps,P=t.type===t.elementType?w:Dt(t.type,w),v.props=P,M=t.pendingProps,D=v.context,j=a.contextType,typeof j=="object"&&j!==null?j=Tt(j):(j=ut(a)?Dn:et.current,j=fr(t,j));var G=a.getDerivedStateFromProps;(U=typeof G=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w!==M||D!==j)&&Yu(t,v,o,j),yn=!1,D=t.memoizedState,v.state=D,Ni(t,o,v,d);var Y=t.memoizedState;w!==M||D!==Y||ct.current||yn?(typeof G=="function"&&(Pl(t,a,G,o),Y=t.memoizedState),(P=yn||Gu(t,a,P,o,D,Y,j)||!1)?(U||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(o,Y,j),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(o,Y,j)),typeof v.componentDidUpdate=="function"&&(t.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof v.componentDidUpdate!="function"||w===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=Y),v.props=o,v.state=Y,v.context=j,o=P):(typeof v.componentDidUpdate!="function"||w===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),o=!1)}return Dl(e,t,a,o,h,d)}function Dl(e,t,a,o,d,h){ld(e,t);var v=(t.flags&128)!==0;if(!o&&!v)return d&&fu(t,a,!1),nn(e,t,h);o=t.stateNode,Lp.current=t;var w=v&&typeof a.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&v?(t.child=gr(t,e.child,null,h),t.child=gr(t,null,w,h)):at(e,t,w,h),t.memoizedState=o.state,d&&fu(t,a,!0),t.child}function cd(e){var t=e.stateNode;t.pendingContext?du(e,t.pendingContext,t.pendingContext!==t.context):t.context&&du(e,t.context,!1),wl(e,t.containerInfo)}function ud(e,t,a,o,d){return vr(),hl(d),t.flags|=256,at(e,t,a,o),t.child}var Ll={dehydrated:null,treeContext:null,retryLane:0};function Ul(e){return{baseLanes:e,cachePool:null,transitions:null}}function dd(e,t,a){var o=t.pendingProps,d=Re.current,h=!1,v=(t.flags&128)!==0,w;if((w=v)||(w=e!==null&&e.memoizedState===null?!1:(d&2)!==0),w?(h=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),_e(Re,d&1),e===null)return dl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(v=o.children,e=o.fallback,h?(o=t.mode,h=t.child,v={mode:"hidden",children:v},(o&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=v):h=Hi(v,o,0,null),e=Hn(e,o,a,null),h.return=t,e.return=t,h.sibling=e,t.child=h,t.child.memoizedState=Ul(a),t.memoizedState=Ll,e):zl(t,v));if(d=e.memoizedState,d!==null&&(w=d.dehydrated,w!==null))return Up(e,t,v,o,w,d,a);if(h){h=o.fallback,v=t.mode,d=e.child,w=d.sibling;var j={mode:"hidden",children:o.children};return(v&1)===0&&t.child!==d?(o=t.child,o.childLanes=0,o.pendingProps=j,t.deletions=null):(o=Nn(d,j),o.subtreeFlags=d.subtreeFlags&14680064),w!==null?h=Nn(w,h):(h=Hn(h,v,a,null),h.flags|=2),h.return=t,o.return=t,o.sibling=h,t.child=o,o=h,h=t.child,v=e.child.memoizedState,v=v===null?Ul(a):{baseLanes:v.baseLanes|a,cachePool:null,transitions:v.transitions},h.memoizedState=v,h.childLanes=e.childLanes&~a,t.memoizedState=Ll,o}return h=e.child,e=h.sibling,o=Nn(h,{mode:"visible",children:o.children}),(t.mode&1)===0&&(o.lanes=a),o.return=t,o.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=o,t.memoizedState=null,o}function zl(e,t){return t=Hi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ai(e,t,a,o){return o!==null&&hl(o),gr(t,e.child,null,a),e=zl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Up(e,t,a,o,d,h,v){if(a)return t.flags&256?(t.flags&=-257,o=Al(Error(r(422))),Ai(e,t,v,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(h=o.fallback,d=t.mode,o=Hi({mode:"visible",children:o.children},d,0,null),h=Hn(h,d,v,null),h.flags|=2,o.return=t,h.return=t,o.sibling=h,t.child=o,(t.mode&1)!==0&&gr(t,e.child,null,v),t.child.memoizedState=Ul(v),t.memoizedState=Ll,h);if((t.mode&1)===0)return Ai(e,t,v,null);if(d.data==="$!"){if(o=d.nextSibling&&d.nextSibling.dataset,o)var w=o.dgst;return o=w,h=Error(r(419)),o=Al(h,o,void 0),Ai(e,t,v,o)}if(w=(v&e.childLanes)!==0,dt||w){if(o=Ve,o!==null){switch(v&-v){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(o.suspendedLanes|v))!==0?0:d,d!==0&&d!==h.retryLane&&(h.retryLane=d,en(e,d),zt(o,e,d,-1))}return to(),o=Al(Error(r(421))),Ai(e,t,v,o)}return d.data==="$?"?(t.flags|=128,t.child=e.child,t=Yp.bind(null,e),d._reactRetry=t,null):(e=h.treeContext,xt=pn(d.nextSibling),wt=t,Ce=!0,$t=null,e!==null&&(Et[Ct++]=Xt,Et[Ct++]=Zt,Et[Ct++]=Ln,Xt=e.id,Zt=e.overflow,Ln=t),t=zl(t,o.children),t.flags|=4096,t)}function hd(e,t,a){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),vl(e.return,t,a)}function Ml(e,t,a,o,d){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:d}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=o,h.tail=a,h.tailMode=d)}function fd(e,t,a){var o=t.pendingProps,d=o.revealOrder,h=o.tail;if(at(e,t,o.children,a),o=Re.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hd(e,a,t);else if(e.tag===19)hd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(_e(Re,o),(t.mode&1)===0)t.memoizedState=null;else switch(d){case"forwards":for(a=t.child,d=null;a!==null;)e=a.alternate,e!==null&&bi(e)===null&&(d=a),a=a.sibling;a=d,a===null?(d=t.child,t.child=null):(d=a.sibling,a.sibling=null),Ml(t,!1,d,a,h);break;case"backwards":for(a=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&bi(e)===null){t.child=d;break}e=d.sibling,d.sibling=a,a=d,d=e}Ml(t,!0,a,null,h);break;case"together":Ml(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ii(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function nn(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),qn|=t.lanes,(a&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=Nn(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Nn(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function zp(e,t,a){switch(t.tag){case 3:cd(t),vr();break;case 5:Eu(t);break;case 1:ut(t.type)&&vi(t);break;case 4:wl(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,d=t.memoizedProps.value;_e(_i,o._currentValue),o._currentValue=d;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(_e(Re,Re.current&1),t.flags|=128,null):(a&t.child.childLanes)!==0?dd(e,t,a):(_e(Re,Re.current&1),e=nn(e,t,a),e!==null?e.sibling:null);_e(Re,Re.current&1);break;case 19:if(o=(a&t.childLanes)!==0,(e.flags&128)!==0){if(o)return fd(e,t,a);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),_e(Re,Re.current),o)break;return null;case 22:case 23:return t.lanes=0,ad(e,t,a)}return nn(e,t,a)}var pd,Bl,md,vd;pd=function(e,t){for(var a=t.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Bl=function(){},md=function(e,t,a,o){var d=e.memoizedProps;if(d!==o){e=t.stateNode,Mn(Ht.current);var h=null;switch(a){case"input":d=va(e,d),o=va(e,o),h=[];break;case"select":d=V({},d,{value:void 0}),o=V({},o,{value:void 0}),h=[];break;case"textarea":d=wa(e,d),o=wa(e,o),h=[];break;default:typeof d.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=fi)}ja(a,o);var v;a=null;for(P in d)if(!o.hasOwnProperty(P)&&d.hasOwnProperty(P)&&d[P]!=null)if(P==="style"){var w=d[P];for(v in w)w.hasOwnProperty(v)&&(a||(a={}),a[v]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(c.hasOwnProperty(P)?h||(h=[]):(h=h||[]).push(P,null));for(P in o){var j=o[P];if(w=d!=null?d[P]:void 0,o.hasOwnProperty(P)&&j!==w&&(j!=null||w!=null))if(P==="style")if(w){for(v in w)!w.hasOwnProperty(v)||j&&j.hasOwnProperty(v)||(a||(a={}),a[v]="");for(v in j)j.hasOwnProperty(v)&&w[v]!==j[v]&&(a||(a={}),a[v]=j[v])}else a||(h||(h=[]),h.push(P,a)),a=j;else P==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,w=w?w.__html:void 0,j!=null&&w!==j&&(h=h||[]).push(P,j)):P==="children"?typeof j!="string"&&typeof j!="number"||(h=h||[]).push(P,""+j):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(c.hasOwnProperty(P)?(j!=null&&P==="onScroll"&&Ne("scroll",e),h||w===j||(h=[])):(h=h||[]).push(P,j))}a&&(h=h||[]).push("style",a);var P=h;(t.updateQueue=P)&&(t.flags|=4)}},vd=function(e,t,a,o){a!==o&&(t.flags|=4)};function Ss(e,t){if(!Ce)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(t)for(var d=e.child;d!==null;)a|=d.lanes|d.childLanes,o|=d.subtreeFlags&14680064,o|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)a|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=o,e.childLanes=a,t}function Mp(e,t,a){var o=t.pendingProps;switch(cl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(t),null;case 1:return ut(t.type)&&mi(),nt(t),null;case 3:return o=t.stateNode,xr(),be(ct),be(et),_l(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(xi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,$t!==null&&(Xl($t),$t=null))),Bl(e,t),nt(t),null;case 5:xl(t);var d=Mn(ws.current);if(a=t.type,e!==null&&t.stateNode!=null)md(e,t,a,o,d),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(r(166));return nt(t),null}if(e=Mn(Ht.current),xi(t)){o=t.stateNode,a=t.type;var h=t.memoizedProps;switch(o[Vt]=t,o[ps]=h,e=(t.mode&1)!==0,a){case"dialog":Ne("cancel",o),Ne("close",o);break;case"iframe":case"object":case"embed":Ne("load",o);break;case"video":case"audio":for(d=0;d<ds.length;d++)Ne(ds[d],o);break;case"source":Ne("error",o);break;case"img":case"image":case"link":Ne("error",o),Ne("load",o);break;case"details":Ne("toggle",o);break;case"input":Qo(o,h),Ne("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!h.multiple},Ne("invalid",o);break;case"textarea":Zo(o,h),Ne("invalid",o)}ja(a,h),d=null;for(var v in h)if(h.hasOwnProperty(v)){var w=h[v];v==="children"?typeof w=="string"?o.textContent!==w&&(h.suppressHydrationWarning!==!0&&hi(o.textContent,w,e),d=["children",w]):typeof w=="number"&&o.textContent!==""+w&&(h.suppressHydrationWarning!==!0&&hi(o.textContent,w,e),d=["children",""+w]):c.hasOwnProperty(v)&&w!=null&&v==="onScroll"&&Ne("scroll",o)}switch(a){case"input":Fs(o),Xo(o,h,!0);break;case"textarea":Fs(o),tc(o);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(o.onclick=fi)}o=d,t.updateQueue=o,o!==null&&(t.flags|=4)}else{v=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=nc(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=v.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=v.createElement(a,{is:o.is}):(e=v.createElement(a),a==="select"&&(v=e,o.multiple?v.multiple=!0:o.size&&(v.size=o.size))):e=v.createElementNS(e,a),e[Vt]=t,e[ps]=o,pd(e,t,!1,!1),t.stateNode=e;e:{switch(v=_a(a,o),a){case"dialog":Ne("cancel",e),Ne("close",e),d=o;break;case"iframe":case"object":case"embed":Ne("load",e),d=o;break;case"video":case"audio":for(d=0;d<ds.length;d++)Ne(ds[d],e);d=o;break;case"source":Ne("error",e),d=o;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),d=o;break;case"details":Ne("toggle",e),d=o;break;case"input":Qo(e,o),d=va(e,o),Ne("invalid",e);break;case"option":d=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},d=V({},o,{value:void 0}),Ne("invalid",e);break;case"textarea":Zo(e,o),d=wa(e,o),Ne("invalid",e);break;default:d=o}ja(a,d),w=d;for(h in w)if(w.hasOwnProperty(h)){var j=w[h];h==="style"?ic(e,j):h==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&rc(e,j)):h==="children"?typeof j=="string"?(a!=="textarea"||j!=="")&&Hr(e,j):typeof j=="number"&&Hr(e,""+j):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(c.hasOwnProperty(h)?j!=null&&h==="onScroll"&&Ne("scroll",e):j!=null&&I(e,h,j,v))}switch(a){case"input":Fs(e),Xo(e,o,!1);break;case"textarea":Fs(e),tc(e);break;case"option":o.value!=null&&e.setAttribute("value",""+we(o.value));break;case"select":e.multiple=!!o.multiple,h=o.value,h!=null?tr(e,!!o.multiple,h,!1):o.defaultValue!=null&&tr(e,!!o.multiple,o.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=fi)}switch(a){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nt(t),null;case 6:if(e&&t.stateNode!=null)vd(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(r(166));if(a=Mn(ws.current),Mn(Ht.current),xi(t)){if(o=t.stateNode,a=t.memoizedProps,o[Vt]=t,(h=o.nodeValue!==a)&&(e=wt,e!==null))switch(e.tag){case 3:hi(o.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&hi(o.nodeValue,a,(e.mode&1)!==0)}h&&(t.flags|=4)}else o=(a.nodeType===9?a:a.ownerDocument).createTextNode(o),o[Vt]=t,t.stateNode=o}return nt(t),null;case 13:if(be(Re),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ce&&xt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)wu(),vr(),t.flags|=98560,h=!1;else if(h=xi(t),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Vt]=t}else vr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;nt(t),h=!1}else $t!==null&&(Xl($t),$t=null),h=!0;if(!h)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=a,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Re.current&1)!==0?qe===0&&(qe=3):to())),t.updateQueue!==null&&(t.flags|=4),nt(t),null);case 4:return xr(),Bl(e,t),e===null&&hs(t.stateNode.containerInfo),nt(t),null;case 10:return ml(t.type._context),nt(t),null;case 17:return ut(t.type)&&mi(),nt(t),null;case 19:if(be(Re),h=t.memoizedState,h===null)return nt(t),null;if(o=(t.flags&128)!==0,v=h.rendering,v===null)if(o)Ss(h,!1);else{if(qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(v=bi(e),v!==null){for(t.flags|=128,Ss(h,!1),o=v.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=a,a=t.child;a!==null;)h=a,e=o,h.flags&=14680066,v=h.alternate,v===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=v.childLanes,h.lanes=v.lanes,h.child=v.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=v.memoizedProps,h.memoizedState=v.memoizedState,h.updateQueue=v.updateQueue,h.type=v.type,e=v.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return _e(Re,Re.current&1|2),t.child}e=e.sibling}h.tail!==null&&Le()>Sr&&(t.flags|=128,o=!0,Ss(h,!1),t.lanes=4194304)}else{if(!o)if(e=bi(v),e!==null){if(t.flags|=128,o=!0,a=e.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),Ss(h,!0),h.tail===null&&h.tailMode==="hidden"&&!v.alternate&&!Ce)return nt(t),null}else 2*Le()-h.renderingStartTime>Sr&&a!==1073741824&&(t.flags|=128,o=!0,Ss(h,!1),t.lanes=4194304);h.isBackwards?(v.sibling=t.child,t.child=v):(a=h.last,a!==null?a.sibling=v:t.child=v,h.last=v)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=Le(),t.sibling=null,a=Re.current,_e(Re,o?a&1|2:a&1),t):(nt(t),null);case 22:case 23:return eo(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&(t.mode&1)!==0?(jt&1073741824)!==0&&(nt(t),t.subtreeFlags&6&&(t.flags|=8192)):nt(t),null;case 24:return null;case 25:return null}throw Error(r(156,t.tag))}function Bp(e,t){switch(cl(t),t.tag){case 1:return ut(t.type)&&mi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xr(),be(ct),be(et),_l(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return xl(t),null;case 13:if(be(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));vr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return be(Re),null;case 4:return xr(),null;case 10:return ml(t.type._context),null;case 22:case 23:return eo(),null;case 24:return null;default:return null}}var $i=!1,rt=!1,qp=typeof WeakSet=="function"?WeakSet:Set,Q=null;function _r(e,t){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(o){$e(e,t,o)}else a.current=null}function ql(e,t,a){try{a()}catch(o){$e(e,t,o)}}var gd=!1;function Fp(e,t){if(el=ti,e=Gc(),Ha(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var d=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var v=0,w=-1,j=-1,P=0,U=0,M=e,D=null;t:for(;;){for(var G;M!==a||d!==0&&M.nodeType!==3||(w=v+d),M!==h||o!==0&&M.nodeType!==3||(j=v+o),M.nodeType===3&&(v+=M.nodeValue.length),(G=M.firstChild)!==null;)D=M,M=G;for(;;){if(M===e)break t;if(D===a&&++P===d&&(w=v),D===h&&++U===o&&(j=v),(G=M.nextSibling)!==null)break;M=D,D=M.parentNode}M=G}a=w===-1||j===-1?null:{start:w,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(tl={focusedElem:e,selectionRange:a},ti=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var Y=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Y!==null){var X=Y.memoizedProps,Ue=Y.memoizedState,b=t.stateNode,_=b.getSnapshotBeforeUpdate(t.elementType===t.type?X:Dt(t.type,X),Ue);b.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(F){$e(t,t.return,F)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return Y=gd,gd=!1,Y}function Ns(e,t,a){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var d=o=o.next;do{if((d.tag&e)===e){var h=d.destroy;d.destroy=void 0,h!==void 0&&ql(t,a,h)}d=d.next}while(d!==o)}}function Di(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var a=t=t.next;do{if((a.tag&e)===e){var o=a.create;a.destroy=o()}a=a.next}while(a!==t)}}function Fl(e){var t=e.ref;if(t!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof t=="function"?t(e):t.current=e}}function yd(e){var t=e.alternate;t!==null&&(e.alternate=null,yd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vt],delete t[ps],delete t[il],delete t[Np],delete t[bp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wd(e){return e.tag===5||e.tag===3||e.tag===4}function xd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wl(e,t,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?a.nodeType===8?a.parentNode.insertBefore(e,t):a.insertBefore(e,t):(a.nodeType===8?(t=a.parentNode,t.insertBefore(e,a)):(t=a,t.appendChild(e)),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=fi));else if(o!==4&&(e=e.child,e!==null))for(Wl(e,t,a),e=e.sibling;e!==null;)Wl(e,t,a),e=e.sibling}function Vl(e,t,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Vl(e,t,a),e=e.sibling;e!==null;)Vl(e,t,a),e=e.sibling}var Je=null,Lt=!1;function xn(e,t,a){for(a=a.child;a!==null;)jd(e,t,a),a=a.sibling}function jd(e,t,a){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(Gs,a)}catch{}switch(a.tag){case 5:rt||_r(a,t);case 6:var o=Je,d=Lt;Je=null,xn(e,t,a),Je=o,Lt=d,Je!==null&&(Lt?(e=Je,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):Je.removeChild(a.stateNode));break;case 18:Je!==null&&(Lt?(e=Je,a=a.stateNode,e.nodeType===8?sl(e.parentNode,a):e.nodeType===1&&sl(e,a),rs(e)):sl(Je,a.stateNode));break;case 4:o=Je,d=Lt,Je=a.stateNode.containerInfo,Lt=!0,xn(e,t,a),Je=o,Lt=d;break;case 0:case 11:case 14:case 15:if(!rt&&(o=a.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){d=o=o.next;do{var h=d,v=h.destroy;h=h.tag,v!==void 0&&((h&2)!==0||(h&4)!==0)&&ql(a,t,v),d=d.next}while(d!==o)}xn(e,t,a);break;case 1:if(!rt&&(_r(a,t),o=a.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=a.memoizedProps,o.state=a.memoizedState,o.componentWillUnmount()}catch(w){$e(a,t,w)}xn(e,t,a);break;case 21:xn(e,t,a);break;case 22:a.mode&1?(rt=(o=rt)||a.memoizedState!==null,xn(e,t,a),rt=o):xn(e,t,a);break;default:xn(e,t,a)}}function _d(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new qp),t.forEach(function(o){var d=Xp.bind(null,e,o);a.has(o)||(a.add(o),o.then(d,d))})}}function Ut(e,t){var a=t.deletions;if(a!==null)for(var o=0;o<a.length;o++){var d=a[o];try{var h=e,v=t,w=v;e:for(;w!==null;){switch(w.tag){case 5:Je=w.stateNode,Lt=!1;break e;case 3:Je=w.stateNode.containerInfo,Lt=!0;break e;case 4:Je=w.stateNode.containerInfo,Lt=!0;break e}w=w.return}if(Je===null)throw Error(r(160));jd(h,v,d),Je=null,Lt=!1;var j=d.alternate;j!==null&&(j.return=null),d.return=null}catch(P){$e(d,t,P)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kd(t,e),t=t.sibling}function kd(e,t){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ut(t,e),Jt(e),o&4){try{Ns(3,e,e.return),Di(3,e)}catch(X){$e(e,e.return,X)}try{Ns(5,e,e.return)}catch(X){$e(e,e.return,X)}}break;case 1:Ut(t,e),Jt(e),o&512&&a!==null&&_r(a,a.return);break;case 5:if(Ut(t,e),Jt(e),o&512&&a!==null&&_r(a,a.return),e.flags&32){var d=e.stateNode;try{Hr(d,"")}catch(X){$e(e,e.return,X)}}if(o&4&&(d=e.stateNode,d!=null)){var h=e.memoizedProps,v=a!==null?a.memoizedProps:h,w=e.type,j=e.updateQueue;if(e.updateQueue=null,j!==null)try{w==="input"&&h.type==="radio"&&h.name!=null&&Yo(d,h),_a(w,v);var P=_a(w,h);for(v=0;v<j.length;v+=2){var U=j[v],M=j[v+1];U==="style"?ic(d,M):U==="dangerouslySetInnerHTML"?rc(d,M):U==="children"?Hr(d,M):I(d,U,M,P)}switch(w){case"input":ga(d,h);break;case"textarea":ec(d,h);break;case"select":var D=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!h.multiple;var G=h.value;G!=null?tr(d,!!h.multiple,G,!1):D!==!!h.multiple&&(h.defaultValue!=null?tr(d,!!h.multiple,h.defaultValue,!0):tr(d,!!h.multiple,h.multiple?[]:"",!1))}d[ps]=h}catch(X){$e(e,e.return,X)}}break;case 6:if(Ut(t,e),Jt(e),o&4){if(e.stateNode===null)throw Error(r(162));d=e.stateNode,h=e.memoizedProps;try{d.nodeValue=h}catch(X){$e(e,e.return,X)}}break;case 3:if(Ut(t,e),Jt(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{rs(t.containerInfo)}catch(X){$e(e,e.return,X)}break;case 4:Ut(t,e),Jt(e);break;case 13:Ut(t,e),Jt(e),d=e.child,d.flags&8192&&(h=d.memoizedState!==null,d.stateNode.isHidden=h,!h||d.alternate!==null&&d.alternate.memoizedState!==null||(Jl=Le())),o&4&&_d(e);break;case 22:if(U=a!==null&&a.memoizedState!==null,e.mode&1?(rt=(P=rt)||U,Ut(t,e),rt=P):Ut(t,e),Jt(e),o&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!U&&(e.mode&1)!==0)for(Q=e,U=e.child;U!==null;){for(M=Q=U;Q!==null;){switch(D=Q,G=D.child,D.tag){case 0:case 11:case 14:case 15:Ns(4,D,D.return);break;case 1:_r(D,D.return);var Y=D.stateNode;if(typeof Y.componentWillUnmount=="function"){o=D,a=D.return;try{t=o,Y.props=t.memoizedProps,Y.state=t.memoizedState,Y.componentWillUnmount()}catch(X){$e(o,a,X)}}break;case 5:_r(D,D.return);break;case 22:if(D.memoizedState!==null){bd(M);continue}}G!==null?(G.return=D,Q=G):bd(M)}U=U.sibling}e:for(U=null,M=e;;){if(M.tag===5){if(U===null){U=M;try{d=M.stateNode,P?(h=d.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(w=M.stateNode,j=M.memoizedProps.style,v=j!=null&&j.hasOwnProperty("display")?j.display:null,w.style.display=sc("display",v))}catch(X){$e(e,e.return,X)}}}else if(M.tag===6){if(U===null)try{M.stateNode.nodeValue=P?"":M.memoizedProps}catch(X){$e(e,e.return,X)}}else if((M.tag!==22&&M.tag!==23||M.memoizedState===null||M===e)&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===e)break e;for(;M.sibling===null;){if(M.return===null||M.return===e)break e;U===M&&(U=null),M=M.return}U===M&&(U=null),M.sibling.return=M.return,M=M.sibling}}break;case 19:Ut(t,e),Jt(e),o&4&&_d(e);break;case 21:break;default:Ut(t,e),Jt(e)}}function Jt(e){var t=e.flags;if(t&2){try{e:{for(var a=e.return;a!==null;){if(wd(a)){var o=a;break e}a=a.return}throw Error(r(160))}switch(o.tag){case 5:var d=o.stateNode;o.flags&32&&(Hr(d,""),o.flags&=-33);var h=xd(e);Vl(e,h,d);break;case 3:case 4:var v=o.stateNode.containerInfo,w=xd(e);Wl(e,w,v);break;default:throw Error(r(161))}}catch(j){$e(e,e.return,j)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wp(e,t,a){Q=e,Sd(e)}function Sd(e,t,a){for(var o=(e.mode&1)!==0;Q!==null;){var d=Q,h=d.child;if(d.tag===22&&o){var v=d.memoizedState!==null||$i;if(!v){var w=d.alternate,j=w!==null&&w.memoizedState!==null||rt;w=$i;var P=rt;if($i=v,(rt=j)&&!P)for(Q=d;Q!==null;)v=Q,j=v.child,v.tag===22&&v.memoizedState!==null?Ed(d):j!==null?(j.return=v,Q=j):Ed(d);for(;h!==null;)Q=h,Sd(h),h=h.sibling;Q=d,$i=w,rt=P}Nd(e)}else(d.subtreeFlags&8772)!==0&&h!==null?(h.return=d,Q=h):Nd(e)}}function Nd(e){for(;Q!==null;){var t=Q;if((t.flags&8772)!==0){var a=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:rt||Di(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!rt)if(a===null)o.componentDidMount();else{var d=t.elementType===t.type?a.memoizedProps:Dt(t.type,a.memoizedProps);o.componentDidUpdate(d,a.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var h=t.updateQueue;h!==null&&bu(t,h,o);break;case 3:var v=t.updateQueue;if(v!==null){if(a=null,t.child!==null)switch(t.child.tag){case 5:a=t.child.stateNode;break;case 1:a=t.child.stateNode}bu(t,v,a)}break;case 5:var w=t.stateNode;if(a===null&&t.flags&4){a=w;var j=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&a.focus();break;case"img":j.src&&(a.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var P=t.alternate;if(P!==null){var U=P.memoizedState;if(U!==null){var M=U.dehydrated;M!==null&&rs(M)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}rt||t.flags&512&&Fl(t)}catch(D){$e(t,t.return,D)}}if(t===e){Q=null;break}if(a=t.sibling,a!==null){a.return=t.return,Q=a;break}Q=t.return}}function bd(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Q=a;break}Q=t.return}}function Ed(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var a=t.return;try{Di(4,t)}catch(j){$e(t,a,j)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var d=t.return;try{o.componentDidMount()}catch(j){$e(t,d,j)}}var h=t.return;try{Fl(t)}catch(j){$e(t,h,j)}break;case 5:var v=t.return;try{Fl(t)}catch(j){$e(t,v,j)}}}catch(j){$e(t,t.return,j)}if(t===e){Q=null;break}var w=t.sibling;if(w!==null){w.return=t.return,Q=w;break}Q=t.return}}var Vp=Math.ceil,Li=z.ReactCurrentDispatcher,Hl=z.ReactCurrentOwner,Pt=z.ReactCurrentBatchConfig,fe=0,Ve=null,ze=null,Ge=0,jt=0,kr=mn(0),qe=0,bs=null,qn=0,Ui=0,Kl=0,Es=null,ht=null,Jl=0,Sr=1/0,rn=null,zi=!1,Gl=null,jn=null,Mi=!1,_n=null,Bi=0,Cs=0,Ql=null,qi=-1,Fi=0;function lt(){return(fe&6)!==0?Le():qi!==-1?qi:qi=Le()}function kn(e){return(e.mode&1)===0?1:(fe&2)!==0&&Ge!==0?Ge&-Ge:Cp.transition!==null?(Fi===0&&(Fi=xc()),Fi):(e=xe,e!==0||(e=window.event,e=e===void 0?16:Tc(e.type)),e)}function zt(e,t,a,o){if(50<Cs)throw Cs=0,Ql=null,Error(r(185));Xr(e,a,o),((fe&2)===0||e!==Ve)&&(e===Ve&&((fe&2)===0&&(Ui|=a),qe===4&&Sn(e,Ge)),ft(e,o),a===1&&fe===0&&(t.mode&1)===0&&(Sr=Le()+500,gi&&gn()))}function ft(e,t){var a=e.callbackNode;Cf(e,t);var o=Xs(e,e===Ve?Ge:0);if(o===0)a!==null&&gc(a),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(a!=null&&gc(a),t===1)e.tag===0?Ep(Td.bind(null,e)):pu(Td.bind(null,e)),kp(function(){(fe&6)===0&&gn()}),a=null;else{switch(jc(o)){case 1:a=Ta;break;case 4:a=yc;break;case 16:a=Js;break;case 536870912:a=wc;break;default:a=Js}a=Ld(a,Cd.bind(null,e))}e.callbackPriority=t,e.callbackNode=a}}function Cd(e,t){if(qi=-1,Fi=0,(fe&6)!==0)throw Error(r(327));var a=e.callbackNode;if(Nr()&&e.callbackNode!==a)return null;var o=Xs(e,e===Ve?Ge:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||t)t=Wi(e,o);else{t=o;var d=fe;fe|=2;var h=Pd();(Ve!==e||Ge!==t)&&(rn=null,Sr=Le()+500,Wn(e,t));do try{Jp();break}catch(w){Rd(e,w)}while(!0);pl(),Li.current=h,fe=d,ze!==null?t=0:(Ve=null,Ge=0,t=qe)}if(t!==0){if(t===2&&(d=Ra(e),d!==0&&(o=d,t=Yl(e,d))),t===1)throw a=bs,Wn(e,0),Sn(e,o),ft(e,Le()),a;if(t===6)Sn(e,o);else{if(d=e.current.alternate,(o&30)===0&&!Hp(d)&&(t=Wi(e,o),t===2&&(h=Ra(e),h!==0&&(o=h,t=Yl(e,h))),t===1))throw a=bs,Wn(e,0),Sn(e,o),ft(e,Le()),a;switch(e.finishedWork=d,e.finishedLanes=o,t){case 0:case 1:throw Error(r(345));case 2:Vn(e,ht,rn);break;case 3:if(Sn(e,o),(o&130023424)===o&&(t=Jl+500-Le(),10<t)){if(Xs(e,0)!==0)break;if(d=e.suspendedLanes,(d&o)!==o){lt(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=rl(Vn.bind(null,e,ht,rn),t);break}Vn(e,ht,rn);break;case 4:if(Sn(e,o),(o&4194240)===o)break;for(t=e.eventTimes,d=-1;0<o;){var v=31-At(o);h=1<<v,v=t[v],v>d&&(d=v),o&=~h}if(o=d,o=Le()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Vp(o/1960))-o,10<o){e.timeoutHandle=rl(Vn.bind(null,e,ht,rn),o);break}Vn(e,ht,rn);break;case 5:Vn(e,ht,rn);break;default:throw Error(r(329))}}}return ft(e,Le()),e.callbackNode===a?Cd.bind(null,e):null}function Yl(e,t){var a=Es;return e.current.memoizedState.isDehydrated&&(Wn(e,t).flags|=256),e=Wi(e,t),e!==2&&(t=ht,ht=a,t!==null&&Xl(t)),e}function Xl(e){ht===null?ht=e:ht.push.apply(ht,e)}function Hp(e){for(var t=e;;){if(t.flags&16384){var a=t.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var o=0;o<a.length;o++){var d=a[o],h=d.getSnapshot;d=d.value;try{if(!It(h(),d))return!1}catch{return!1}}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Sn(e,t){for(t&=~Kl,t&=~Ui,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var a=31-At(t),o=1<<a;e[a]=-1,t&=~o}}function Td(e){if((fe&6)!==0)throw Error(r(327));Nr();var t=Xs(e,0);if((t&1)===0)return ft(e,Le()),null;var a=Wi(e,t);if(e.tag!==0&&a===2){var o=Ra(e);o!==0&&(t=o,a=Yl(e,o))}if(a===1)throw a=bs,Wn(e,0),Sn(e,t),ft(e,Le()),a;if(a===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vn(e,ht,rn),ft(e,Le()),null}function Zl(e,t){var a=fe;fe|=1;try{return e(t)}finally{fe=a,fe===0&&(Sr=Le()+500,gi&&gn())}}function Fn(e){_n!==null&&_n.tag===0&&(fe&6)===0&&Nr();var t=fe;fe|=1;var a=Pt.transition,o=xe;try{if(Pt.transition=null,xe=1,e)return e()}finally{xe=o,Pt.transition=a,fe=t,(fe&6)===0&&gn()}}function eo(){jt=kr.current,be(kr)}function Wn(e,t){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,_p(a)),ze!==null)for(a=ze.return;a!==null;){var o=a;switch(cl(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&mi();break;case 3:xr(),be(ct),be(et),_l();break;case 5:xl(o);break;case 4:xr();break;case 13:be(Re);break;case 19:be(Re);break;case 10:ml(o.type._context);break;case 22:case 23:eo()}a=a.return}if(Ve=e,ze=e=Nn(e.current,null),Ge=jt=t,qe=0,bs=null,Kl=Ui=qn=0,ht=Es=null,zn!==null){for(t=0;t<zn.length;t++)if(a=zn[t],o=a.interleaved,o!==null){a.interleaved=null;var d=o.next,h=a.pending;if(h!==null){var v=h.next;h.next=d,o.next=v}a.pending=o}zn=null}return e}function Rd(e,t){do{var a=ze;try{if(pl(),Ei.current=Pi,Ci){for(var o=Pe.memoizedState;o!==null;){var d=o.queue;d!==null&&(d.pending=null),o=o.next}Ci=!1}if(Bn=0,We=Be=Pe=null,xs=!1,js=0,Hl.current=null,a===null||a.return===null){qe=1,bs=t,ze=null;break}e:{var h=e,v=a.return,w=a,j=t;if(t=Ge,w.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var P=j,U=w,M=U.tag;if((U.mode&1)===0&&(M===0||M===11||M===15)){var D=U.alternate;D?(U.updateQueue=D.updateQueue,U.memoizedState=D.memoizedState,U.lanes=D.lanes):(U.updateQueue=null,U.memoizedState=null)}var G=td(v);if(G!==null){G.flags&=-257,nd(G,v,w,h,t),G.mode&1&&ed(h,P,t),t=G,j=P;var Y=t.updateQueue;if(Y===null){var X=new Set;X.add(j),t.updateQueue=X}else Y.add(j);break e}else{if((t&1)===0){ed(h,P,t),to();break e}j=Error(r(426))}}else if(Ce&&w.mode&1){var Ue=td(v);if(Ue!==null){(Ue.flags&65536)===0&&(Ue.flags|=256),nd(Ue,v,w,h,t),hl(jr(j,w));break e}}h=j=jr(j,w),qe!==4&&(qe=2),Es===null?Es=[h]:Es.push(h),h=v;do{switch(h.tag){case 3:h.flags|=65536,t&=-t,h.lanes|=t;var b=Xu(h,j,t);Nu(h,b);break e;case 1:w=j;var _=h.type,C=h.stateNode;if((h.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(jn===null||!jn.has(C)))){h.flags|=65536,t&=-t,h.lanes|=t;var F=Zu(h,w,t);Nu(h,F);break e}}h=h.return}while(h!==null)}Ad(a)}catch(ee){t=ee,ze===a&&a!==null&&(ze=a=a.return);continue}break}while(!0)}function Pd(){var e=Li.current;return Li.current=Pi,e===null?Pi:e}function to(){(qe===0||qe===3||qe===2)&&(qe=4),Ve===null||(qn&268435455)===0&&(Ui&268435455)===0||Sn(Ve,Ge)}function Wi(e,t){var a=fe;fe|=2;var o=Pd();(Ve!==e||Ge!==t)&&(rn=null,Wn(e,t));do try{Kp();break}catch(d){Rd(e,d)}while(!0);if(pl(),fe=a,Li.current=o,ze!==null)throw Error(r(261));return Ve=null,Ge=0,qe}function Kp(){for(;ze!==null;)Od(ze)}function Jp(){for(;ze!==null&&!wf();)Od(ze)}function Od(e){var t=Dd(e.alternate,e,jt);e.memoizedProps=e.pendingProps,t===null?Ad(e):ze=t,Hl.current=null}function Ad(e){var t=e;do{var a=t.alternate;if(e=t.return,(t.flags&32768)===0){if(a=Mp(a,t,jt),a!==null){ze=a;return}}else{if(a=Bp(a,t),a!==null){a.flags&=32767,ze=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qe=6,ze=null;return}}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);qe===0&&(qe=5)}function Vn(e,t,a){var o=xe,d=Pt.transition;try{Pt.transition=null,xe=1,Gp(e,t,a,o)}finally{Pt.transition=d,xe=o}return null}function Gp(e,t,a,o){do Nr();while(_n!==null);if((fe&6)!==0)throw Error(r(327));a=e.finishedWork;var d=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var h=a.lanes|a.childLanes;if(Tf(e,h),e===Ve&&(ze=Ve=null,Ge=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Mi||(Mi=!0,Ld(Js,function(){return Nr(),null})),h=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||h){h=Pt.transition,Pt.transition=null;var v=xe;xe=1;var w=fe;fe|=4,Hl.current=null,Fp(e,a),kd(a,e),mp(tl),ti=!!el,tl=el=null,e.current=a,Wp(a),xf(),fe=w,xe=v,Pt.transition=h}else e.current=a;if(Mi&&(Mi=!1,_n=e,Bi=d),h=e.pendingLanes,h===0&&(jn=null),kf(a.stateNode),ft(e,Le()),t!==null)for(o=e.onRecoverableError,a=0;a<t.length;a++)d=t[a],o(d.value,{componentStack:d.stack,digest:d.digest});if(zi)throw zi=!1,e=Gl,Gl=null,e;return(Bi&1)!==0&&e.tag!==0&&Nr(),h=e.pendingLanes,(h&1)!==0?e===Ql?Cs++:(Cs=0,Ql=e):Cs=0,gn(),null}function Nr(){if(_n!==null){var e=jc(Bi),t=Pt.transition,a=xe;try{if(Pt.transition=null,xe=16>e?16:e,_n===null)var o=!1;else{if(e=_n,_n=null,Bi=0,(fe&6)!==0)throw Error(r(331));var d=fe;for(fe|=4,Q=e.current;Q!==null;){var h=Q,v=h.child;if((Q.flags&16)!==0){var w=h.deletions;if(w!==null){for(var j=0;j<w.length;j++){var P=w[j];for(Q=P;Q!==null;){var U=Q;switch(U.tag){case 0:case 11:case 15:Ns(8,U,h)}var M=U.child;if(M!==null)M.return=U,Q=M;else for(;Q!==null;){U=Q;var D=U.sibling,G=U.return;if(yd(U),U===P){Q=null;break}if(D!==null){D.return=G,Q=D;break}Q=G}}}var Y=h.alternate;if(Y!==null){var X=Y.child;if(X!==null){Y.child=null;do{var Ue=X.sibling;X.sibling=null,X=Ue}while(X!==null)}}Q=h}}if((h.subtreeFlags&2064)!==0&&v!==null)v.return=h,Q=v;else e:for(;Q!==null;){if(h=Q,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:Ns(9,h,h.return)}var b=h.sibling;if(b!==null){b.return=h.return,Q=b;break e}Q=h.return}}var _=e.current;for(Q=_;Q!==null;){v=Q;var C=v.child;if((v.subtreeFlags&2064)!==0&&C!==null)C.return=v,Q=C;else e:for(v=_;Q!==null;){if(w=Q,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:Di(9,w)}}catch(ee){$e(w,w.return,ee)}if(w===v){Q=null;break e}var F=w.sibling;if(F!==null){F.return=w.return,Q=F;break e}Q=w.return}}if(fe=d,gn(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(Gs,e)}catch{}o=!0}return o}finally{xe=a,Pt.transition=t}}return!1}function Id(e,t,a){t=jr(a,t),t=Xu(e,t,1),e=wn(e,t,1),t=lt(),e!==null&&(Xr(e,1,t),ft(e,t))}function $e(e,t,a){if(e.tag===3)Id(e,e,a);else for(;t!==null;){if(t.tag===3){Id(t,e,a);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(jn===null||!jn.has(o))){e=jr(a,e),e=Zu(t,e,1),t=wn(t,e,1),e=lt(),t!==null&&(Xr(t,1,e),ft(t,e));break}}t=t.return}}function Qp(e,t,a){var o=e.pingCache;o!==null&&o.delete(t),t=lt(),e.pingedLanes|=e.suspendedLanes&a,Ve===e&&(Ge&a)===a&&(qe===4||qe===3&&(Ge&130023424)===Ge&&500>Le()-Jl?Wn(e,0):Kl|=a),ft(e,t)}function $d(e,t){t===0&&((e.mode&1)===0?t=1:(t=Ys,Ys<<=1,(Ys&130023424)===0&&(Ys=4194304)));var a=lt();e=en(e,t),e!==null&&(Xr(e,t,a),ft(e,a))}function Yp(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),$d(e,a)}function Xp(e,t){var a=0;switch(e.tag){case 13:var o=e.stateNode,d=e.memoizedState;d!==null&&(a=d.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(r(314))}o!==null&&o.delete(t),$d(e,a)}var Dd;Dd=function(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps||ct.current)dt=!0;else{if((e.lanes&a)===0&&(t.flags&128)===0)return dt=!1,zp(e,t,a);dt=(e.flags&131072)!==0}else dt=!1,Ce&&(t.flags&1048576)!==0&&mu(t,wi,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Ii(e,t),e=t.pendingProps;var d=fr(t,et.current);wr(t,a),d=Nl(null,t,o,e,d,a);var h=bl();return t.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ut(o)?(h=!0,vi(t)):h=!1,t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,yl(t),d.updater=Oi,t.stateNode=d,d._reactInternals=t,Ol(t,o,e,a),t=Dl(null,t,o,!0,h,a)):(t.tag=0,Ce&&h&&ol(t),at(null,t,d,a),t=t.child),t;case 16:o=t.elementType;e:{switch(Ii(e,t),e=t.pendingProps,d=o._init,o=d(o._payload),t.type=o,d=t.tag=em(o),e=Dt(o,e),d){case 0:t=$l(null,t,o,e,a);break e;case 1:t=od(null,t,o,e,a);break e;case 11:t=rd(null,t,o,e,a);break e;case 14:t=sd(null,t,o,Dt(o.type,e),a);break e}throw Error(r(306,o,""))}return t;case 0:return o=t.type,d=t.pendingProps,d=t.elementType===o?d:Dt(o,d),$l(e,t,o,d,a);case 1:return o=t.type,d=t.pendingProps,d=t.elementType===o?d:Dt(o,d),od(e,t,o,d,a);case 3:e:{if(cd(t),e===null)throw Error(r(387));o=t.pendingProps,h=t.memoizedState,d=h.element,Su(e,t),Ni(t,o,null,a);var v=t.memoizedState;if(o=v.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){d=jr(Error(r(423)),t),t=ud(e,t,o,a,d);break e}else if(o!==d){d=jr(Error(r(424)),t),t=ud(e,t,o,a,d);break e}else for(xt=pn(t.stateNode.containerInfo.firstChild),wt=t,Ce=!0,$t=null,a=_u(t,null,o,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(vr(),o===d){t=nn(e,t,a);break e}at(e,t,o,a)}t=t.child}return t;case 5:return Eu(t),e===null&&dl(t),o=t.type,d=t.pendingProps,h=e!==null?e.memoizedProps:null,v=d.children,nl(o,d)?v=null:h!==null&&nl(o,h)&&(t.flags|=32),ld(e,t),at(e,t,v,a),t.child;case 6:return e===null&&dl(t),null;case 13:return dd(e,t,a);case 4:return wl(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=gr(t,null,o,a):at(e,t,o,a),t.child;case 11:return o=t.type,d=t.pendingProps,d=t.elementType===o?d:Dt(o,d),rd(e,t,o,d,a);case 7:return at(e,t,t.pendingProps,a),t.child;case 8:return at(e,t,t.pendingProps.children,a),t.child;case 12:return at(e,t,t.pendingProps.children,a),t.child;case 10:e:{if(o=t.type._context,d=t.pendingProps,h=t.memoizedProps,v=d.value,_e(_i,o._currentValue),o._currentValue=v,h!==null)if(It(h.value,v)){if(h.children===d.children&&!ct.current){t=nn(e,t,a);break e}}else for(h=t.child,h!==null&&(h.return=t);h!==null;){var w=h.dependencies;if(w!==null){v=h.child;for(var j=w.firstContext;j!==null;){if(j.context===o){if(h.tag===1){j=tn(-1,a&-a),j.tag=2;var P=h.updateQueue;if(P!==null){P=P.shared;var U=P.pending;U===null?j.next=j:(j.next=U.next,U.next=j),P.pending=j}}h.lanes|=a,j=h.alternate,j!==null&&(j.lanes|=a),vl(h.return,a,t),w.lanes|=a;break}j=j.next}}else if(h.tag===10)v=h.type===t.type?null:h.child;else if(h.tag===18){if(v=h.return,v===null)throw Error(r(341));v.lanes|=a,w=v.alternate,w!==null&&(w.lanes|=a),vl(v,a,t),v=h.sibling}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}at(e,t,d.children,a),t=t.child}return t;case 9:return d=t.type,o=t.pendingProps.children,wr(t,a),d=Tt(d),o=o(d),t.flags|=1,at(e,t,o,a),t.child;case 14:return o=t.type,d=Dt(o,t.pendingProps),d=Dt(o.type,d),sd(e,t,o,d,a);case 15:return id(e,t,t.type,t.pendingProps,a);case 17:return o=t.type,d=t.pendingProps,d=t.elementType===o?d:Dt(o,d),Ii(e,t),t.tag=1,ut(o)?(e=!0,vi(t)):e=!1,wr(t,a),Qu(t,o,d),Ol(t,o,d,a),Dl(null,t,o,!0,e,a);case 19:return fd(e,t,a);case 22:return ad(e,t,a)}throw Error(r(156,t.tag))};function Ld(e,t){return vc(e,t)}function Zp(e,t,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,a,o){return new Zp(e,t,a,o)}function no(e){return e=e.prototype,!(!e||!e.isReactComponent)}function em(e){if(typeof e=="function")return no(e)?1:0;if(e!=null){if(e=e.$$typeof,e===mt)return 11;if(e===bt)return 14}return 2}function Nn(e,t){var a=e.alternate;return a===null?(a=Ot(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function Vi(e,t,a,o,d,h){var v=2;if(o=e,typeof e=="function")no(e)&&(v=1);else if(typeof e=="string")v=5;else e:switch(e){case re:return Hn(a.children,d,h,t);case pe:v=8,d|=8;break;case Ie:return e=Ot(12,a,t,d|2),e.elementType=Ie,e.lanes=h,e;case it:return e=Ot(13,a,t,d),e.elementType=it,e.lanes=h,e;case vt:return e=Ot(19,a,t,d),e.elementType=vt,e.lanes=h,e;case B:return Hi(a,d,h,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case st:v=10;break e;case Nt:v=9;break e;case mt:v=11;break e;case bt:v=14;break e;case Ze:v=16,o=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return t=Ot(v,a,t,d),t.elementType=e,t.type=o,t.lanes=h,t}function Hn(e,t,a,o){return e=Ot(7,e,o,t),e.lanes=a,e}function Hi(e,t,a,o){return e=Ot(22,e,o,t),e.elementType=B,e.lanes=a,e.stateNode={isHidden:!1},e}function ro(e,t,a){return e=Ot(6,e,null,t),e.lanes=a,e}function so(e,t,a){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function tm(e,t,a,o,d){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pa(0),this.expirationTimes=Pa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pa(0),this.identifierPrefix=o,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function io(e,t,a,o,d,h,v,w,j){return e=new tm(e,t,a,w,j),t===1?(t=1,h===!0&&(t|=8)):t=0,h=Ot(3,null,null,t),e.current=h,h.stateNode=e,h.memoizedState={element:o,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},yl(h),e}function nm(e,t,a){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:o==null?null:""+o,children:e,containerInfo:t,implementation:a}}function Ud(e){if(!e)return vn;e=e._reactInternals;e:{if(In(e)!==e||e.tag!==1)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(r(171))}if(e.tag===1){var a=e.type;if(ut(a))return hu(e,a,t)}return t}function zd(e,t,a,o,d,h,v,w,j){return e=io(a,o,!0,e,d,h,v,w,j),e.context=Ud(null),a=e.current,o=lt(),d=kn(a),h=tn(o,d),h.callback=t??null,wn(a,h,d),e.current.lanes=d,Xr(e,d,o),ft(e,o),e}function Ki(e,t,a,o){var d=t.current,h=lt(),v=kn(d);return a=Ud(a),t.context===null?t.context=a:t.pendingContext=a,t=tn(h,v),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=wn(d,t,v),e!==null&&(zt(e,d,v,h),Si(e,d,v)),v}function Ji(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Md(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function ao(e,t){Md(e,t),(e=e.alternate)&&Md(e,t)}function rm(){return null}var Bd=typeof reportError=="function"?reportError:function(e){console.error(e)};function lo(e){this._internalRoot=e}Gi.prototype.render=lo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));Ki(e,t,null,null)},Gi.prototype.unmount=lo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fn(function(){Ki(null,e,null,null)}),t[Qt]=null}};function Gi(e){this._internalRoot=e}Gi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<dn.length&&t!==0&&t<dn[a].priority;a++);dn.splice(a,0,e),a===0&&Ec(e)}};function oo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qd(){}function sm(e,t,a,o,d){if(d){if(typeof o=="function"){var h=o;o=function(){var P=Ji(v);h.call(P)}}var v=zd(t,o,e,0,null,!1,!1,"",qd);return e._reactRootContainer=v,e[Qt]=v.current,hs(e.nodeType===8?e.parentNode:e),Fn(),v}for(;d=e.lastChild;)e.removeChild(d);if(typeof o=="function"){var w=o;o=function(){var P=Ji(j);w.call(P)}}var j=io(e,0,!1,null,null,!1,!1,"",qd);return e._reactRootContainer=j,e[Qt]=j.current,hs(e.nodeType===8?e.parentNode:e),Fn(function(){Ki(t,j,a,o)}),j}function Yi(e,t,a,o,d){var h=a._reactRootContainer;if(h){var v=h;if(typeof d=="function"){var w=d;d=function(){var j=Ji(v);w.call(j)}}Ki(t,v,e,d)}else v=sm(a,t,e,d,o);return Ji(v)}_c=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var a=Yr(t.pendingLanes);a!==0&&(Oa(t,a|1),ft(t,Le()),(fe&6)===0&&(Sr=Le()+500,gn()))}break;case 13:Fn(function(){var o=en(e,1);if(o!==null){var d=lt();zt(o,e,1,d)}}),ao(e,1)}},Aa=function(e){if(e.tag===13){var t=en(e,134217728);if(t!==null){var a=lt();zt(t,e,134217728,a)}ao(e,134217728)}},kc=function(e){if(e.tag===13){var t=kn(e),a=en(e,t);if(a!==null){var o=lt();zt(a,e,t,o)}ao(e,t)}},Sc=function(){return xe},Nc=function(e,t){var a=xe;try{return xe=e,t()}finally{xe=a}},Na=function(e,t,a){switch(t){case"input":if(ga(e,a),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<a.length;t++){var o=a[t];if(o!==e&&o.form===e.form){var d=pi(o);if(!d)throw Error(r(90));Go(o),ga(o,d)}}}break;case"textarea":ec(e,a);break;case"select":t=a.value,t!=null&&tr(e,!!a.multiple,t,!1)}},cc=Zl,uc=Fn;var im={usingClientEntryPoint:!1,Events:[ms,dr,pi,lc,oc,Zl]},Ts={findFiberByHostInstance:$n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},am={bundleType:Ts.bundleType,version:Ts.version,rendererPackageName:Ts.rendererPackageName,rendererConfig:Ts.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pc(e),e===null?null:e.stateNode},findFiberByHostInstance:Ts.findFiberByHostInstance||rm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xi.isDisabled&&Xi.supportsFiber)try{Gs=Xi.inject(am),Wt=Xi}catch{}}return pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=im,pt.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oo(t))throw Error(r(200));return nm(e,t,null,a)},pt.createRoot=function(e,t){if(!oo(e))throw Error(r(299));var a=!1,o="",d=Bd;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=io(e,1,!1,null,null,a,!1,o,d),e[Qt]=t.current,hs(e.nodeType===8?e.parentNode:e),new lo(t)},pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=pc(t),e=e===null?null:e.stateNode,e},pt.flushSync=function(e){return Fn(e)},pt.hydrate=function(e,t,a){if(!Qi(t))throw Error(r(200));return Yi(null,e,t,!0,a)},pt.hydrateRoot=function(e,t,a){if(!oo(e))throw Error(r(405));var o=a!=null&&a.hydratedSources||null,d=!1,h="",v=Bd;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),t=zd(t,null,e,1,a??null,d,!1,h,v),e[Qt]=t.current,hs(e),o)for(e=0;e<o.length;e++)a=o[e],d=a._getVersion,d=d(a._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[a,d]:t.mutableSourceEagerHydrationData.push(a,d);return new Gi(t)},pt.render=function(e,t,a){if(!Qi(t))throw Error(r(200));return Yi(null,e,t,!1,a)},pt.unmountComponentAtNode=function(e){if(!Qi(e))throw Error(r(40));return e._reactRootContainer?(Fn(function(){Yi(null,null,e,!1,function(){e._reactRootContainer=null,e[Qt]=null})}),!0):!1},pt.unstable_batchedUpdates=Zl,pt.unstable_renderSubtreeIntoContainer=function(e,t,a,o){if(!Qi(a))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return Yi(e,t,a,!1,o)},pt.version="18.3.1-next-f1338f8080-20240426",pt}var Qd;function $h(){if(Qd)return ho.exports;Qd=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),ho.exports=mm(),ho.exports}var Yd;function vm(){if(Yd)return Zi;Yd=1;var s=$h();return Zi.createRoot=s.createRoot,Zi.hydrateRoot=s.hydrateRoot,Zi}var gm=vm();const ym=Ih(gm);$h();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Is(){return Is=Object.assign?Object.assign.bind():function(s){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(s[l]=r[l])}return s},Is.apply(this,arguments)}var Tn;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(Tn||(Tn={}));const Xd="popstate";function wm(s){s===void 0&&(s={});function n(l,c){let{pathname:u,search:f,hash:p}=l.location;return No("",{pathname:u,search:f,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function r(l,c){return typeof c=="string"?c:sa(c)}return jm(n,r,null,s)}function Ae(s,n){if(s===!1||s===null||typeof s>"u")throw new Error(n)}function Bo(s,n){if(!s){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function xm(){return Math.random().toString(36).substr(2,8)}function Zd(s,n){return{usr:s.state,key:s.key,idx:n}}function No(s,n,r,l){return r===void 0&&(r=null),Is({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof n=="string"?Br(n):n,{state:r,key:n&&n.key||l||xm()})}function sa(s){let{pathname:n="/",search:r="",hash:l=""}=s;return r&&r!=="?"&&(n+=r.charAt(0)==="?"?r:"?"+r),l&&l!=="#"&&(n+=l.charAt(0)==="#"?l:"#"+l),n}function Br(s){let n={};if(s){let r=s.indexOf("#");r>=0&&(n.hash=s.substr(r),s=s.substr(0,r));let l=s.indexOf("?");l>=0&&(n.search=s.substr(l),s=s.substr(0,l)),s&&(n.pathname=s)}return n}function jm(s,n,r,l){l===void 0&&(l={});let{window:c=document.defaultView,v5Compat:u=!1}=l,f=c.history,p=Tn.Pop,m=null,g=y();g==null&&(g=0,f.replaceState(Is({},f.state,{idx:g}),""));function y(){return(f.state||{idx:null}).idx}function x(){p=Tn.Pop;let T=y(),O=T==null?null:T-g;g=T,m&&m({action:p,location:E.location,delta:O})}function k(T,O){p=Tn.Push;let $=No(E.location,T,O);g=y()+1;let I=Zd($,g),z=E.createHref($);try{f.pushState(I,"",z)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;c.location.assign(z)}u&&m&&m({action:p,location:E.location,delta:1})}function N(T,O){p=Tn.Replace;let $=No(E.location,T,O);g=y();let I=Zd($,g),z=E.createHref($);f.replaceState(I,"",z),u&&m&&m({action:p,location:E.location,delta:0})}function R(T){let O=c.location.origin!=="null"?c.location.origin:c.location.href,$=typeof T=="string"?T:sa(T);return $=$.replace(/ $/,"%20"),Ae(O,"No window.location.(origin|href) available to create URL for href: "+$),new URL($,O)}let E={get action(){return p},get location(){return s(c,f)},listen(T){if(m)throw new Error("A history only accepts one active listener");return c.addEventListener(Xd,x),m=T,()=>{c.removeEventListener(Xd,x),m=null}},createHref(T){return n(c,T)},createURL:R,encodeLocation(T){let O=R(T);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:k,replace:N,go(T){return f.go(T)}};return E}var eh;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(eh||(eh={}));function _m(s,n,r){return r===void 0&&(r="/"),km(s,n,r)}function km(s,n,r,l){let c=typeof n=="string"?Br(n):n,u=zr(c.pathname||"/",r);if(u==null)return null;let f=Dh(s);Sm(f);let p=null;for(let m=0;p==null&&m<f.length;++m){let g=$m(u);p=Am(f[m],g)}return p}function Dh(s,n,r,l){n===void 0&&(n=[]),r===void 0&&(r=[]),l===void 0&&(l="");let c=(u,f,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};m.relativePath.startsWith("/")&&(Ae(m.relativePath.startsWith(l),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+l+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(l.length));let g=Rn([l,m.relativePath]),y=r.concat(m);u.children&&u.children.length>0&&(Ae(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),Dh(u.children,n,y,g)),!(u.path==null&&!u.index)&&n.push({path:g,score:Pm(g,u.index),routesMeta:y})};return s.forEach((u,f)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))c(u,f);else for(let m of Lh(u.path))c(u,f,m)}),n}function Lh(s){let n=s.split("/");if(n.length===0)return[];let[r,...l]=n,c=r.endsWith("?"),u=r.replace(/\?$/,"");if(l.length===0)return c?[u,""]:[u];let f=Lh(l.join("/")),p=[];return p.push(...f.map(m=>m===""?u:[u,m].join("/"))),c&&p.push(...f),p.map(m=>s.startsWith("/")&&m===""?"/":m)}function Sm(s){s.sort((n,r)=>n.score!==r.score?r.score-n.score:Om(n.routesMeta.map(l=>l.childrenIndex),r.routesMeta.map(l=>l.childrenIndex)))}const Nm=/^:[\w-]+$/,bm=3,Em=2,Cm=1,Tm=10,Rm=-2,th=s=>s==="*";function Pm(s,n){let r=s.split("/"),l=r.length;return r.some(th)&&(l+=Rm),n&&(l+=Em),r.filter(c=>!th(c)).reduce((c,u)=>c+(Nm.test(u)?bm:u===""?Cm:Tm),l)}function Om(s,n){return s.length===n.length&&s.slice(0,-1).every((l,c)=>l===n[c])?s[s.length-1]-n[n.length-1]:0}function Am(s,n,r){let{routesMeta:l}=s,c={},u="/",f=[];for(let p=0;p<l.length;++p){let m=l[p],g=p===l.length-1,y=u==="/"?n:n.slice(u.length)||"/",x=bo({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},y),k=m.route;if(!x)return null;Object.assign(c,x.params),f.push({params:c,pathname:Rn([u,x.pathname]),pathnameBase:Mm(Rn([u,x.pathnameBase])),route:k}),x.pathnameBase!=="/"&&(u=Rn([u,x.pathnameBase]))}return f}function bo(s,n){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[r,l]=Im(s.path,s.caseSensitive,s.end),c=n.match(r);if(!c)return null;let u=c[0],f=u.replace(/(.)\/+$/,"$1"),p=c.slice(1);return{params:l.reduce((g,y,x)=>{let{paramName:k,isOptional:N}=y;if(k==="*"){let E=p[x]||"";f=u.slice(0,u.length-E.length).replace(/(.)\/+$/,"$1")}const R=p[x];return N&&!R?g[k]=void 0:g[k]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:s}}function Im(s,n,r){n===void 0&&(n=!1),r===void 0&&(r=!0),Bo(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let l=[],c="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,m)=>(l.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(l.push({paramName:"*"}),c+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?c+="\\/*$":s!==""&&s!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,n?void 0:"i"),l]}function $m(s){try{return s.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Bo(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),s}}function zr(s,n){if(n==="/")return s;if(!s.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,l=s.charAt(r);return l&&l!=="/"?null:s.slice(r)||"/"}const Dm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lm=s=>Dm.test(s);function Um(s,n){n===void 0&&(n="/");let{pathname:r,search:l="",hash:c=""}=typeof s=="string"?Br(s):s,u;if(r)if(Lm(r))u=r;else{if(r.includes("//")){let f=r;r=r.replace(/\/\/+/g,"/"),Bo(!1,"Pathnames cannot have embedded double slashes - normalizing "+(f+" -> "+r))}r.startsWith("/")?u=nh(r.substring(1),"/"):u=nh(r,n)}else u=n;return{pathname:u,search:Bm(l),hash:qm(c)}}function nh(s,n){let r=n.replace(/\/+$/,"").split("/");return s.split("/").forEach(c=>{c===".."?r.length>1&&r.pop():c!=="."&&r.push(c)}),r.length>1?r.join("/"):"/"}function mo(s,n,r,l){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(l)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zm(s){return s.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function qo(s,n){let r=zm(s);return n?r.map((l,c)=>c===r.length-1?l.pathname:l.pathnameBase):r.map(l=>l.pathnameBase)}function Fo(s,n,r,l){l===void 0&&(l=!1);let c;typeof s=="string"?c=Br(s):(c=Is({},s),Ae(!c.pathname||!c.pathname.includes("?"),mo("?","pathname","search",c)),Ae(!c.pathname||!c.pathname.includes("#"),mo("#","pathname","hash",c)),Ae(!c.search||!c.search.includes("#"),mo("#","search","hash",c)));let u=s===""||c.pathname==="",f=u?"/":c.pathname,p;if(f==null)p=r;else{let x=n.length-1;if(!l&&f.startsWith("..")){let k=f.split("/");for(;k[0]==="..";)k.shift(),x-=1;c.pathname=k.join("/")}p=x>=0?n[x]:"/"}let m=Um(c,p),g=f&&f!=="/"&&f.endsWith("/"),y=(u||f===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}const Rn=s=>s.join("/").replace(/\/\/+/g,"/"),Mm=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Bm=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,qm=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Fm(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const Uh=["post","put","patch","delete"];new Set(Uh);const Wm=["get",...Uh];new Set(Wm);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $s(){return $s=Object.assign?Object.assign.bind():function(s){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(s[l]=r[l])}return s},$s.apply(this,arguments)}const ua=A.createContext(null),zh=A.createContext(null),an=A.createContext(null),da=A.createContext(null),Pn=A.createContext({outlet:null,matches:[],isDataRoute:!1}),Mh=A.createContext(null);function Vm(s,n){let{relative:r}=n===void 0?{}:n;qr()||Ae(!1);let{basename:l,navigator:c}=A.useContext(an),{hash:u,pathname:f,search:p}=ha(s,{relative:r}),m=f;return l!=="/"&&(m=f==="/"?l:Rn([l,f])),c.createHref({pathname:m,search:p,hash:u})}function qr(){return A.useContext(da)!=null}function Fr(){return qr()||Ae(!1),A.useContext(da).location}function Bh(s){A.useContext(an).static||A.useLayoutEffect(s)}function Wr(){let{isDataRoute:s}=A.useContext(Pn);return s?sv():Hm()}function Hm(){qr()||Ae(!1);let s=A.useContext(ua),{basename:n,future:r,navigator:l}=A.useContext(an),{matches:c}=A.useContext(Pn),{pathname:u}=Fr(),f=JSON.stringify(qo(c,r.v7_relativeSplatPath)),p=A.useRef(!1);return Bh(()=>{p.current=!0}),A.useCallback(function(g,y){if(y===void 0&&(y={}),!p.current)return;if(typeof g=="number"){l.go(g);return}let x=Fo(g,JSON.parse(f),u,y.relative==="path");s==null&&n!=="/"&&(x.pathname=x.pathname==="/"?n:Rn([n,x.pathname])),(y.replace?l.replace:l.push)(x,y.state,y)},[n,l,f,u,s])}function ha(s,n){let{relative:r}=n===void 0?{}:n,{future:l}=A.useContext(an),{matches:c}=A.useContext(Pn),{pathname:u}=Fr(),f=JSON.stringify(qo(c,l.v7_relativeSplatPath));return A.useMemo(()=>Fo(s,JSON.parse(f),u,r==="path"),[s,f,u,r])}function Km(s,n){return Jm(s,n)}function Jm(s,n,r,l){qr()||Ae(!1);let{navigator:c}=A.useContext(an),{matches:u}=A.useContext(Pn),f=u[u.length-1],p=f?f.params:{};f&&f.pathname;let m=f?f.pathnameBase:"/";f&&f.route;let g=Fr(),y;if(n){var x;let T=typeof n=="string"?Br(n):n;m==="/"||(x=T.pathname)!=null&&x.startsWith(m)||Ae(!1),y=T}else y=g;let k=y.pathname||"/",N=k;if(m!=="/"){let T=m.replace(/^\//,"").split("/");N="/"+k.replace(/^\//,"").split("/").slice(T.length).join("/")}let R=_m(s,{pathname:N}),E=Zm(R&&R.map(T=>Object.assign({},T,{params:Object.assign({},p,T.params),pathname:Rn([m,c.encodeLocation?c.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?m:Rn([m,c.encodeLocation?c.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),u,r,l);return n&&E?A.createElement(da.Provider,{value:{location:$s({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Tn.Pop}},E):E}function Gm(){let s=rv(),n=Fm(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),r=s instanceof Error?s.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},n),r?A.createElement("pre",{style:c},r):null,null)}const Qm=A.createElement(Gm,null);class Ym extends A.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,r){return r.location!==n.location||r.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:r.error,location:r.location,revalidation:n.revalidation||r.revalidation}}componentDidCatch(n,r){console.error("React Router caught the following error during render",n,r)}render(){return this.state.error!==void 0?A.createElement(Pn.Provider,{value:this.props.routeContext},A.createElement(Mh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Xm(s){let{routeContext:n,match:r,children:l}=s,c=A.useContext(ua);return c&&c.static&&c.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=r.route.id),A.createElement(Pn.Provider,{value:n},l)}function Zm(s,n,r,l){var c;if(n===void 0&&(n=[]),r===void 0&&(r=null),l===void 0&&(l=null),s==null){var u;if(!r)return null;if(r.errors)s=r.matches;else if((u=l)!=null&&u.v7_partialHydration&&n.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let f=s,p=(c=r)==null?void 0:c.errors;if(p!=null){let y=f.findIndex(x=>x.route.id&&(p==null?void 0:p[x.route.id])!==void 0);y>=0||Ae(!1),f=f.slice(0,Math.min(f.length,y+1))}let m=!1,g=-1;if(r&&l&&l.v7_partialHydration)for(let y=0;y<f.length;y++){let x=f[y];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(g=y),x.route.id){let{loaderData:k,errors:N}=r,R=x.route.loader&&k[x.route.id]===void 0&&(!N||N[x.route.id]===void 0);if(x.route.lazy||R){m=!0,g>=0?f=f.slice(0,g+1):f=[f[0]];break}}}return f.reduceRight((y,x,k)=>{let N,R=!1,E=null,T=null;r&&(N=p&&x.route.id?p[x.route.id]:void 0,E=x.route.errorElement||Qm,m&&(g<0&&k===0?(iv("route-fallback"),R=!0,T=null):g===k&&(R=!0,T=x.route.hydrateFallbackElement||null)));let O=n.concat(f.slice(0,k+1)),$=()=>{let I;return N?I=E:R?I=T:x.route.Component?I=A.createElement(x.route.Component,null):x.route.element?I=x.route.element:I=y,A.createElement(Xm,{match:x,routeContext:{outlet:y,matches:O,isDataRoute:r!=null},children:I})};return r&&(x.route.ErrorBoundary||x.route.errorElement||k===0)?A.createElement(Ym,{location:r.location,revalidation:r.revalidation,component:E,error:N,children:$(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):$()},null)}var qh=(function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s})(qh||{}),Fh=(function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s})(Fh||{});function ev(s){let n=A.useContext(ua);return n||Ae(!1),n}function tv(s){let n=A.useContext(zh);return n||Ae(!1),n}function nv(s){let n=A.useContext(Pn);return n||Ae(!1),n}function Wh(s){let n=nv(),r=n.matches[n.matches.length-1];return r.route.id||Ae(!1),r.route.id}function rv(){var s;let n=A.useContext(Mh),r=tv(),l=Wh();return n!==void 0?n:(s=r.errors)==null?void 0:s[l]}function sv(){let{router:s}=ev(qh.UseNavigateStable),n=Wh(Fh.UseNavigateStable),r=A.useRef(!1);return Bh(()=>{r.current=!0}),A.useCallback(function(c,u){u===void 0&&(u={}),r.current&&(typeof c=="number"?s.navigate(c):s.navigate(c,$s({fromRouteId:n},u)))},[s,n])}const rh={};function iv(s,n,r){rh[s]||(rh[s]=!0)}function av(s,n){s==null||s.v7_startTransition,s==null||s.v7_relativeSplatPath}function Dr(s){let{to:n,replace:r,state:l,relative:c}=s;qr()||Ae(!1);let{future:u,static:f}=A.useContext(an),{matches:p}=A.useContext(Pn),{pathname:m}=Fr(),g=Wr(),y=Fo(n,qo(p,u.v7_relativeSplatPath),m,c==="path"),x=JSON.stringify(y);return A.useEffect(()=>g(JSON.parse(x),{replace:r,state:l,relative:c}),[g,x,c,r,l]),null}function de(s){Ae(!1)}function lv(s){let{basename:n="/",children:r=null,location:l,navigationType:c=Tn.Pop,navigator:u,static:f=!1,future:p}=s;qr()&&Ae(!1);let m=n.replace(/^\/*/,"/"),g=A.useMemo(()=>({basename:m,navigator:u,static:f,future:$s({v7_relativeSplatPath:!1},p)}),[m,p,u,f]);typeof l=="string"&&(l=Br(l));let{pathname:y="/",search:x="",hash:k="",state:N=null,key:R="default"}=l,E=A.useMemo(()=>{let T=zr(y,m);return T==null?null:{location:{pathname:T,search:x,hash:k,state:N,key:R},navigationType:c}},[m,y,x,k,N,R,c]);return E==null?null:A.createElement(an.Provider,{value:g},A.createElement(da.Provider,{children:r,value:E}))}function ov(s){let{children:n,location:r}=s;return Km(Eo(n),r)}new Promise(()=>{});function Eo(s,n){n===void 0&&(n=[]);let r=[];return A.Children.forEach(s,(l,c)=>{if(!A.isValidElement(l))return;let u=[...n,c];if(l.type===A.Fragment){r.push.apply(r,Eo(l.props.children,u));return}l.type!==de&&Ae(!1),!l.props.index||!l.props.children||Ae(!1);let f={id:l.props.id||u.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(f.children=Eo(l.props.children,u)),r.push(f)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ia(){return ia=Object.assign?Object.assign.bind():function(s){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(s[l]=r[l])}return s},ia.apply(this,arguments)}function Vh(s,n){if(s==null)return{};var r={},l=Object.keys(s),c,u;for(u=0;u<l.length;u++)c=l[u],!(n.indexOf(c)>=0)&&(r[c]=s[c]);return r}function cv(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function uv(s,n){return s.button===0&&(!n||n==="_self")&&!cv(s)}const dv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hv=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],fv="6";try{window.__reactRouterVersion=fv}catch{}const pv=A.createContext({isTransitioning:!1}),mv="startTransition",sh=hm[mv];function vv(s){let{basename:n,children:r,future:l,window:c}=s,u=A.useRef();u.current==null&&(u.current=wm({window:c,v5Compat:!0}));let f=u.current,[p,m]=A.useState({action:f.action,location:f.location}),{v7_startTransition:g}=l||{},y=A.useCallback(x=>{g&&sh?sh(()=>m(x)):m(x)},[m,g]);return A.useLayoutEffect(()=>f.listen(y),[f,y]),A.useEffect(()=>av(l),[l]),A.createElement(lv,{basename:n,children:r,location:p.location,navigationType:p.action,navigator:f,future:l})}const gv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ye=A.forwardRef(function(n,r){let{onClick:l,relative:c,reloadDocument:u,replace:f,state:p,target:m,to:g,preventScrollReset:y,viewTransition:x}=n,k=Vh(n,dv),{basename:N}=A.useContext(an),R,E=!1;if(typeof g=="string"&&yv.test(g)&&(R=g,gv))try{let I=new URL(window.location.href),z=g.startsWith("//")?new URL(I.protocol+g):new URL(g),J=zr(z.pathname,N);z.origin===I.origin&&J!=null?g=J+z.search+z.hash:E=!0}catch{}let T=Vm(g,{relative:c}),O=xv(g,{replace:f,state:p,target:m,preventScrollReset:y,relative:c,viewTransition:x});function $(I){l&&l(I),I.defaultPrevented||O(I)}return A.createElement("a",ia({},k,{href:R||T,onClick:E||u?l:$,ref:r,target:m}))}),Or=A.forwardRef(function(n,r){let{"aria-current":l="page",caseSensitive:c=!1,className:u="",end:f=!1,style:p,to:m,viewTransition:g,children:y}=n,x=Vh(n,hv),k=ha(m,{relative:x.relative}),N=Fr(),R=A.useContext(zh),{navigator:E,basename:T}=A.useContext(an),O=R!=null&&jv(k)&&g===!0,$=E.encodeLocation?E.encodeLocation(k).pathname:k.pathname,I=N.pathname,z=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;c||(I=I.toLowerCase(),z=z?z.toLowerCase():null,$=$.toLowerCase()),z&&T&&(z=zr(z,T)||z);const J=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let K=I===$||!f&&I.startsWith($)&&I.charAt(J)==="/",re=z!=null&&(z===$||!f&&z.startsWith($)&&z.charAt($.length)==="/"),pe={isActive:K,isPending:re,isTransitioning:O},Ie=K?l:void 0,st;typeof u=="function"?st=u(pe):st=[u,K?"active":null,re?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let Nt=typeof p=="function"?p(pe):p;return A.createElement(ye,ia({},x,{"aria-current":Ie,className:st,ref:r,style:Nt,to:m,viewTransition:g}),typeof y=="function"?y(pe):y)});var Co;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(Co||(Co={}));var ih;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(ih||(ih={}));function wv(s){let n=A.useContext(ua);return n||Ae(!1),n}function xv(s,n){let{target:r,replace:l,state:c,preventScrollReset:u,relative:f,viewTransition:p}=n===void 0?{}:n,m=Wr(),g=Fr(),y=ha(s,{relative:f});return A.useCallback(x=>{if(uv(x,r)){x.preventDefault();let k=l!==void 0?l:sa(g)===sa(y);m(s,{replace:k,state:c,preventScrollReset:u,relative:f,viewTransition:p})}},[g,m,y,l,c,r,s,u,f,p])}function jv(s,n){n===void 0&&(n={});let r=A.useContext(pv);r==null&&Ae(!1);let{basename:l}=wv(Co.useViewTransitionState),c=ha(s,{relative:n.relative});if(!r.isTransitioning)return!1;let u=zr(r.currentLocation.pathname,l)||r.currentLocation.pathname,f=zr(r.nextLocation.pathname,l)||r.nextLocation.pathname;return bo(c.pathname,f)!=null||bo(c.pathname,u)!=null}function fa(s,n){var r={};for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&n.indexOf(l)<0&&(r[l]=s[l]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(s);c<l.length;c++)n.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(s,l[c])&&(r[l[c]]=s[l[c]]);return r}function _v(s,n,r,l){function c(u){return u instanceof r?u:new r(function(f){f(u)})}return new(r||(r=Promise))(function(u,f){function p(y){try{g(l.next(y))}catch(x){f(x)}}function m(y){try{g(l.throw(y))}catch(x){f(x)}}function g(y){y.done?u(y.value):c(y.value).then(p,m)}g((l=l.apply(s,n||[])).next())})}const kv=s=>s?(...n)=>s(...n):(...n)=>fetch(...n);class Wo extends Error{constructor(n,r="FunctionsError",l){super(n),this.name=r,this.context=l}}class Sv extends Wo{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class ah extends Wo{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class lh extends Wo{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var To;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(To||(To={}));class Nv{constructor(n,{headers:r={},customFetch:l,region:c=To.Any}={}){this.url=n,this.headers=r,this.region=c,this.fetch=kv(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return _v(this,arguments,void 0,function*(r,l={}){var c;let u,f;try{const{headers:p,method:m,body:g,signal:y,timeout:x}=l;let k={},{region:N}=l;N||(N=this.region);const R=new URL(`${this.url}/${r}`);N&&N!=="any"&&(k["x-region"]=N,R.searchParams.set("forceFunctionRegion",N));let E;g&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(k["Content-Type"]="application/octet-stream",E=g):typeof g=="string"?(k["Content-Type"]="text/plain",E=g):typeof FormData<"u"&&g instanceof FormData?E=g:(k["Content-Type"]="application/json",E=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?E=JSON.stringify(g):E=g;let T=y;x&&(f=new AbortController,u=setTimeout(()=>f.abort(),x),y?(T=f.signal,y.addEventListener("abort",()=>f.abort())):T=f.signal);const O=yield this.fetch(R.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},k),this.headers),p),body:E,signal:T}).catch(J=>{throw new Sv(J)}),$=O.headers.get("x-relay-error");if($&&$==="true")throw new ah(O);if(!O.ok)throw new lh(O);let I=((c=O.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),z;return I==="application/json"?z=yield O.json():I==="application/octet-stream"||I==="application/pdf"?z=yield O.blob():I==="text/event-stream"?z=O:I==="multipart/form-data"?z=yield O.formData():z=yield O.text(),{data:z,error:null,response:O}}catch(p){return{data:null,error:p,response:p instanceof lh||p instanceof ah?p.context:void 0}}finally{u&&clearTimeout(u)}})}}var bv=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},Ev=class{constructor(s){var n,r;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(n=s.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=s.signal,this.isMaybeSingle=(r=s.isMaybeSingle)!==null&&r!==void 0?r:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,n){return this.headers=new Headers(this.headers),this.headers.set(s,n),this}then(s,n){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let f=null,p=null,m=null,g=u.status,y=u.statusText;if(u.ok){var x,k;if(r.method!=="HEAD"){var N;const O=await u.text();O===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((N=r.headers.get("Accept"))===null||N===void 0)&&N.includes("application/vnd.pgrst.plan+text"))?p=O:p=JSON.parse(O))}const E=(x=r.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),T=(k=u.headers.get("content-range"))===null||k===void 0?void 0:k.split("/");E&&T&&T.length>1&&(m=parseInt(T[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(p)&&(p.length>1?(f={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,m=null,g=406,y="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{var R;const E=await u.text();try{f=JSON.parse(E),Array.isArray(f)&&u.status===404&&(p=[],f=null,g=200,y="OK")}catch{u.status===404&&E===""?(g=204,y="No Content"):f={message:E}}if(f&&r.isMaybeSingle&&(!(f==null||(R=f.details)===null||R===void 0)&&R.includes("0 rows"))&&(f=null,g=200,y="OK"),f&&r.shouldThrowOnError)throw new bv(f)}return{error:f,data:p,count:m,status:g,statusText:y}});return this.shouldThrowOnError||(c=c.catch(u=>{var f;let p="";const m=u==null?void 0:u.cause;if(m){var g,y,x,k;const R=(g=m==null?void 0:m.message)!==null&&g!==void 0?g:"",E=(y=m==null?void 0:m.code)!==null&&y!==void 0?y:"";p=`${(x=u==null?void 0:u.name)!==null&&x!==void 0?x:"FetchError"}: ${u==null?void 0:u.message}`,p+=`

Caused by: ${(k=m==null?void 0:m.name)!==null&&k!==void 0?k:"Error"}: ${R}`,E&&(p+=` (${E})`),m!=null&&m.stack&&(p+=`
${m.stack}`)}else{var N;p=(N=u==null?void 0:u.stack)!==null&&N!==void 0?N:""}return{error:{message:`${(f=u==null?void 0:u.name)!==null&&f!==void 0?f:"FetchError"}: ${u==null?void 0:u.message}`,details:p,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(s,n)}returns(){return this}overrideTypes(){return this}},Cv=class extends Ev{select(s){let n=!1;const r=(s??"*").split("").map(l=>/\s/.test(l)&&!n?"":(l==='"'&&(n=!n),l)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:n=!0,nullsFirst:r,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",f=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${f?`${f},`:""}${s}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:n,referencedTable:r=n}={}){const l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,n,{foreignTable:r,referencedTable:l=r}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${n-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:n=!1,settings:r=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var f;const p=[s?"analyze":null,n?"verbose":null,r?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${p};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const oh=new RegExp("[,()]");var Ar=class extends Cv{eq(s,n){return this.url.searchParams.append(s,`eq.${n}`),this}neq(s,n){return this.url.searchParams.append(s,`neq.${n}`),this}gt(s,n){return this.url.searchParams.append(s,`gt.${n}`),this}gte(s,n){return this.url.searchParams.append(s,`gte.${n}`),this}lt(s,n){return this.url.searchParams.append(s,`lt.${n}`),this}lte(s,n){return this.url.searchParams.append(s,`lte.${n}`),this}like(s,n){return this.url.searchParams.append(s,`like.${n}`),this}likeAllOf(s,n){return this.url.searchParams.append(s,`like(all).{${n.join(",")}}`),this}likeAnyOf(s,n){return this.url.searchParams.append(s,`like(any).{${n.join(",")}}`),this}ilike(s,n){return this.url.searchParams.append(s,`ilike.${n}`),this}ilikeAllOf(s,n){return this.url.searchParams.append(s,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(s,n){return this.url.searchParams.append(s,`ilike(any).{${n.join(",")}}`),this}regexMatch(s,n){return this.url.searchParams.append(s,`match.${n}`),this}regexIMatch(s,n){return this.url.searchParams.append(s,`imatch.${n}`),this}is(s,n){return this.url.searchParams.append(s,`is.${n}`),this}isDistinct(s,n){return this.url.searchParams.append(s,`isdistinct.${n}`),this}in(s,n){const r=Array.from(new Set(n)).map(l=>typeof l=="string"&&oh.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${r})`),this}notIn(s,n){const r=Array.from(new Set(n)).map(l=>typeof l=="string"&&oh.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`not.in.(${r})`),this}contains(s,n){return typeof n=="string"?this.url.searchParams.append(s,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(s,`cs.{${n.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(n)}`),this}containedBy(s,n){return typeof n=="string"?this.url.searchParams.append(s,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(s,`cd.{${n.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(n)}`),this}rangeGt(s,n){return this.url.searchParams.append(s,`sr.${n}`),this}rangeGte(s,n){return this.url.searchParams.append(s,`nxl.${n}`),this}rangeLt(s,n){return this.url.searchParams.append(s,`sl.${n}`),this}rangeLte(s,n){return this.url.searchParams.append(s,`nxr.${n}`),this}rangeAdjacent(s,n){return this.url.searchParams.append(s,`adj.${n}`),this}overlaps(s,n){return typeof n=="string"?this.url.searchParams.append(s,`ov.${n}`):this.url.searchParams.append(s,`ov.{${n.join(",")}}`),this}textSearch(s,n,{config:r,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=r===void 0?"":`(${r})`;return this.url.searchParams.append(s,`${c}fts${u}.${n}`),this}match(s){return Object.entries(s).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(s,n,r){return this.url.searchParams.append(s,`not.${n}.${r}`),this}or(s,{foreignTable:n,referencedTable:r=n}={}){const l=r?`${r}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,n,r){return this.url.searchParams.append(s,`${n}.${r}`),this}},Tv=class{constructor(s,{headers:n={},schema:r,fetch:l}){this.url=s,this.headers=new Headers(n),this.schema=r,this.fetch=l}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(s,n){const{head:r=!1,count:l}=n??{},c=r?"HEAD":"GET";let u=!1;const f=(s??"*").split("").map(g=>/\s/.test(g)&&!u?"":(g==='"'&&(u=!u),g)).join(""),{url:p,headers:m}=this.cloneRequestState();return p.searchParams.set("select",f),l&&m.append("Prefer",`count=${l}`),new Ar({method:c,url:p,headers:m,schema:this.schema,fetch:this.fetch})}insert(s,{count:n,defaultToNull:r=!0}={}){var l;const c="POST",{url:u,headers:f}=this.cloneRequestState();if(n&&f.append("Prefer",`count=${n}`),r||f.append("Prefer","missing=default"),Array.isArray(s)){const p=s.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(p.length>0){const m=[...new Set(p)].map(g=>`"${g}"`);u.searchParams.set("columns",m.join(","))}}return new Ar({method:c,url:u,headers:f,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:n,ignoreDuplicates:r=!1,count:l,defaultToNull:c=!0}={}){var u;const f="POST",{url:p,headers:m}=this.cloneRequestState();if(m.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&p.searchParams.set("on_conflict",n),l&&m.append("Prefer",`count=${l}`),c||m.append("Prefer","missing=default"),Array.isArray(s)){const g=s.reduce((y,x)=>y.concat(Object.keys(x)),[]);if(g.length>0){const y=[...new Set(g)].map(x=>`"${x}"`);p.searchParams.set("columns",y.join(","))}}return new Ar({method:f,url:p,headers:m,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:n}={}){var r;const l="PATCH",{url:c,headers:u}=this.cloneRequestState();return n&&u.append("Prefer",`count=${n}`),new Ar({method:l,url:c,headers:u,schema:this.schema,body:s,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:s}={}){var n;const r="DELETE",{url:l,headers:c}=this.cloneRequestState();return s&&c.append("Prefer",`count=${s}`),new Ar({method:r,url:l,headers:c,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},Rv=class Hh{constructor(n,{headers:r={},schema:l,fetch:c}={}){this.url=n,this.headers=new Headers(r),this.schemaName=l,this.fetch=c}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Tv(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new Hh(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,r={},{head:l=!1,get:c=!1,count:u}={}){var f;let p;const m=new URL(`${this.url}/rpc/${n}`);let g;const y=N=>N!==null&&typeof N=="object"&&(!Array.isArray(N)||N.some(y)),x=l&&Object.values(r).some(y);x?(p="POST",g=r):l||c?(p=l?"HEAD":"GET",Object.entries(r).filter(([N,R])=>R!==void 0).map(([N,R])=>[N,Array.isArray(R)?`{${R.join(",")}}`:`${R}`]).forEach(([N,R])=>{m.searchParams.append(N,R)})):(p="POST",g=r);const k=new Headers(this.headers);return x?k.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&k.set("Prefer",`count=${u}`),new Ar({method:p,url:m,headers:k,schema:this.schemaName,body:g,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class Pv{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const l=r.versions;if(l&&l.node){const c=l.node,u=parseInt(c.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let r=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(r+=`

Suggested solution: ${n.workaround}`),new Error(r)}static createWebSocket(n,r){const l=this.getWebSocketConstructor();return new l(n,r)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const Ov="2.90.1",Av=`realtime-js/${Ov}`,Kh="1.0.0",Iv="2.0.0",ch=Kh,Ro=1e4,$v=1e3,Dv=100;var En;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(En||(En={}));var Fe;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Fe||(Fe={}));var Ft;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Ft||(Ft={}));var Po;(function(s){s.websocket="websocket"})(Po||(Po={}));var Qn;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(Qn||(Qn={}));class Lv{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,r){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(n));let l=[n.join_ref,n.ref,n.topic,n.event,n.payload];return r(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(n){var r;return this._isArrayBuffer((r=n.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var r,l;const c=(l=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(n){var r,l;const c=(l=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:{},f=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,r,l){var c,u;const f=n.topic,p=(c=n.ref)!==null&&c!==void 0?c:"",m=(u=n.join_ref)!==null&&u!==void 0?u:"",g=n.payload.event,y=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},x=Object.keys(y).length===0?"":JSON.stringify(y);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const k=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+p.length+f.length+g.length+x.length,N=new ArrayBuffer(this.HEADER_LENGTH+k);let R=new DataView(N),E=0;R.setUint8(E++,this.KINDS.userBroadcastPush),R.setUint8(E++,m.length),R.setUint8(E++,p.length),R.setUint8(E++,f.length),R.setUint8(E++,g.length),R.setUint8(E++,x.length),R.setUint8(E++,r),Array.from(m,O=>R.setUint8(E++,O.charCodeAt(0))),Array.from(p,O=>R.setUint8(E++,O.charCodeAt(0))),Array.from(f,O=>R.setUint8(E++,O.charCodeAt(0))),Array.from(g,O=>R.setUint8(E++,O.charCodeAt(0))),Array.from(x,O=>R.setUint8(E++,O.charCodeAt(0)));var T=new Uint8Array(N.byteLength+l.byteLength);return T.set(new Uint8Array(N),0),T.set(new Uint8Array(l),N.byteLength),T.buffer}decode(n,r){if(this._isArrayBuffer(n)){let l=this._binaryDecode(n);return r(l)}if(typeof n=="string"){const l=JSON.parse(n),[c,u,f,p,m]=l;return r({join_ref:c,ref:u,topic:f,event:p,payload:m})}return r({})}_binaryDecode(n){const r=new DataView(n),l=r.getUint8(0),c=new TextDecoder;switch(l){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,r,c)}}_decodeUserBroadcast(n,r,l){const c=r.getUint8(1),u=r.getUint8(2),f=r.getUint8(3),p=r.getUint8(4);let m=this.HEADER_LENGTH+4;const g=l.decode(n.slice(m,m+c));m=m+c;const y=l.decode(n.slice(m,m+u));m=m+u;const x=l.decode(n.slice(m,m+f));m=m+f;const k=n.slice(m,n.byteLength),N=p===this.JSON_ENCODING?JSON.parse(l.decode(k)):k,R={type:this.BROADCAST_EVENT,event:y,payload:N};return f>0&&(R.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:R}}_isArrayBuffer(n){var r;return n instanceof ArrayBuffer||((r=n==null?void 0:n.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(n,r){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([l])=>r.includes(l)))}}class Jh{constructor(n,r){this.callback=n,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ke;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(ke||(ke={}));const uh=(s,n,r={})=>{var l;const c=(l=r.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((u,f)=>(u[f]=Uv(f,s,n,c),u),{}):{}},Uv=(s,n,r,l)=>{const c=n.find(p=>p.name===s),u=c==null?void 0:c.type,f=r[s];return u&&!l.includes(u)?Gh(u,f):Oo(f)},Gh=(s,n)=>{if(s.charAt(0)==="_"){const r=s.slice(1,s.length);return qv(n,r)}switch(s){case ke.bool:return zv(n);case ke.float4:case ke.float8:case ke.int2:case ke.int4:case ke.int8:case ke.numeric:case ke.oid:return Mv(n);case ke.json:case ke.jsonb:return Bv(n);case ke.timestamp:return Fv(n);case ke.abstime:case ke.date:case ke.daterange:case ke.int4range:case ke.int8range:case ke.money:case ke.reltime:case ke.text:case ke.time:case ke.timestamptz:case ke.timetz:case ke.tsrange:case ke.tstzrange:return Oo(n);default:return Oo(n)}},Oo=s=>s,zv=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},Mv=s=>{if(typeof s=="string"){const n=parseFloat(s);if(!Number.isNaN(n))return n}return s},Bv=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},qv=(s,n)=>{if(typeof s!="string")return s;const r=s.length-1,l=s[r];if(s[0]==="{"&&l==="}"){let u;const f=s.slice(1,r);try{u=JSON.parse("["+f+"]")}catch{u=f?f.split(","):[]}return u.map(p=>Gh(n,p))}return s},Fv=s=>typeof s=="string"?s.replace(" ","T"):s,Qh=s=>{const n=new URL(s);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class vo{constructor(n,r,l={},c=Ro){this.channel=n,this.event=r,this.payload=l,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,r){var l;return this._hasReceived(n)&&r((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:r}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(r))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var dh;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(dh||(dh={}));class Os{constructor(n,r){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},c=>{const{onJoin:u,onLeave:f,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Os.syncState(this.state,c,u,f),this.pendingDiffs.forEach(m=>{this.state=Os.syncDiff(this.state,m,u,f)}),this.pendingDiffs=[],p()}),this.channel._on(l.diff,{},c=>{const{onJoin:u,onLeave:f,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Os.syncDiff(this.state,c,u,f),p())}),this.onJoin((c,u,f)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:u,newPresences:f})}),this.onLeave((c,u,f)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:u,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,r,l,c){const u=this.cloneDeep(n),f=this.transformState(r),p={},m={};return this.map(u,(g,y)=>{f[g]||(m[g]=y)}),this.map(f,(g,y)=>{const x=u[g];if(x){const k=y.map(T=>T.presence_ref),N=x.map(T=>T.presence_ref),R=y.filter(T=>N.indexOf(T.presence_ref)<0),E=x.filter(T=>k.indexOf(T.presence_ref)<0);R.length>0&&(p[g]=R),E.length>0&&(m[g]=E)}else p[g]=y}),this.syncDiff(u,{joins:p,leaves:m},l,c)}static syncDiff(n,r,l,c){const{joins:u,leaves:f}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return l||(l=()=>{}),c||(c=()=>{}),this.map(u,(p,m)=>{var g;const y=(g=n[p])!==null&&g!==void 0?g:[];if(n[p]=this.cloneDeep(m),y.length>0){const x=n[p].map(N=>N.presence_ref),k=y.filter(N=>x.indexOf(N.presence_ref)<0);n[p].unshift(...k)}l(p,y,m)}),this.map(f,(p,m)=>{let g=n[p];if(!g)return;const y=m.map(x=>x.presence_ref);g=g.filter(x=>y.indexOf(x.presence_ref)<0),n[p]=g,c(p,g,m),g.length===0&&delete n[p]}),n}static map(n,r){return Object.getOwnPropertyNames(n).map(l=>r(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((r,l)=>{const c=n[l];return"metas"in c?r[l]=c.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):r[l]=c,r},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var hh;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(hh||(hh={}));var As;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(As||(As={}));var sn;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(sn||(sn={}));class Lr{constructor(n,r={config:{}},l){var c,u;if(this.topic=n,this.params=r,this.socket=l,this.bindings={},this.state=Fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new vo(this,Ft.join,this.params,this.timeout),this.rejoinTimer=new Jh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fe.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ft.reply,{},(f,p)=>{this._trigger(this._replyEventName(p),f)}),this.presence=new Os(this),this.broadcastEndpointURL=Qh(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,r=this.timeout){var l,c,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Fe.closed){const{config:{broadcast:f,presence:p,private:m}}=this.params,g=(c=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(N=>N.filter))!==null&&c!==void 0?c:[],y=!!this.bindings[As.PRESENCE]&&this.bindings[As.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,x={},k={broadcast:f,presence:Object.assign(Object.assign({},p),{enabled:y}),postgres_changes:g,private:m};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(N=>n==null?void 0:n(sn.CHANNEL_ERROR,N)),this._onClose(()=>n==null?void 0:n(sn.CLOSED)),this.updateJoinPayload(Object.assign({config:k},x)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:N})=>{var R;if(this.socket._isManualToken()||this.socket.setAuth(),N===void 0){n==null||n(sn.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,T=(R=E==null?void 0:E.length)!==null&&R!==void 0?R:0,O=[];for(let $=0;$<T;$++){const I=E[$],{filter:{event:z,schema:J,table:K,filter:re}}=I,pe=N&&N[$];if(pe&&pe.event===z&&Lr.isFilterValueEqual(pe.schema,J)&&Lr.isFilterValueEqual(pe.table,K)&&Lr.isFilterValueEqual(pe.filter,re))O.push(Object.assign(Object.assign({},I),{id:pe.id}));else{this.unsubscribe(),this.state=Fe.errored,n==null||n(sn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,n&&n(sn.SUBSCRIBED);return}}).receive("error",N=>{this.state=Fe.errored,n==null||n(sn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(N).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(sn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,r={}){return await this.send({type:"presence",event:"track",payload:n},r.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,r,l){return this.state===Fe.joined&&n===As.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,r,l)}async httpSend(n,r,l={}){var c;if(r==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:r,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(c=l.timeout)!==null&&c!==void 0?c:this.timeout);if(p.status===202)return{success:!0};let m=p.statusText;try{const g=await p.json();m=g.error||g.message||m}catch{}return Promise.reject(new Error(m))}async send(n,r={}){var l,c;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:f}=n,p={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(p.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:p,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:f,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(l=r.timeout)!==null&&l!==void 0?l:this.timeout);return await((c=g.body)===null||c===void 0?void 0:c.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var f,p,m;const g=this._push(n.type,n,r.timeout||this.timeout);n.type==="broadcast"&&!(!((m=(p=(f=this.params)===null||f===void 0?void 0:f.config)===null||p===void 0?void 0:p.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Fe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ft.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(c=>{l=new vo(this,Ft.leave,{},n),l.receive("ok",()=>{r(),c("ok")}).receive("timeout",()=>{r(),c("timed out")}).receive("error",()=>{c("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l==null||l.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Fe.closed,this.bindings={}}async _fetchWithTimeout(n,r,l){const c=new AbortController,u=setTimeout(()=>c.abort(),l),f=await this.socket.fetch(n,Object.assign(Object.assign({},r),{signal:c.signal}));return clearTimeout(u),f}_push(n,r,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new vo(this,n,r,l);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>Dv){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(n,r,l){return r}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,r,l){var c,u;const f=n.toLocaleLowerCase(),{close:p,error:m,leave:g,join:y}=Ft;if(l&&[p,m,g,y].indexOf(f)>=0&&l!==this._joinRef())return;let k=this._onMessage(f,r,l);if(r&&!k)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(N=>{var R,E,T;return((R=N.filter)===null||R===void 0?void 0:R.event)==="*"||((T=(E=N.filter)===null||E===void 0?void 0:E.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===f}).map(N=>N.callback(k,l)):(u=this.bindings[f])===null||u===void 0||u.filter(N=>{var R,E,T,O,$,I,z,J;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in N){const K=N.id,re=(R=N.filter)===null||R===void 0?void 0:R.event;return K&&((E=r.ids)===null||E===void 0?void 0:E.includes(K))&&(re==="*"||(re==null?void 0:re.toLocaleLowerCase())===((T=r.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))&&(!(!((O=N.filter)===null||O===void 0)&&O.table)||N.filter.table===(($=r.data)===null||$===void 0?void 0:$.table))}else{const K=(z=(I=N==null?void 0:N.filter)===null||I===void 0?void 0:I.event)===null||z===void 0?void 0:z.toLocaleLowerCase();return K==="*"||K===((J=r==null?void 0:r.event)===null||J===void 0?void 0:J.toLocaleLowerCase())}else return N.type.toLocaleLowerCase()===f}).map(N=>{if(typeof k=="object"&&"ids"in k){const R=k.data,{schema:E,table:T,commit_timestamp:O,type:$,errors:I}=R;k=Object.assign(Object.assign({},{schema:E,table:T,commit_timestamp:O,eventType:$,new:{},old:{},errors:I}),this._getPayloadRecords(R))}N.callback(k,l)})}_isClosed(){return this.state===Fe.closed}_isJoined(){return this.state===Fe.joined}_isJoining(){return this.state===Fe.joining}_isLeaving(){return this.state===Fe.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,r,l){const c=n.toLocaleLowerCase(),u={type:c,filter:r,callback:l};return this.bindings[c]?this.bindings[c].push(u):this.bindings[c]=[u],this}_off(n,r){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(c=>{var u;return!(((u=c.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===l&&Lr.isEqual(c.filter,r))})),this}static isEqual(n,r){if(Object.keys(n).length!==Object.keys(r).length)return!1;for(const l in n)if(n[l]!==r[l])return!1;return!0}static isFilterValueEqual(n,r){return(n??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Ft.close,{},n)}_onError(n){this._on(Ft.error,{},r=>n(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fe.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const r={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(r.new=uh(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(r.old=uh(n.columns,n.old_record)),r}}const go=()=>{},ea={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Wv=[1e3,2e3,5e3,1e4],Vv=1e4,Hv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Kv{constructor(n,r){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ro,this.transport=null,this.heartbeatIntervalMs=ea.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=go,this.ref=0,this.reconnectTimer=null,this.vsn=ch,this.logger=go,this.conn=null,this.sendBuffer=[],this.serializer=new Lv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...u)=>c(...u):(...u)=>fetch(...u),!(!((l=r==null?void 0:r.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${n}/${Po.websocket}`,this.httpEndpoint=Qh(n),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Pv.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const r=n.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const r=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const n=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,r,l){this.logger(n,r,l)}connectionState(){switch(this.conn&&this.conn.readyState){case En.connecting:return Qn.Connecting;case En.open:return Qn.Open;case En.closing:return Qn.Closing;default:return Qn.Closed}}isConnected(){return this.connectionState()===Qn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,r={config:{}}){const l=`realtime:${n}`,c=this.getChannels().find(u=>u.topic===l);if(c)return c;{const u=new Lr(`realtime:${n}`,r,this);return this.channels.push(u),u}}push(n){const{topic:r,event:l,payload:c,ref:u}=n,f=()=>{this.encode(n,p=>{var m;(m=this.conn)===null||m===void 0||m.send(p)})};this.log("push",`${r} ${l} (${u})`,c),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close($v,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ea.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let r=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${n}"`),r.unsubscribe())}_remove(n){this.channels=this.channels.filter(r=>r.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",g)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:l,event:c,payload:u,ref:f}=r,p=f?`(${f})`:"",m=u.status||"";this.log("receive",`${m} ${l} ${c} ${p}`.trim(),u),this.channels.filter(g=>g._isMember(l)).forEach(g=>g._trigger(c,u,f)),this._triggerStateCallbacks("message",r)})}_clearTimer(n){var r;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===En.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===En.open||this.conn.readyState===En.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var r;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Ft.error))}_appendParams(n,r){if(Object.keys(r).length===0)return n;const l=n.match(/\?/)?"&":"?",c=new URLSearchParams(r);return`${n}${l}${c}`}_workerObjectUrl(n){let r;if(n)r=n;else{const l=new Blob([Hv],{type:"application/javascript"});r=URL.createObjectURL(l)}return r}_setConnectionState(n,r=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(n=null){let r,l=!1;if(n)r=n,l=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),r=this.accessTokenValue}else r=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(c=>{const u={access_token:r,version:Av};r&&c.updateJoinPayload(u),c.joinedOnce&&c._isJoined()&&c._push(Ft.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${n}`,r)})}_triggerStateCallbacks(n,r){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(r)}catch(c){this.log("error",`error in ${n} callback`,c)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new Jh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ea.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var r,l,c,u,f,p,m,g,y,x,k,N;switch(this.transport=(r=n==null?void 0:n.transport)!==null&&r!==void 0?r:null,this.timeout=(l=n==null?void 0:n.timeout)!==null&&l!==void 0?l:Ro,this.heartbeatIntervalMs=(c=n==null?void 0:n.heartbeatIntervalMs)!==null&&c!==void 0?c:ea.HEARTBEAT_INTERVAL,this.worker=(u=n==null?void 0:n.worker)!==null&&u!==void 0?u:!1,this.accessToken=(f=n==null?void 0:n.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(p=n==null?void 0:n.heartbeatCallback)!==null&&p!==void 0?p:go,this.vsn=(m=n==null?void 0:n.vsn)!==null&&m!==void 0?m:ch,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=n==null?void 0:n.reconnectAfterMs)!==null&&g!==void 0?g:(R=>Wv[R-1]||Vv),this.vsn){case Kh:this.encode=(y=n==null?void 0:n.encode)!==null&&y!==void 0?y:((R,E)=>E(JSON.stringify(R))),this.decode=(x=n==null?void 0:n.decode)!==null&&x!==void 0?x:((R,E)=>E(JSON.parse(R)));break;case Iv:this.encode=(k=n==null?void 0:n.encode)!==null&&k!==void 0?k:this.serializer.encode.bind(this.serializer),this.decode=(N=n==null?void 0:n.decode)!==null&&N!==void 0?N:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}}var Ds=class extends Error{constructor(s,n){var r;super(s),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&((r=n.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Jv(s,n,r){const l=new URL(n,s);if(r)for(const[c,u]of Object.entries(r))u!==void 0&&l.searchParams.set(c,u);return l.toString()}async function Gv(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function Qv(s){const n=s.fetchImpl??globalThis.fetch;return{async request({method:r,path:l,query:c,body:u,headers:f}){const p=Jv(s.baseUrl,l,c),m=await Gv(s.auth),g=await n(p,{method:r,headers:{...u?{"Content-Type":"application/json"}:{},...m,...f},body:u?JSON.stringify(u):void 0}),y=await g.text(),x=(g.headers.get("content-type")||"").includes("application/json"),k=x&&y?JSON.parse(y):y;if(!g.ok){const N=x?k:void 0,R=N==null?void 0:N.error;throw new Ds((R==null?void 0:R.message)??`Request failed with status ${g.status}`,{status:g.status,icebergType:R==null?void 0:R.type,icebergCode:R==null?void 0:R.code,details:N})}return{status:g.status,headers:g.headers,data:k}}}}function ta(s){return s.join("")}var Yv=class{constructor(s,n=""){this.client=s,this.prefix=n}async listNamespaces(s){const n=s?{parent:ta(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(s,n){const r={namespace:s.namespace,properties:n==null?void 0:n.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ta(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ta(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ta(s.namespace)}`}),!0}catch(n){if(n instanceof Ds&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(s,n){try{return await this.createNamespace(s,n)}catch(r){if(r instanceof Ds&&r.status===409)return;throw r}}};function br(s){return s.join("")}var Xv=class{constructor(s,n="",r){this.client=s,this.prefix=n,this.accessDelegation=r}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${br(s.namespace)}/tables`})).data.identifiers}async createTable(s,n){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${br(s.namespace)}/tables`,body:n,headers:r})).data.metadata}async updateTable(s,n){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${br(s.namespace)}/tables/${s.name}`,body:n});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(s,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${br(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String((n==null?void 0:n.purge)??!1)}})}async loadTable(s){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${br(s.namespace)}/tables/${s.name}`,headers:n})).data.metadata}async tableExists(s){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${br(s.namespace)}/tables/${s.name}`,headers:n}),!0}catch(r){if(r instanceof Ds&&r.status===404)return!1;throw r}}async createTableIfNotExists(s,n){try{return await this.createTable(s,n)}catch(r){if(r instanceof Ds&&r.status===409)return await this.loadTable({namespace:s.namespace,name:n.name});throw r}}},Zv=class{constructor(s){var l;let n="v1";s.catalogName&&(n+=`/${s.catalogName}`);const r=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=Qv({baseUrl:r,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=(l=s.accessDelegation)==null?void 0:l.join(","),this.namespaceOps=new Yv(this.client,n),this.tableOps=new Xv(this.client,n,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,n){return this.namespaceOps.createNamespace(s,n)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,n){return this.tableOps.createTable(s,n)}async updateTable(s,n){return this.tableOps.updateTable(s,n)}async dropTable(s,n){await this.tableOps.dropTable(s,n)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,n){return this.namespaceOps.createNamespaceIfNotExists(s,n)}async createTableIfNotExists(s,n){return this.tableOps.createTableIfNotExists(s,n)}},pa=class extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}};function Oe(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var eg=class extends pa{constructor(s,n,r){super(s),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ao=class extends pa{constructor(s,n){super(s),this.name="StorageUnknownError",this.originalError=n}};const Vo=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),tg=()=>Response,Io=s=>{if(Array.isArray(s))return s.map(r=>Io(r));if(typeof s=="function"||s!==Object(s))return s;const n={};return Object.entries(s).forEach(([r,l])=>{const c=r.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));n[c]=Io(l)}),n},ng=s=>{if(typeof s!="object"||s===null)return!1;const n=Object.getPrototypeOf(s);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},rg=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function Ls(s){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ls(s)}function sg(s,n){if(Ls(s)!="object"||!s)return s;var r=s[Symbol.toPrimitive];if(r!==void 0){var l=r.call(s,n);if(Ls(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(s)}function ig(s){var n=sg(s,"string");return Ls(n)=="symbol"?n:n+""}function ag(s,n,r){return(n=ig(n))in s?Object.defineProperty(s,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[n]=r,s}function fh(s,n){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);n&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),r.push.apply(r,l)}return r}function le(s){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?fh(Object(r),!0).forEach(function(l){ag(s,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):fh(Object(r)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(r,l))})}return s}const yo=s=>{var n;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(n=s.error)===null||n===void 0?void 0:n.message)||JSON.stringify(s)},lg=async(s,n,r)=>{s instanceof await tg()&&!(r!=null&&r.noResolveJson)?s.json().then(l=>{const c=s.status||500,u=(l==null?void 0:l.statusCode)||c+"";n(new eg(yo(l),c,u))}).catch(l=>{n(new Ao(yo(l),l))}):n(new Ao(yo(s),s))},og=(s,n,r,l)=>{const c={method:s,headers:(n==null?void 0:n.headers)||{}};return s==="GET"||!l?c:(ng(l)?(c.headers=le({"Content-Type":"application/json"},n==null?void 0:n.headers),c.body=JSON.stringify(l)):c.body=l,n!=null&&n.duplex&&(c.duplex=n.duplex),le(le({},c),r))};async function qs(s,n,r,l,c,u){return new Promise((f,p)=>{s(r,og(n,l,c,u)).then(m=>{if(!m.ok)throw m;return l!=null&&l.noResolveJson?m:m.json()}).then(m=>f(m)).catch(m=>lg(m,p,l))})}async function Us(s,n,r,l){return qs(s,"GET",n,r,l)}async function qt(s,n,r,l,c){return qs(s,"POST",n,l,c,r)}async function $o(s,n,r,l,c){return qs(s,"PUT",n,l,c,r)}async function cg(s,n,r,l){return qs(s,"HEAD",n,le(le({},r),{},{noResolveJson:!0}),l)}async function Ho(s,n,r,l,c){return qs(s,"DELETE",n,l,c,r)}var ug=class{constructor(s,n){this.downloadFn=s,this.shouldThrowOnError=n}then(s,n){return this.execute().then(s,n)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}}};let Yh;Yh=Symbol.toStringTag;var dg=class{constructor(s,n){this.downloadFn=s,this.shouldThrowOnError=n,this[Yh]="BlobDownloadBuilder",this.promise=null}asStream(){return new ug(this.downloadFn,this.shouldThrowOnError)}then(s,n){return this.getPromise().then(s,n)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}}};const hg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ph={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var fg=class{constructor(s,n={},r,l){this.shouldThrowOnError=!1,this.url=s,this.headers=n,this.bucketId=r,this.fetch=Vo(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(s,n,r,l){var c=this;try{let u;const f=le(le({},ph),l);let p=le(le({},c.headers),s==="POST"&&{"x-upsert":String(f.upsert)});const m=f.metadata;typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),m&&u.append("metadata",c.encodeMetadata(m)),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.has("cacheControl")||u.append("cacheControl",f.cacheControl),m&&!u.has("metadata")&&u.append("metadata",c.encodeMetadata(m))):(u=r,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType,m&&(p["x-metadata"]=c.toBase64(c.encodeMetadata(m))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!f.duplex&&(f.duplex="half")),l!=null&&l.headers&&(p=le(le({},p),l.headers));const g=c._removeEmptyFolders(n),y=c._getFinalPath(g),x=await(s=="PUT"?$o:qt)(c.fetch,`${c.url}/object/${y}`,u,le({headers:p},f!=null&&f.duplex?{duplex:f.duplex}:{}));return{data:{path:g,id:x.Id,fullPath:x.Key},error:null}}catch(u){if(c.shouldThrowOnError)throw u;if(Oe(u))return{data:null,error:u};throw u}}async upload(s,n,r){return this.uploadOrUpdate("POST",s,n,r)}async uploadToSignedUrl(s,n,r,l){var c=this;const u=c._removeEmptyFolders(s),f=c._getFinalPath(u),p=new URL(c.url+`/object/upload/sign/${f}`);p.searchParams.set("token",n);try{let m;const g=le({upsert:ph.upsert},l),y=le(le({},c.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&r instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",r)):typeof FormData<"u"&&r instanceof FormData?(m=r,m.append("cacheControl",g.cacheControl)):(m=r,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType),{data:{path:u,fullPath:(await $o(c.fetch,p.toString(),m,{headers:y})).Key},error:null}}catch(m){if(c.shouldThrowOnError)throw m;if(Oe(m))return{data:null,error:m};throw m}}async createSignedUploadUrl(s,n){var r=this;try{let l=r._getFinalPath(s);const c=le({},r.headers);n!=null&&n.upsert&&(c["x-upsert"]="true");const u=await qt(r.fetch,`${r.url}/object/upload/sign/${l}`,{},{headers:c}),f=new URL(r.url+u.url),p=f.searchParams.get("token");if(!p)throw new pa("No token returned by API");return{data:{signedUrl:f.toString(),path:s,token:p},error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Oe(l))return{data:null,error:l};throw l}}async update(s,n,r){return this.uploadOrUpdate("PUT",s,n,r)}async move(s,n,r){var l=this;try{return{data:await qt(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:s,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:l.headers}),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Oe(c))return{data:null,error:c};throw c}}async copy(s,n,r){var l=this;try{return{data:{path:(await qt(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:s,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:l.headers})).Key},error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Oe(c))return{data:null,error:c};throw c}}async createSignedUrl(s,n,r){var l=this;try{let c=l._getFinalPath(s),u=await qt(l.fetch,`${l.url}/object/sign/${c}`,le({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:l.headers});const f=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return u={signedUrl:encodeURI(`${l.url}${u.signedURL}${f}`)},{data:u,error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Oe(c))return{data:null,error:c};throw c}}async createSignedUrls(s,n,r){var l=this;try{const c=await qt(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:n,paths:s},{headers:l.headers}),u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:c.map(f=>le(le({},f),{},{signedUrl:f.signedURL?encodeURI(`${l.url}${f.signedURL}${u}`):null})),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Oe(c))return{data:null,error:c};throw c}}download(s,n){const r=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),c=l?`?${l}`:"",u=this._getFinalPath(s),f=()=>Us(this.fetch,`${this.url}/${r}/${u}${c}`,{headers:this.headers,noResolveJson:!0});return new dg(f,this.shouldThrowOnError)}async info(s){var n=this;const r=n._getFinalPath(s);try{return{data:Io(await Us(n.fetch,`${n.url}/object/info/${r}`,{headers:n.headers})),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Oe(l))return{data:null,error:l};throw l}}async exists(s){var n=this;const r=n._getFinalPath(s);try{return await cg(n.fetch,`${n.url}/object/${r}`,{headers:n.headers}),{data:!0,error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Oe(l)&&l instanceof Ao){const c=l.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:l}}throw l}}getPublicUrl(s,n){const r=this._getFinalPath(s),l=[],c=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";c!==""&&l.push(c);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});f!==""&&l.push(f);let p=l.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${p}`)}}}async remove(s){var n=this;try{return{data:await Ho(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:s},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async list(s,n,r){var l=this;try{const c=le(le(le({},hg),n),{},{prefix:s||""});return{data:await qt(l.fetch,`${l.url}/object/list/${l.bucketId}`,c,{headers:l.headers},r),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Oe(c))return{data:null,error:c};throw c}}async listV2(s,n){var r=this;try{const l=le({},s);return{data:await qt(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,l,{headers:r.headers},n),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Oe(l))return{data:null,error:l};throw l}}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const n=[];return s.width&&n.push(`width=${s.width}`),s.height&&n.push(`height=${s.height}`),s.resize&&n.push(`resize=${s.resize}`),s.format&&n.push(`format=${s.format}`),s.quality&&n.push(`quality=${s.quality}`),n.join("&")}};const Xh="2.90.1",Zh={"X-Client-Info":`storage-js/${Xh}`};var pg=class{constructor(s,n={},r,l){this.shouldThrowOnError=!1;const c=new URL(s);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=le(le({},Zh),n),this.fetch=Vo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(s){var n=this;try{const r=n.listBucketOptionsToQueryString(s);return{data:await Us(n.fetch,`${n.url}/bucket${r}`,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async getBucket(s){var n=this;try{return{data:await Us(n.fetch,`${n.url}/bucket/${s}`,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async createBucket(s,n={public:!1}){var r=this;try{return{data:await qt(r.fetch,`${r.url}/bucket`,{id:s,name:s,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Oe(l))return{data:null,error:l};throw l}}async updateBucket(s,n){var r=this;try{return{data:await $o(r.fetch,`${r.url}/bucket/${s}`,{id:s,name:s,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Oe(l))return{data:null,error:l};throw l}}async emptyBucket(s){var n=this;try{return{data:await qt(n.fetch,`${n.url}/bucket/${s}/empty`,{},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async deleteBucket(s){var n=this;try{return{data:await Ho(n.fetch,`${n.url}/bucket/${s}`,{},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(s){const n={};return s&&("limit"in s&&(n.limit=String(s.limit)),"offset"in s&&(n.offset=String(s.offset)),s.search&&(n.search=s.search),s.sortColumn&&(n.sortColumn=s.sortColumn),s.sortOrder&&(n.sortOrder=s.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},mg=class{constructor(s,n={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=le(le({},Zh),n),this.fetch=Vo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var n=this;try{return{data:await qt(n.fetch,`${n.url}/bucket`,{name:s},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async listBuckets(s){var n=this;try{const r=new URLSearchParams;(s==null?void 0:s.limit)!==void 0&&r.set("limit",s.limit.toString()),(s==null?void 0:s.offset)!==void 0&&r.set("offset",s.offset.toString()),s!=null&&s.sortColumn&&r.set("sortColumn",s.sortColumn),s!=null&&s.sortOrder&&r.set("sortOrder",s.sortOrder),s!=null&&s.search&&r.set("search",s.search);const l=r.toString(),c=l?`${n.url}/bucket?${l}`:`${n.url}/bucket`;return{data:await Us(n.fetch,c,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async deleteBucket(s){var n=this;try{return{data:await Ho(n.fetch,`${n.url}/bucket/${s}`,{},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}from(s){var n=this;if(!rg(s))throw new pa("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Zv({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(r,{get(c,u){const f=c[u];return typeof f!="function"?f:async(...p)=>{try{return{data:await f.apply(c,p),error:null}}catch(m){if(l)throw m;return{data:null,error:m}}}}})}};const Ko={"X-Client-Info":`storage-js/${Xh}`,"Content-Type":"application/json"};var ef=class extends Error{constructor(s){super(s),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function kt(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}var wo=class extends ef{constructor(s,n,r){super(s),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},vg=class extends ef{constructor(s,n){super(s),this.name="StorageVectorsUnknownError",this.originalError=n}};const Jo=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),gg=s=>{if(typeof s!="object"||s===null)return!1;const n=Object.getPrototypeOf(s);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},mh=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),yg=async(s,n,r)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!(r!=null&&r.noResolveJson)){const l=s.status||500,c=s;if(typeof c.json=="function")c.json().then(u=>{const f=(u==null?void 0:u.statusCode)||(u==null?void 0:u.code)||l+"";n(new wo(mh(u),l,f))}).catch(()=>{const u=l+"";n(new wo(c.statusText||`HTTP ${l} error`,l,u))});else{const u=l+"";n(new wo(c.statusText||`HTTP ${l} error`,l,u))}}else n(new vg(mh(s),s))},wg=(s,n,r,l)=>{const c={method:s,headers:(n==null?void 0:n.headers)||{}};return l?(gg(l)?(c.headers=le({"Content-Type":"application/json"},n==null?void 0:n.headers),c.body=JSON.stringify(l)):c.body=l,le(le({},c),r)):c};async function xg(s,n,r,l,c,u){return new Promise((f,p)=>{s(r,wg(n,l,c,u)).then(m=>{if(!m.ok)throw m;if(l!=null&&l.noResolveJson)return m;const g=m.headers.get("content-type");return!g||!g.includes("application/json")?{}:m.json()}).then(m=>f(m)).catch(m=>yg(m,p,l))})}async function St(s,n,r,l,c){return xg(s,"POST",n,l,c,r)}var jg=class{constructor(s,n={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=le(le({},Ko),n),this.fetch=Jo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(s){var n=this;try{return{data:await St(n.fetch,`${n.url}/CreateIndex`,s,{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}}async getIndex(s,n){var r=this;try{return{data:await St(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:s,indexName:n},{headers:r.headers}),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(kt(l))return{data:null,error:l};throw l}}async listIndexes(s){var n=this;try{return{data:await St(n.fetch,`${n.url}/ListIndexes`,s,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}}async deleteIndex(s,n){var r=this;try{return{data:await St(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:s,indexName:n},{headers:r.headers})||{},error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(kt(l))return{data:null,error:l};throw l}}},_g=class{constructor(s,n={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=le(le({},Ko),n),this.fetch=Jo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(s){var n=this;try{if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await St(n.fetch,`${n.url}/PutVectors`,s,{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}}async getVectors(s){var n=this;try{return{data:await St(n.fetch,`${n.url}/GetVectors`,s,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}}async listVectors(s){var n=this;try{if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return{data:await St(n.fetch,`${n.url}/ListVectors`,s,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}}async queryVectors(s){var n=this;try{return{data:await St(n.fetch,`${n.url}/QueryVectors`,s,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}}async deleteVectors(s){var n=this;try{if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await St(n.fetch,`${n.url}/DeleteVectors`,s,{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}}},kg=class{constructor(s,n={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=le(le({},Ko),n),this.fetch=Jo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var n=this;try{return{data:await St(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}}async getBucket(s){var n=this;try{return{data:await St(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:s},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}}async listBuckets(s={}){var n=this;try{return{data:await St(n.fetch,`${n.url}/ListVectorBuckets`,s,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}}async deleteBucket(s){var n=this;try{return{data:await St(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}}},Sg=class extends kg{constructor(s,n={}){super(s,n.headers||{},n.fetch)}from(s){return new Ng(this.url,this.headers,s,this.fetch)}async createBucket(s){var n=()=>super.createBucket,r=this;return n().call(r,s)}async getBucket(s){var n=()=>super.getBucket,r=this;return n().call(r,s)}async listBuckets(s={}){var n=()=>super.listBuckets,r=this;return n().call(r,s)}async deleteBucket(s){var n=()=>super.deleteBucket,r=this;return n().call(r,s)}},Ng=class extends jg{constructor(s,n,r,l){super(s,n,l),this.vectorBucketName=r}async createIndex(s){var n=()=>super.createIndex,r=this;return n().call(r,le(le({},s),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(s={}){var n=()=>super.listIndexes,r=this;return n().call(r,le(le({},s),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(s){var n=()=>super.getIndex,r=this;return n().call(r,r.vectorBucketName,s)}async deleteIndex(s){var n=()=>super.deleteIndex,r=this;return n().call(r,r.vectorBucketName,s)}index(s){return new bg(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},bg=class extends _g{constructor(s,n,r,l,c){super(s,n,c),this.vectorBucketName=r,this.indexName=l}async putVectors(s){var n=()=>super.putVectors,r=this;return n().call(r,le(le({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(s){var n=()=>super.getVectors,r=this;return n().call(r,le(le({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(s={}){var n=()=>super.listVectors,r=this;return n().call(r,le(le({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(s){var n=()=>super.queryVectors,r=this;return n().call(r,le(le({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(s){var n=()=>super.deleteVectors,r=this;return n().call(r,le(le({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Eg=class extends pg{constructor(s,n={},r,l){super(s,n,r,l)}from(s){return new fg(this.url,this.headers,s,this.fetch)}get vectors(){return new Sg(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new mg(this.url+"/iceberg",this.headers,this.fetch)}};const tf="2.90.1",Ir=30*1e3,Do=3,xo=Do*Ir,Cg="http://localhost:9999",Tg="supabase.auth.token",Rg={"X-Client-Info":`gotrue-js/${tf}`},Lo="X-Supabase-Api-Version",nf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Pg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Og=600*1e3;class zs extends Error{constructor(n,r,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=l}}function ne(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class Ag extends zs{constructor(n,r,l){super(n,r,l),this.name="AuthApiError",this.status=r,this.code=l}}function Ig(s){return ne(s)&&s.name==="AuthApiError"}class Yn extends zs{constructor(n,r){super(n),this.name="AuthUnknownError",this.originalError=r}}class ln extends zs{constructor(n,r,l,c){super(n,l,c),this.name=r,this.status=l}}class _t extends ln{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $g(s){return ne(s)&&s.name==="AuthSessionMissingError"}class Er extends ln{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class na extends ln{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class ra extends ln{constructor(n,r=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Dg(s){return ne(s)&&s.name==="AuthImplicitGrantRedirectError"}class vh extends ln{constructor(n,r=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Lg extends ln{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Uo extends ln{constructor(n,r){super(n,"AuthRetryableFetchError",r,void 0)}}function jo(s){return ne(s)&&s.name==="AuthRetryableFetchError"}class gh extends ln{constructor(n,r,l){super(n,"AuthWeakPasswordError",r,"weak_password"),this.reasons=l}}class zo extends ln{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const aa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),yh=` 	
\r=`.split(""),Ug=(()=>{const s=new Array(128);for(let n=0;n<s.length;n+=1)s[n]=-1;for(let n=0;n<yh.length;n+=1)s[yh[n].charCodeAt(0)]=-2;for(let n=0;n<aa.length;n+=1)s[aa[n].charCodeAt(0)]=n;return s})();function wh(s,n,r){if(s!==null)for(n.queue=n.queue<<8|s,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;r(aa[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;r(aa[l]),n.queuedBits-=6}}function rf(s,n,r){const l=Ug[s];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)r(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function xh(s){const n=[],r=f=>{n.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},u=f=>{Bg(f,l,r)};for(let f=0;f<s.length;f+=1)rf(s.charCodeAt(f),c,u);return n.join("")}function zg(s,n){if(s<=127){n(s);return}else if(s<=2047){n(192|s>>6),n(128|s&63);return}else if(s<=65535){n(224|s>>12),n(128|s>>6&63),n(128|s&63);return}else if(s<=1114111){n(240|s>>18),n(128|s>>12&63),n(128|s>>6&63),n(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function Mg(s,n){for(let r=0;r<s.length;r+=1){let l=s.charCodeAt(r);if(l>55295&&l<=56319){const c=(l-55296)*1024&65535;l=(s.charCodeAt(r+1)-56320&65535|c)+65536,r+=1}zg(l,n)}}function Bg(s,n,r){if(n.utf8seq===0){if(s<=127){r(s);return}for(let l=1;l<6;l+=1)if((s>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=s&31;else if(n.utf8seq===3)n.codepoint=s&15;else if(n.utf8seq===4)n.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|s&63,n.utf8seq-=1,n.utf8seq===0&&r(n.codepoint)}}function Ur(s){const n=[],r={queue:0,queuedBits:0},l=c=>{n.push(c)};for(let c=0;c<s.length;c+=1)rf(s.charCodeAt(c),r,l);return new Uint8Array(n)}function qg(s){const n=[];return Mg(s,r=>n.push(r)),new Uint8Array(n)}function Xn(s){const n=[],r={queue:0,queuedBits:0},l=c=>{n.push(c)};return s.forEach(c=>wh(c,r,l)),wh(null,r,l),n.join("")}function Fg(s){return Math.round(Date.now()/1e3)+s}function Wg(){return Symbol("auth-callback")}const Ye=()=>typeof window<"u"&&typeof document<"u",Kn={tested:!1,writable:!1},sf=()=>{if(!Ye())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Kn.tested)return Kn.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),Kn.tested=!0,Kn.writable=!0}catch{Kn.tested=!0,Kn.writable=!1}return Kn.writable};function Vg(s){const n={},r=new URL(s);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((c,u)=>{n[u]=c})}catch{}return r.searchParams.forEach((l,c)=>{n[c]=l}),n}const af=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),Hg=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",$r=async(s,n,r)=>{await s.setItem(n,JSON.stringify(r))},Jn=async(s,n)=>{const r=await s.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Qe=async(s,n)=>{await s.removeItem(n)};class ma{constructor(){this.promise=new ma.promiseConstructor((n,r)=>{this.resolve=n,this.reject=r})}}ma.promiseConstructor=Promise;function _o(s){const n=s.split(".");if(n.length!==3)throw new zo("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!Pg.test(n[l]))throw new zo("JWT not in base64url format");return{header:JSON.parse(xh(n[0])),payload:JSON.parse(xh(n[1])),signature:Ur(n[2]),raw:{header:n[0],payload:n[1]}}}async function Kg(s){return await new Promise(n=>{setTimeout(()=>n(null),s)})}function Jg(s,n){return new Promise((l,c)=>{(async()=>{for(let u=0;u<1/0;u++)try{const f=await s(u);if(!n(u,null,f)){l(f);return}}catch(f){if(!n(u,f)){c(f);return}}})()})}function Gg(s){return("0"+s.toString(16)).substr(-2)}function Qg(){const n=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=r.length;let c="";for(let u=0;u<56;u++)c+=r.charAt(Math.floor(Math.random()*l));return c}return crypto.getRandomValues(n),Array.from(n,Gg).join("")}async function Yg(s){const r=new TextEncoder().encode(s),l=await crypto.subtle.digest("SHA-256",r),c=new Uint8Array(l);return Array.from(c).map(u=>String.fromCharCode(u)).join("")}async function Xg(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const r=await Yg(s);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Cr(s,n,r=!1){const l=Qg();let c=l;r&&(c+="/PASSWORD_RECOVERY"),await $r(s,`${n}-code-verifier`,c);const u=await Xg(l);return[u,l===u?"plain":"s256"]}const Zg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ey(s){const n=s.headers.get(Lo);if(!n||!n.match(Zg))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function ty(s){if(!s)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(s<=n)throw new Error("JWT has expired")}function ny(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ry=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Tr(s){if(!ry.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ko(){const s={};return new Proxy(s,{get:(n,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const l=r.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function sy(s,n){return new Proxy(s,{get:(r,l,c)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const u=l.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,l,c)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(r,l,c)}})}function jh(s){return JSON.parse(JSON.stringify(s))}const Gn=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),iy=[502,503,504];async function _h(s){var n;if(!Hg(s))throw new Uo(Gn(s),0);if(iy.includes(s.status))throw new Uo(Gn(s),s.status);let r;try{r=await s.json()}catch(u){throw new Yn(Gn(u),u)}let l;const c=ey(s);if(c&&c.getTime()>=nf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?l=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(l=r.error_code),l){if(l==="weak_password")throw new gh(Gn(r),s.status,((n=r.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new _t}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((u,f)=>u&&typeof f=="string",!0))throw new gh(Gn(r),s.status,r.weak_password.reasons);throw new Ag(Gn(r),s.status||500,l)}const ay=(s,n,r,l)=>{const c={method:s,headers:(n==null?void 0:n.headers)||{}};return s==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),c.body=JSON.stringify(l),Object.assign(Object.assign({},c),r))};async function ae(s,n,r,l){var c;const u=Object.assign({},l==null?void 0:l.headers);u[Lo]||(u[Lo]=nf["2024-01-01"].name),l!=null&&l.jwt&&(u.Authorization=`Bearer ${l.jwt}`);const f=(c=l==null?void 0:l.query)!==null&&c!==void 0?c:{};l!=null&&l.redirectTo&&(f.redirect_to=l.redirectTo);const p=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",m=await ly(s,n,r+p,{headers:u,noResolveJson:l==null?void 0:l.noResolveJson},{},l==null?void 0:l.body);return l!=null&&l.xform?l==null?void 0:l.xform(m):{data:Object.assign({},m),error:null}}async function ly(s,n,r,l,c,u){const f=ay(n,l,c,u);let p;try{p=await s(r,Object.assign({},f))}catch(m){throw console.error(m),new Uo(Gn(m),0)}if(p.ok||await _h(p),l!=null&&l.noResolveJson)return p;try{return await p.json()}catch(m){await _h(m)}}function Bt(s){var n;let r=null;uy(s)&&(r=Object.assign({},s),s.expires_at||(r.expires_at=Fg(s.expires_in)));const l=(n=s.user)!==null&&n!==void 0?n:s;return{data:{session:r,user:l},error:null}}function kh(s){const n=Bt(s);return!n.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((r,l)=>r&&typeof l=="string",!0)&&(n.data.weak_password=s.weak_password),n}function Cn(s){var n;return{data:{user:(n=s.user)!==null&&n!==void 0?n:s},error:null}}function oy(s){return{data:s,error:null}}function cy(s){const{action_link:n,email_otp:r,hashed_token:l,redirect_to:c,verification_type:u}=s,f=fa(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:n,email_otp:r,hashed_token:l,redirect_to:c,verification_type:u},m=Object.assign({},f);return{data:{properties:p,user:m},error:null}}function Sh(s){return s}function uy(s){return s.access_token&&s.refresh_token&&s.expires_in}const So=["global","local","others"];class dy{constructor({url:n="",headers:r={},fetch:l}){this.url=n,this.headers=r,this.fetch=af(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,r=So[0]){if(So.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${So.join(", ")}`);try{return await ae(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ne(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,r={}){try{return await ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Cn})}catch(l){if(ne(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:r}=n,l=fa(n,["options"]),c=Object.assign(Object.assign({},l),r);return"newEmail"in l&&(c.new_email=l==null?void 0:l.newEmail,delete c.newEmail),await ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:cy,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ne(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(n){try{return await ae(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Cn})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async listUsers(n){var r,l,c,u,f,p,m;try{const g={nextPage:null,lastPage:0,total:0},y=await ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=n==null?void 0:n.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(u=(c=n==null?void 0:n.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:Sh});if(y.error)throw y.error;const x=await y.json(),k=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,N=(m=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return N.length>0&&(N.forEach(R=>{const E=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(R.split(";")[1].split("=")[1]);g[`${T}Page`]=E}),g.total=parseInt(k)),{data:Object.assign(Object.assign({},x),g),error:null}}catch(g){if(ne(g))return{data:{users:[]},error:g};throw g}}async getUserById(n){Tr(n);try{return await ae(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Cn})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async updateUserById(n,r){Tr(n);try{return await ae(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:r,headers:this.headers,xform:Cn})}catch(l){if(ne(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,r=!1){Tr(n);try{return await ae(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:r},xform:Cn})}catch(l){if(ne(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){Tr(n.userId);try{const{data:r,error:l}=await ae(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:r,error:l}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _deleteFactor(n){Tr(n.userId),Tr(n.id);try{return{data:await ae(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _listOAuthClients(n){var r,l,c,u,f,p,m;try{const g={nextPage:null,lastPage:0,total:0},y=await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=n==null?void 0:n.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(u=(c=n==null?void 0:n.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:Sh});if(y.error)throw y.error;const x=await y.json(),k=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,N=(m=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return N.length>0&&(N.forEach(R=>{const E=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(R.split(";")[1].split("=")[1]);g[`${T}Page`]=E}),g.total=parseInt(k)),{data:Object.assign(Object.assign({},x),g),error:null}}catch(g){if(ne(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(n){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _getOAuthClient(n){try{return await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _updateOAuthClient(n,r){try{return await ae(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:r,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ne(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await ae(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(n){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}}function Nh(s={}){return{getItem:n=>s[n]||null,setItem:(n,r)=>{s[n]=r},removeItem:n=>{delete s[n]}}}const Rr={debug:!!(globalThis&&sf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class lf extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class hy extends lf{}async function fy(s,n,r){Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async c=>{if(c){Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,c.name);try{return await r()}finally{Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,c.name)}}else{if(n===0)throw Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new hy(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(Rr.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function py(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function of(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function my(s){return parseInt(s,16)}function vy(s){const n=new TextEncoder().encode(s);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function gy(s){var n;const{chainId:r,domain:l,expirationTime:c,issuedAt:u=new Date,nonce:f,notBefore:p,requestId:m,resources:g,scheme:y,uri:x,version:k}=s;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(k!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${k}`);if(!((n=s.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const N=of(s.address),R=y?`${y}://${l}`:l,E=s.statement?`${s.statement}
`:"",T=`${R} wants you to sign in with your Ethereum account:
${N}

${E}`;let O=`URI: ${x}
Version: ${k}
Chain ID: ${r}${f?`
Nonce: ${f}`:""}
Issued At: ${u.toISOString()}`;if(c&&(O+=`
Expiration Time: ${c.toISOString()}`),p&&(O+=`
Not Before: ${p.toISOString()}`),m&&(O+=`
Request ID: ${m}`),g){let $=`
Resources:`;for(const I of g){if(!I||typeof I!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${I}`);$+=`
- ${I}`}O+=$}return`${T}
${O}`}class Me extends Error{constructor({message:n,code:r,cause:l,name:c}){var u;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(u=c??(l instanceof Error?l.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=r}}class la extends Me{constructor(n,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:n}),this.name="WebAuthnUnknownError",this.originalError=r}}function yy({error:s,options:n}){var r,l,c;const{publicKey:u}=n;if(!u)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Me({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((r=u.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Me({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(n.mediation==="conditional"&&((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Me({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((c=u.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Me({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new Me({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new Me({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return u.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new Me({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new Me({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const f=window.location.hostname;if(cf(f)){if(u.rp.id!==f)return new Me({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new Me({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new Me({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function wy({error:s,options:n}){const{publicKey:r}=n;if(!r)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Me({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new Me({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const l=window.location.hostname;if(cf(l)){if(r.rpId!==l)return new Me({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new Me({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class xy{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const jy=new xy;function _y(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:n,user:r,excludeCredentials:l}=s,c=fa(s,["challenge","user","excludeCredentials"]),u=Ur(n).buffer,f=Object.assign(Object.assign({},r),{id:Ur(r.id).buffer}),p=Object.assign(Object.assign({},c),{challenge:u,user:f});if(l&&l.length>0){p.excludeCredentials=new Array(l.length);for(let m=0;m<l.length;m++){const g=l[m];p.excludeCredentials[m]=Object.assign(Object.assign({},g),{id:Ur(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return p}function ky(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:n,allowCredentials:r}=s,l=fa(s,["challenge","allowCredentials"]),c=Ur(n).buffer,u=Object.assign(Object.assign({},l),{challenge:c});if(r&&r.length>0){u.allowCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const p=r[f];u.allowCredentials[f]=Object.assign(Object.assign({},p),{id:Ur(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return u}function Sy(s){var n;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const r=s;return{id:s.id,rawId:s.id,response:{attestationObject:Xn(new Uint8Array(s.response.attestationObject)),clientDataJSON:Xn(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Ny(s){var n;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const r=s,l=s.getClientExtensionResults(),c=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:Xn(new Uint8Array(c.authenticatorData)),clientDataJSON:Xn(new Uint8Array(c.clientDataJSON)),signature:Xn(new Uint8Array(c.signature)),userHandle:c.userHandle?Xn(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function cf(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function bh(){var s,n;return!!(Ye()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator==null?void 0:navigator.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.get)=="function")}async function by(s){try{const n=await navigator.credentials.create(s);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new la("Browser returned unexpected credential type",n)}:{data:null,error:new la("Empty credential response",n)}}catch(n){return{data:null,error:yy({error:n,options:s})}}}async function Ey(s){try{const n=await navigator.credentials.get(s);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new la("Browser returned unexpected credential type",n)}:{data:null,error:new la("Empty credential response",n)}}catch(n){return{data:null,error:wy({error:n,options:s})}}}const Cy={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Ty={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function oa(...s){const n=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),r=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),l={};for(const c of s)if(c)for(const u in c){const f=c[u];if(f!==void 0)if(Array.isArray(f))l[u]=f;else if(r(f))l[u]=f;else if(n(f)){const p=l[u];n(p)?l[u]=oa(p,f):l[u]=oa(f)}else l[u]=f}return l}function Ry(s,n){return oa(Cy,s,n||{})}function Py(s,n){return oa(Ty,s,n||{})}class Oy{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:r,friendlyName:l,signal:c},u){try{const{data:f,error:p}=await this.client.mfa.challenge({factorId:n,webauthn:r});if(!f)return{data:null,error:p};const m=c??jy.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:g}=f.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${l}`),g.displayName||(g.displayName=g.name)}switch(f.webauthn.type){case"create":{const g=Ry(f.webauthn.credential_options.publicKey,u==null?void 0:u.create),{data:y,error:x}=await by({publicKey:g,signal:m});return y?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:y}},error:null}:{data:null,error:x}}case"request":{const g=Py(f.webauthn.credential_options.publicKey,u==null?void 0:u.request),{data:y,error:x}=await Ey(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:g,signal:m}));return y?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:y}},error:null}:{data:null,error:x}}}}catch(f){return ne(f)?{data:null,error:f}:{data:null,error:new Yn("Unexpected error in challenge",f)}}}async _verify({challengeId:n,factorId:r,webauthn:l}){return this.client.mfa.verify({factorId:r,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!r)return{data:null,error:new zs("rpId is required for WebAuthn authentication")};try{if(!bh())return{data:null,error:new Yn("Browser does not support WebAuthn",null)};const{data:f,error:p}=await this.challenge({factorId:n,webauthn:{rpId:r,rpOrigins:l},signal:c},{request:u});if(!f)return{data:null,error:p};const{webauthn:m}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:m.type,rpId:r,rpOrigins:l,credential_response:m.credential_response}})}catch(f){return ne(f)?{data:null,error:f}:{data:null,error:new Yn("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!r)return{data:null,error:new zs("rpId is required for WebAuthn registration")};try{if(!bh())return{data:null,error:new Yn("Browser does not support WebAuthn",null)};const{data:f,error:p}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(y=>{var x;return(x=y.data)===null||x===void 0?void 0:x.all.find(k=>k.factor_type==="webauthn"&&k.friendly_name===n&&k.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:p};const{data:m,error:g}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:r,rpOrigins:l},signal:c},{create:u});return m?this._verify({factorId:f.id,challengeId:m.challengeId,webauthn:{rpId:r,rpOrigins:l,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:g}}catch(f){return ne(f)?{data:null,error:f}:{data:null,error:new Yn("Unexpected error in register",f)}}}}py();const Ay={url:Cg,storageKey:Tg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Rg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Eh(s,n,r){return await r()}const Pr={};class Ms{get jwks(){var n,r;return(r=(n=Pr[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){Pr[this.storageKey]=Object.assign(Object.assign({},Pr[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=Pr[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Pr[this.storageKey]=Object.assign(Object.assign({},Pr[this.storageKey]),{cachedAt:n})}constructor(n){var r,l,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},Ay),n);if(this.storageKey=u.storageKey,this.instanceID=(r=Ms.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ms.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&Ye()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new dy({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=af(u.fetch),this.lock=u.lock||Eh,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&Ye()&&(!((l=globalThis==null?void 0:globalThis.navigator)===null||l===void 0)&&l.locks)?this.lock=fy:this.lock=Eh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Oy(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:sf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Nh(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Nh(this.memoryStorage)),Ye()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${tf}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r={},l="none";if(Ye()&&(r=Vg(window.location.href),this._isImplicitGrantCallback(r)?l="implicit":await this._isPKCECallback(r)&&(l="pkce")),Ye()&&this.detectSessionInUrl&&l!=="none"){const{data:c,error:u}=await this._getSessionFromURL(r,l);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),Dg(u)){const m=(n=u.details)===null||n===void 0?void 0:n.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:f,redirectType:p}=c;return this._debug("#_initialize()","detected session in URL",f,"redirect type",p),await this._saveSession(f),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ne(r)?this._returnResult({error:r}):this._returnResult({error:new Yn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,l,c;try{const u=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(r=n==null?void 0:n.options)===null||r===void 0?void 0:r.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(c=n==null?void 0:n.options)===null||c===void 0?void 0:c.captchaToken}},xform:Bt}),{data:f,error:p}=u;if(p||!f)return this._returnResult({data:{user:null,session:null},error:p});const m=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(u){if(ne(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(n){var r,l,c;try{let u;if("email"in n){const{email:y,password:x,options:k}=n;let N=null,R=null;this.flowType==="pkce"&&([N,R]=await Cr(this.storage,this.storageKey)),u=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:k==null?void 0:k.emailRedirectTo,body:{email:y,password:x,data:(r=k==null?void 0:k.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken},code_challenge:N,code_challenge_method:R},xform:Bt})}else if("phone"in n){const{phone:y,password:x,options:k}=n;u=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:x,data:(l=k==null?void 0:k.data)!==null&&l!==void 0?l:{},channel:(c=k==null?void 0:k.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken}},xform:Bt})}else throw new na("You must provide either an email or phone number and a password");const{data:f,error:p}=u;if(p||!f)return await Qe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const m=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(u){if(await Qe(this.storage,`${this.storageKey}-code-verifier`),ne(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(n){try{let r;if("email"in n){const{email:u,password:f,options:p}=n;r=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:f,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:kh})}else if("phone"in n){const{phone:u,password:f,options:p}=n;r=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:f,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:kh})}else throw new na("You must provide either an email or phone number and a password");const{data:l,error:c}=r;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new Er;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:c})}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(n){var r,l,c,u;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(u=n.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,l,c,u,f,p,m,g,y,x,k;let N,R;if("message"in n)N=n.message,R=n.signature;else{const{chain:E,wallet:T,statement:O,options:$}=n;let I;if(Ye())if(typeof T=="object")I=T;else{const Ie=window;if("ethereum"in Ie&&typeof Ie.ethereum=="object"&&"request"in Ie.ethereum&&typeof Ie.ethereum.request=="function")I=Ie.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!($!=null&&$.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=T}const z=new URL((r=$==null?void 0:$.url)!==null&&r!==void 0?r:window.location.href),J=await I.request({method:"eth_requestAccounts"}).then(Ie=>Ie).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!J||J.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const K=of(J[0]);let re=(l=$==null?void 0:$.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!re){const Ie=await I.request({method:"eth_chainId"});re=my(Ie)}const pe={domain:z.host,address:K,statement:O,uri:z.href,version:"1",chainId:re,nonce:(c=$==null?void 0:$.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(f=(u=$==null?void 0:$.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(p=$==null?void 0:$.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(m=$==null?void 0:$.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(g=$==null?void 0:$.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(y=$==null?void 0:$.signInWithEthereum)===null||y===void 0?void 0:y.resources};N=gy(pe),R=await I.request({method:"personal_sign",params:[vy(N),K]})}try{const{data:E,error:T}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:N,signature:R},!((x=n.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(k=n.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:Bt});if(T)throw T;if(!E||!E.session||!E.user){const O=new Er;return this._returnResult({data:{user:null,session:null},error:O})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:T})}catch(E){if(ne(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(n){var r,l,c,u,f,p,m,g,y,x,k,N;let R,E;if("message"in n)R=n.message,E=n.signature;else{const{chain:T,wallet:O,statement:$,options:I}=n;let z;if(Ye())if(typeof O=="object")z=O;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))z=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=O}const J=new URL((r=I==null?void 0:I.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in z&&z.signIn){const K=await z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I==null?void 0:I.signInWithSolana),{version:"1",domain:J.host,uri:J.href}),$?{statement:$}:null));let re;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")re=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)re=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in re&&"signature"in re&&(typeof re.signedMessage=="string"||re.signedMessage instanceof Uint8Array)&&re.signature instanceof Uint8Array)R=typeof re.signedMessage=="string"?re.signedMessage:new TextDecoder().decode(re.signedMessage),E=re.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");R=[`${J.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...$?["",$,""]:[""],"Version: 1",`URI: ${J.href}`,`Issued At: ${(c=(l=I==null?void 0:I.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((u=I==null?void 0:I.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((f=I==null?void 0:I.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((p=I==null?void 0:I.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((m=I==null?void 0:I.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((g=I==null?void 0:I.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((x=(y=I==null?void 0:I.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||x===void 0)&&x.length?["Resources",...I.signInWithSolana.resources.map(re=>`- ${re}`)]:[]].join(`
`);const K=await z.signMessage(new TextEncoder().encode(R),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=K}}try{const{data:T,error:O}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:R,signature:Xn(E)},!((k=n.options)===null||k===void 0)&&k.captchaToken?{gotrue_meta_security:{captcha_token:(N=n.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:Bt});if(O)throw O;if(!T||!T.session||!T.user){const $=new Er;return this._returnResult({data:{user:null,session:null},error:$})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:O})}catch(T){if(ne(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(n){const r=await Jn(this.storage,`${this.storageKey}-code-verifier`),[l,c]=(r??"").split("/");try{if(!l&&this.flowType==="pkce")throw new Lg;const{data:u,error:f}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:Bt});if(await Qe(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!u||!u.session||!u.user){const p=new Er;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:c??null}),error:f})}catch(u){if(await Qe(this.storage,`${this.storageKey}-code-verifier`),ne(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(n){try{const{options:r,provider:l,token:c,access_token:u,nonce:f}=n,p=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:c,access_token:u,nonce:f,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Bt}),{data:m,error:g}=p;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m||!m.session||!m.user){const y=new Er;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:g})}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(n){var r,l,c,u,f;try{if("email"in n){const{email:p,options:m}=n;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Cr(this.storage,this.storageKey));const{error:x}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},create_user:(l=m==null?void 0:m.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:m==null?void 0:m.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in n){const{phone:p,options:m}=n,{data:g,error:y}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(c=m==null?void 0:m.data)!==null&&c!==void 0?c:{},create_user:(u=m==null?void 0:m.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(f=m==null?void 0:m.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:y})}throw new na("You must provide either an email or phone number.")}catch(p){if(await Qe(this.storage,`${this.storageKey}-code-verifier`),ne(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(n){var r,l;try{let c,u;"options"in n&&(c=(r=n.options)===null||r===void 0?void 0:r.redirectTo,u=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:p}=await ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:u}}),redirectTo:c,xform:Bt});if(p)throw p;if(!f)throw new Error("An error occurred on token verification.");const m=f.session,g=f.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(c){if(ne(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(n){var r,l,c,u,f;try{let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Cr(this.storage,this.storageKey));const g=await ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&l!==void 0?l:void 0}),!((c=n==null?void 0:n.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:m}),headers:this.headers,xform:oy});return!((u=g.data)===null||u===void 0)&&u.url&&Ye()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(p){if(await Qe(this.storage,`${this.storageKey}-code-verifier`),ne(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:r},error:l}=n;if(l)throw l;if(!r)throw new _t;const{error:c}=await ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(n){if(ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const r=`${this.url}/resend`;if("email"in n){const{email:l,type:c,options:u}=n,{error:f}=await ae(this.fetch,"POST",r,{headers:this.headers,body:{email:l,type:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:l,type:c,options:u}=n,{data:f,error:p}=await ae(this.fetch,"POST",r,{headers:this.headers,body:{phone:l,type:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:p})}throw new na("You must provide either an email or phone number and a type")}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await l,await r()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=r();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const r=await Jn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<xo:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const f=await Jn(this.userStorage,this.storageKey+"-user");f!=null&&f.user?n.user=f.user:n.user=ko()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=sy(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:c,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(n){try{return n?await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Cn}):await this._useSession(async r=>{var l,c,u;const{data:f,error:p}=r;if(p)throw p;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _t}:await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0,xform:Cn})})}catch(r){if(ne(r))return $g(r)&&(await this._removeSession(),await Qe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async l=>{const{data:c,error:u}=l;if(u)throw u;if(!c.session)throw new _t;const f=c.session;let p=null,m=null;this.flowType==="pkce"&&n.email!=null&&([p,m]=await Cr(this.storage,this.storageKey));const{data:g,error:y}=await ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:p,code_challenge_method:m}),jwt:f.access_token,xform:Cn});if(y)throw y;return f.user=g.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(l){if(await Qe(this.storage,`${this.storageKey}-code-verifier`),ne(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new _t;const r=Date.now()/1e3;let l=r,c=!0,u=null;const{payload:f}=_o(n.access_token);if(f.exp&&(l=f.exp,c=l<=r),c){const{data:p,error:m}=await this._callRefreshToken(n.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p)return{data:{user:null,session:null},error:null};u=p}else{const{data:p,error:m}=await this._getUser(n.access_token);if(m)throw m;u={access_token:n.access_token,refresh_token:n.refresh_token,user:p.user,token_type:"bearer",expires_in:l-r,expires_at:l},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(r){if(ne(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var l;if(!n){const{data:f,error:p}=r;if(p)throw p;n=(l=f.session)!==null&&l!==void 0?l:void 0}if(!(n!=null&&n.refresh_token))throw new _t;const{data:c,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(n,r){try{if(!Ye())throw new ra("No browser detected.");if(n.error||n.error_description||n.error_code)throw new ra(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new vh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ra("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new vh("No code detected.");const{data:$,error:I}=await this._exchangeCodeForSession(n.code);if(I)throw I;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:$.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:c,access_token:u,refresh_token:f,expires_in:p,expires_at:m,token_type:g}=n;if(!u||!p||!f||!g)throw new ra("No session defined in URL");const y=Math.round(Date.now()/1e3),x=parseInt(p);let k=y+x;m&&(k=parseInt(m));const N=k-y;N*1e3<=Ir&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${N}s, should have been closer to ${x}s`);const R=k-x;y-R>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",R,k,y):y-R<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",R,k,y);const{data:E,error:T}=await this._getUser(u);if(T)throw T;const O={provider_token:l,provider_refresh_token:c,access_token:u,expires_in:x,expires_at:k,refresh_token:f,token_type:g,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:O,redirectType:n.type},error:null})}catch(l){if(ne(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const r=await Jn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var l;const{data:c,error:u}=r;if(u)return this._returnResult({error:u});const f=(l=c.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:p}=await this.admin.signOut(f,n);if(p&&!(Ig(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return n!=="others"&&(await this._removeSession(),await Qe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const r=Wg(),l={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,l),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async r=>{var l,c;try{const{data:{session:u},error:f}=r;if(f)throw f;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",n,"session",u)}catch(u){await((c=this.stateChangeEmitters.get(n))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",u),console.error(u)}})}async resetPasswordForEmail(n,r={}){let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Cr(this.storage,this.storageKey,!0));try{return await ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:c,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(u){if(await Qe(this.storage,`${this.storageKey}-code-verifier`),ne(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var n;try{const{data:r,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{const{data:l,error:c}=await this._useSession(async u=>{var f,p,m,g,y;const{data:x,error:k}=u;if(k)throw k;const N=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(p=n.options)===null||p===void 0?void 0:p.scopes,queryParams:(m=n.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await ae(this.fetch,"GET",N,{headers:this.headers,jwt:(y=(g=x.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(c)throw c;return Ye()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(l==null?void 0:l.url),this._returnResult({data:{provider:n.provider,url:l==null?void 0:l.url},error:null})}catch(l){if(ne(l))return this._returnResult({data:{provider:n.provider,url:null},error:l});throw l}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var l;try{const{error:c,data:{session:u}}=r;if(c)throw c;const{options:f,provider:p,token:m,access_token:g,nonce:y}=n,x=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=u==null?void 0:u.access_token)!==null&&l!==void 0?l:void 0,body:{provider:p,id_token:m,access_token:g,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Bt}),{data:k,error:N}=x;return N?this._returnResult({data:{user:null,session:null},error:N}):!k||!k.session||!k.user?this._returnResult({data:{user:null,session:null},error:new Er}):(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("USER_UPDATED",k.session)),this._returnResult({data:k,error:N}))}catch(c){if(await Qe(this.storage,`${this.storageKey}-code-verifier`),ne(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var l,c;const{data:u,error:f}=r;if(f)throw f;return await ae(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(c=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(n){const r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{const l=Date.now();return await Jg(async c=>(c>0&&await Kg(200*Math.pow(2,c-1)),this._debug(r,"refreshing attempt",c),await ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Bt})),(c,u)=>{const f=200*Math.pow(2,c);return u&&jo(u)&&Date.now()+f-l<Ir})}catch(l){if(this._debug(r,"error",l),ne(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",l),Ye()&&!r.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,r;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const c=await Jn(this.storage,this.storageKey);if(c&&this.userStorage){let f=await Jn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:c.user},await $r(this.userStorage,this.storageKey+"-user",f)),c.user=(n=f==null?void 0:f.user)!==null&&n!==void 0?n:ko()}else if(c&&!c.user&&!c.user){const f=await Jn(this.storage,this.storageKey+"-user");f&&(f!=null&&f.user)?(c.user=f.user,await Qe(this.storage,this.storageKey+"-user"),await $r(this.storage,this.storageKey,c)):c.user=ko()}if(this._debug(l,"session from storage",c),!this._isValidSession(c)){this._debug(l,"session is not valid"),c!==null&&await this._removeSession();return}const u=((r=c.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<xo;if(this._debug(l,`session has${u?"":" not"} expired with margin of ${xo}s`),u){if(this.autoRefreshToken&&c.refresh_token){const{error:f}=await this._callRefreshToken(c.refresh_token);f&&(console.error(f),jo(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:p}=await this._getUser(c.access_token);!p&&(f!=null&&f.user)?(c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(l,"error",c),console.error(c);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var r,l;if(!n)throw new _t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new ma;const{data:u,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!u.session)throw new _t;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const p={data:u.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(u){if(this._debug(c,"error",u),ne(u)){const f={data:null,error:u};return jo(u)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(u),u}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(n,r,l=!0){const c=`#_notifyAllSubscribers(${n})`;this._debug(c,"begin",r,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:r});const u=[],f=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(n,r)}catch(m){u.push(m)}});if(await Promise.all(f),u.length>0){for(let p=0;p<u.length;p+=1)console.error(u[p]);throw u[0]}}finally{this._debug(c,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await Qe(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},n),l=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&r.user&&await $r(this.userStorage,this.storageKey+"-user",{user:r.user});const c=Object.assign({},r);delete c.user;const u=jh(c);await $r(this.storage,this.storageKey,u)}else{const c=jh(r);await $r(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Qe(this.storage,this.storageKey),await Qe(this.storage,this.storageKey+"-code-verifier"),await Qe(this.storage,this.storageKey+"-user"),this.userStorage&&await Qe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Ye()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Ir);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async r=>{const{data:{session:l}}=r;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((l.expires_at*1e3-n)/Ir);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Ir}ms, refresh threshold is ${Do} ticks`),c<=Do&&await this._callRefreshToken(l.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof lf)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ye()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,l){const c=[`provider=${encodeURIComponent(r)}`];if(l!=null&&l.redirectTo&&c.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l!=null&&l.scopes&&c.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[u,f]=await Cr(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(p.toString())}if(l!=null&&l.queryParams){const u=new URLSearchParams(l.queryParams);c.push(u.toString())}return l!=null&&l.skipBrowserRedirect&&c.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${c.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var l;const{data:c,error:u}=r;return u?this._returnResult({data:null,error:u}):await ae(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(n){try{return await this._useSession(async r=>{var l,c;const{data:u,error:f}=r;if(f)return this._returnResult({data:null,error:f});const p=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:m,error:g}=await ae(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token});return g?this._returnResult({data:null,error:g}):(n.factorType==="totp"&&m.type==="totp"&&(!((c=m==null?void 0:m.totp)===null||c===void 0)&&c.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var l;const{data:c,error:u}=r;if(u)return this._returnResult({data:null,error:u});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?Sy(n.webauthn.credential_response):Ny(n.webauthn.credential_response)})}:{code:n.code}),{data:p,error:m}=await ae(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:m}))})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var l;const{data:c,error:u}=r;if(u)return this._returnResult({data:null,error:u});const f=await ae(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token});if(f.error)return f;const{data:p}=f;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:_y(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:ky(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(n){const{data:r,error:l}=await this._challenge({factorId:n.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;const{data:{user:r},error:l}=await this.getUser();if(l)return{data:null,error:l};const c={all:[],phone:[],totp:[],webauthn:[]};for(const u of(n=r==null?void 0:r.factors)!==null&&n!==void 0?n:[])c.all.push(u),u.status==="verified"&&c[u.factor_type].push(u);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var n,r;const{data:{session:l},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=_o(l.access_token);let f=null;u.aal&&(f=u.aal);let p=f;((r=(n=l.user.factors)===null||n===void 0?void 0:n.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(p="aal2");const g=u.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{const{data:{session:l},error:c}=r;return c?this._returnResult({data:null,error:c}):l?await ae(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new _t})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async l=>{const{data:{session:c},error:u}=l;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new _t});const f=await ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return f.data&&f.data.redirect_url&&Ye()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(l){if(ne(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(n,r){try{return await this._useSession(async l=>{const{data:{session:c},error:u}=l;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new _t});const f=await ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return f.data&&f.data.redirect_url&&Ye()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(l){if(ne(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:r},error:l}=n;return l?this._returnResult({data:null,error:l}):r?await ae(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new _t})})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async r=>{const{data:{session:l},error:c}=r;return c?this._returnResult({data:null,error:c}):l?(await ae(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new _t})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(n,r={keys:[]}){let l=r.keys.find(p=>p.kid===n);if(l)return l;const c=Date.now();if(l=this.jwks.keys.find(p=>p.kid===n),l&&this.jwks_cached_at+Og>c)return l;const{data:u,error:f}=await ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=c,l=u.keys.find(p=>p.kid===n),!l)?null:l}async getClaims(n,r={}){try{let l=n;if(!l){const{data:N,error:R}=await this.getSession();if(R||!N.session)return this._returnResult({data:null,error:R});l=N.session.access_token}const{header:c,payload:u,signature:f,raw:{header:p,payload:m}}=_o(l);r!=null&&r.allowExpired||ty(u.exp);const g=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!g){const{error:N}=await this.getUser(l);if(N)throw N;return{data:{claims:u,header:c,signature:f},error:null}}const y=ny(c.alg),x=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,x,f,qg(`${p}.${m}`)))throw new zo("Invalid JWT signature");return{data:{claims:u,header:c,signature:f},error:null}}catch(l){if(ne(l))return this._returnResult({data:null,error:l});throw l}}}Ms.nextInstanceID={};const Iy=Ms,$y="2.90.1";let Ps="";typeof Deno<"u"?Ps="deno":typeof document<"u"?Ps="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ps="react-native":Ps="node";const Dy={"X-Client-Info":`supabase-js-${Ps}/${$y}`},Ly={headers:Dy},Uy={schema:"public"},zy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},My={};function Bs(s){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Bs(s)}function By(s,n){if(Bs(s)!="object"||!s)return s;var r=s[Symbol.toPrimitive];if(r!==void 0){var l=r.call(s,n);if(Bs(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(s)}function qy(s){var n=By(s,"string");return Bs(n)=="symbol"?n:n+""}function Fy(s,n,r){return(n=qy(n))in s?Object.defineProperty(s,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[n]=r,s}function Ch(s,n){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);n&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),r.push.apply(r,l)}return r}function De(s){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Ch(Object(r),!0).forEach(function(l){Fy(s,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Ch(Object(r)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(r,l))})}return s}const Wy=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),Vy=()=>Headers,Hy=(s,n,r)=>{const l=Wy(r),c=Vy();return async(u,f)=>{var p;const m=(p=await n())!==null&&p!==void 0?p:s;let g=new c(f==null?void 0:f.headers);return g.has("apikey")||g.set("apikey",s),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),l(u,De(De({},f),{},{headers:g}))}};function Ky(s){return s.endsWith("/")?s:s+"/"}function Jy(s,n){var r,l;const{db:c,auth:u,realtime:f,global:p}=s,{db:m,auth:g,realtime:y,global:x}=n,k={db:De(De({},m),c),auth:De(De({},g),u),realtime:De(De({},y),f),storage:{},global:De(De(De({},x),p),{},{headers:De(De({},(r=x==null?void 0:x.headers)!==null&&r!==void 0?r:{}),(l=p==null?void 0:p.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return s.accessToken?k.accessToken=s.accessToken:delete k.accessToken,k}function Gy(s){const n=s==null?void 0:s.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ky(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Qy=class extends Iy{constructor(s){super(s)}},Yy=class{constructor(s,n,r){var l,c;this.supabaseUrl=s,this.supabaseKey=n;const u=Gy(s);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const f=`sb-${u.hostname.split(".")[0]}-auth-token`,p={db:Uy,realtime:My,auth:De(De({},zy),{},{storageKey:f}),global:Ly},m=Jy(r??{},p);if(this.storageKey=(l=m.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=m.global.headers)!==null&&c!==void 0?c:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(y,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=m.auth)!==null&&g!==void 0?g:{},this.headers,m.global.fetch)}this.fetch=Hy(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(De({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new Rv(new URL("rest/v1",u).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new Eg(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new Nv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,n,r)}channel(s,n={config:{}}){return this.realtime.channel(s,n)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,n,r;if(s.accessToken)return await s.accessToken();const{data:l}=await s.auth.getSession();return(n=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:n,detectSessionInUrl:r,storage:l,userStorage:c,storageKey:u,flowType:f,lock:p,debug:m,throwOnError:g},y,x){const k={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Qy({url:this.authUrl.href,headers:De(De({},k),y),storageKey:u,autoRefreshToken:s,persistSession:n,detectSessionInUrl:r,storage:l,userStorage:c,flowType:f,lock:p,debug:m,throwOnError:g,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(N=>N.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new Kv(this.realtimeUrl.href,De(De({},s),{},{params:De(De({},{apikey:this.supabaseKey}),s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(s,n,r){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Xy=(s,n,r)=>new Yy(s,n,r);function Zy(){if(typeof window<"u")return!1;const s=globalThis.process;if(!s)return!1;const n=s.version;if(n==null)return!1;const r=n.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Zy()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ew="https://placeholder.supabase.co",tw="placeholder-key",nw=Xy(ew,tw),rw=!0,Th={"jcgmode@gmail.com":{password:"testpass",profile:{id:"demo-worker-001",email:"jcgmode@gmail.com",full_name:"Test Cleaner",phone:"(604) 555-1234",role:"worker",avatar_url:null,created_at:new Date().toISOString()}},"queren@admin.local":{password:"admin",profile:{id:"demo-owner-001",email:"queren@admin.local",full_name:"Queren",phone:"(604) 555-0000",role:"owner",avatar_url:null,created_at:new Date().toISOString()}},"client@demo.local":{password:"demo",profile:{id:"demo-client-001",email:"client@demo.local",full_name:"Demo Client",phone:"(604) 555-9999",role:"client",avatar_url:null,created_at:new Date().toISOString()}}},uf=A.createContext(void 0);function sw({children:s}){const[n,r]=A.useState(null),[l,c]=A.useState(null),[u,f]=A.useState(null),[p,m]=A.useState(!0);A.useEffect(()=>{{const N=localStorage.getItem("demo_user");if(N){const R=Th[N];R&&(c({id:R.profile.id,email:N}),f(R.profile))}m(!1);return}},[]);async function g(N,R){{const E=Th[N.toLowerCase()];return E&&E.password===R?(c({id:E.profile.id,email:N}),f(E.profile),localStorage.setItem("demo_user",N.toLowerCase()),{error:null}):{error:new Error("Invalid email or password. Demo users: jcgmode@gmail.com/testpass (worker), queren@admin.local/admin (owner)")}}}async function y(N,R,E,T){return{error:new Error("Sign up is not available in demo mode. Use existing demo accounts.")}}async function x(){{c(null),f(null),localStorage.removeItem("demo_user");return}}const k={session:n,user:l,profile:u,role:(u==null?void 0:u.role)??null,isLoading:p,isDemoMode:rw,signIn:g,signUp:y,signOut:x};return i.jsx(uf.Provider,{value:k,children:s})}function er(){const s=A.useContext(uf);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s}function ot({children:s}){const{user:n,profile:r}=er(),[l,c]=Mr.useState(!1);return i.jsxs("div",{className:"public-layout",children:[i.jsx("header",{className:"public-header",children:i.jsx("div",{className:"container",children:i.jsxs("div",{className:"header-content",children:[i.jsxs(ye,{to:"/",className:"logo",children:[i.jsx("span",{className:"logo-icon",children:""}),i.jsx("span",{className:"logo-text",children:"Queren"})]}),i.jsxs("nav",{className:`nav-main ${l?"open":""}`,children:[i.jsx(Or,{to:"/",className:"nav-link",end:!0,children:"Home"}),i.jsx(Or,{to:"/services",className:"nav-link",children:"Services"}),i.jsx(Or,{to:"/about",className:"nav-link",children:"About"}),i.jsx(Or,{to:"/faq",className:"nav-link",children:"FAQ"}),i.jsx(Or,{to:"/contact",className:"nav-link",children:"Contact"})]}),i.jsx("div",{className:"header-actions",children:n?i.jsxs(i.Fragment,{children:[(!(r!=null&&r.role)||r.role==="client")&&i.jsx(ye,{to:"/dashboard",className:"header-profile-link",title:"My Account",children:""}),i.jsx(ye,{to:"/booking",className:"btn btn-primary",children:"Book Now"})]}):i.jsxs(i.Fragment,{children:[i.jsx(ye,{to:"/login",className:"btn btn-ghost",children:"Log In"}),i.jsx(ye,{to:"/booking",className:"btn btn-primary",children:"Book Now"})]})}),i.jsxs("button",{className:"mobile-menu-btn hide-desktop",onClick:()=>c(!l),"aria-label":"Toggle menu",children:[i.jsx("span",{}),i.jsx("span",{}),i.jsx("span",{})]})]})})}),i.jsx("main",{className:"public-main",children:s}),i.jsx("footer",{className:"public-footer",children:i.jsxs("div",{className:"container",children:[i.jsxs("div",{className:"footer-grid",children:[i.jsxs("div",{className:"footer-brand",children:[i.jsxs(ye,{to:"/",className:"logo",children:[i.jsx("span",{className:"logo-icon",children:""}),i.jsx("span",{className:"logo-text",children:"Queren"})]}),i.jsx("p",{className:"footer-tagline",children:"Professional cleaning services for your home. Trusted, vetted cleaners."})]}),i.jsxs("div",{className:"footer-links",children:[i.jsx("h4",{children:"Services"}),i.jsx(ye,{to:"/services/regular",children:"Regular Cleaning"}),i.jsx(ye,{to:"/services/deep",children:"Deep Cleaning"}),i.jsx(ye,{to:"/services/pricing",children:"Pricing"})]}),i.jsxs("div",{className:"footer-links",children:[i.jsx("h4",{children:"Company"}),i.jsx(ye,{to:"/about/story",children:"Our Story"}),i.jsx(ye,{to:"/about/careers",children:"Careers"}),i.jsx(ye,{to:"/contact",children:"Contact"}),i.jsx(ye,{to:"/cleaner-login",className:"cleaner-link",children:"Login as Cleaner"})]}),i.jsxs("div",{className:"footer-links",children:[i.jsx("h4",{children:"Legal"}),i.jsx(ye,{to:"/policies",children:"Privacy Policy"}),i.jsx(ye,{to:"/policies",children:"Terms of Service"}),i.jsx(ye,{to:"/faq",children:"FAQ"})]})]}),i.jsx("div",{className:"footer-bottom",children:i.jsxs("p",{children:[" ",new Date().getFullYear()," Queren. All rights reserved."]})})]})})]})}function Xe({children:s,title:n,links:r}){var g;const{profile:l,signOut:c}=er(),u=Wr(),[f,p]=Mr.useState(!1),m=async()=>{await c(),u("/")};return i.jsxs("div",{className:"dashboard-layout",children:[i.jsxs("aside",{className:`dashboard-sidebar ${f?"open":""}`,children:[i.jsx("div",{className:"sidebar-header",children:i.jsxs(ye,{to:"/",className:"logo",children:[i.jsx("span",{className:"logo-icon",children:""}),i.jsx("span",{className:"logo-text",children:"Queren"})]})}),i.jsx("nav",{className:"sidebar-nav",children:r.map(y=>i.jsxs(Or,{to:y.to,className:"sidebar-link",end:y.to==="/dashboard"||y.to==="/worker"||y.to==="/owner",children:[i.jsx("span",{className:"sidebar-icon",children:y.icon}),y.label]},y.to))}),i.jsxs("div",{className:"sidebar-footer",children:[i.jsxs("div",{className:"sidebar-user",children:[i.jsx("div",{className:"user-avatar",children:((g=l==null?void 0:l.full_name)==null?void 0:g.charAt(0))||"?"}),i.jsxs("div",{className:"user-info",children:[i.jsx("span",{className:"user-name",children:(l==null?void 0:l.full_name)||"User"}),i.jsx("span",{className:"user-role",children:(l==null?void 0:l.role)||"Guest"})]})]}),i.jsx("button",{className:"btn btn-ghost btn-sm",onClick:m,children:"Sign Out"})]})]}),i.jsxs("div",{className:"dashboard-main",children:[i.jsxs("header",{className:"dashboard-header",children:[i.jsx("button",{className:"sidebar-toggle hide-desktop",onClick:()=>p(!f),"aria-label":"Toggle sidebar",children:""}),i.jsx("h1",{className:"dashboard-title",children:n})]}),i.jsx("div",{className:"dashboard-content",children:s})]}),f&&i.jsx("div",{className:"sidebar-overlay hide-desktop",onClick:()=>p(!1)})]})}function Z({variant:s="primary",size:n="md",isLoading:r=!1,fullWidth:l=!1,children:c,disabled:u,className:f="",...p}){const m=["btn",`btn-${s}`,n==="sm"&&"btn-sm",n==="lg"&&"btn-lg",l&&"btn-block",f].filter(Boolean).join(" ");return i.jsx("button",{className:m,disabled:u||r,...p,children:r?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"btn-spinner","aria-hidden":"true"}),i.jsx("span",{children:"Loading..."})]}):c})}const Se=Mr.forwardRef(({label:s,error:n,helper:r,id:l,className:c="",...u},f)=>{const p=l||`input-${Math.random().toString(36).slice(2)}`;return i.jsxs("div",{className:"form-group",children:[s&&i.jsxs("label",{htmlFor:p,className:"form-label",children:[s,u.required&&i.jsx("span",{className:"required",children:"*"})]}),i.jsx("input",{ref:f,id:p,className:`form-input ${n?"error":""} ${c}`,"aria-invalid":!!n,"aria-describedby":n?`${p}-error`:r?`${p}-helper`:void 0,...u}),n&&i.jsx("span",{id:`${p}-error`,className:"form-error",role:"alert",children:n}),r&&!n&&i.jsx("span",{id:`${p}-helper`,className:"form-helper",children:r})]})});Se.displayName="Input";const df=Mr.forwardRef(({label:s,error:n,helper:r,options:l,placeholder:c,id:u,className:f="",...p},m)=>{const g=u||`select-${Math.random().toString(36).slice(2)}`;return i.jsxs("div",{className:"form-group",children:[s&&i.jsxs("label",{htmlFor:g,className:"form-label",children:[s,p.required&&i.jsx("span",{className:"required",children:"*"})]}),i.jsxs("select",{ref:m,id:g,className:`form-select ${n?"error":""} ${f}`,"aria-invalid":!!n,...p,children:[c&&i.jsx("option",{value:"",disabled:!0,children:c}),l.map(y=>i.jsx("option",{value:y.value,children:y.label},y.value))]}),n&&i.jsx("span",{className:"form-error",role:"alert",children:n}),r&&!n&&i.jsx("span",{className:"form-helper",children:r})]})});df.displayName="Select";const W=A.forwardRef(({children:s,className:n="",hover:r=!1,style:l},c)=>i.jsx("div",{ref:c,className:`card ${r?"card-hover":""} ${n}`,style:l,children:s}));W.displayName="Card";function H({children:s,className:n="",style:r}){return i.jsx("div",{className:`card-body ${n}`,style:r,children:s})}function Rh({value:s,min:n=1,max:r=10,onChange:l,label:c}){const u=()=>{s>n&&l(s-1)},f=()=>{s<r&&l(s+1)};return i.jsxs("div",{className:"form-group",children:[c&&i.jsx("span",{className:"form-label",children:c}),i.jsxs("div",{className:"stepper",children:[i.jsx("button",{type:"button",className:"stepper-btn",onClick:u,disabled:s<=n,"aria-label":"Decrease",children:""}),i.jsx("span",{className:"stepper-value","aria-live":"polite",children:s}),i.jsx("button",{type:"button",className:"stepper-btn",onClick:f,disabled:s>=r,"aria-label":"Increase",children:"+"})]})]})}function Te({variant:s="primary",children:n}){return i.jsx("span",{className:`badge badge-${s}`,children:n})}const iw={info:"",success:"",error:"",warning:""};function Zn({variant:s="info",title:n,children:r}){return i.jsxs("div",{className:`alert alert-${s}`,role:"alert",children:[i.jsx("span",{className:"alert-icon","aria-hidden":"true",children:iw[s]}),i.jsxs("div",{className:"alert-content",children:[n&&i.jsx("div",{className:"alert-title",children:n}),i.jsx("div",{children:r})]})]})}function aw({items:s,className:n=""}){const[r,l]=A.useState(null),c=u=>{l(r===u?null:u)};return i.jsx("div",{className:`accordion ${n}`,children:s.map(u=>i.jsxs("div",{className:`accordion-item ${r===u.id?"open":""}`,children:[i.jsxs("button",{className:"accordion-trigger",onClick:()=>c(u.id),"aria-expanded":r===u.id,"aria-controls":`accordion-content-${u.id}`,children:[i.jsx("span",{className:"accordion-question",children:u.question}),i.jsx("span",{className:"accordion-icon","aria-hidden":"true",children:r===u.id?"":"+"})]}),i.jsx("div",{id:`accordion-content-${u.id}`,className:"accordion-content",role:"region","aria-labelledby":`accordion-trigger-${u.id}`,children:i.jsx("div",{className:"accordion-answer",children:i.jsx("div",{className:"accordion-answer-inner",children:u.answer})})})]},u.id))})}const lw=[{name:"Sarah M.",rating:5,text:"Amazing service! My home has never been this clean. Highly recommend.",city:"Toronto"},{name:"James K.",rating:5,text:"Professional, thorough, and friendly. Will definitely book again!",city:"Vancouver"},{name:"Linda P.",rating:5,text:"The booking process was so easy, and the cleaning exceeded expectations.",city:"Calgary"}],ow=[{icon:"",title:"Vetted Cleaners",description:"Every cleaner is background-checked and professionally trained."},{icon:"",title:"Transparent Pricing",description:"No hidden fees. Know your exact price before you book."},{icon:"",title:"Flexible Scheduling",description:"Book online 24/7. Cancel or reschedule anytime."}],cw=[{title:"Regular Cleaning",price:89,description:"Weekly or bi-weekly maintenance cleaning to keep your home fresh.",link:"/services/regular"},{title:"Deep Cleaning",price:149,description:"Thorough top-to-bottom cleaning for a complete refresh.",link:"/services/deep"},{title:"Custom Clean",price:null,description:"Special requests? Moving? We can customize to your needs.",link:"/contact"}];function uw(){return i.jsxs("div",{className:"home-page",children:[i.jsx("section",{className:"hero",children:i.jsxs("div",{className:"container",children:[i.jsxs("div",{className:"hero-content",children:[i.jsxs("h1",{className:"hero-title",children:["Professional Cleaning,",i.jsx("br",{}),i.jsx("span",{className:"text-primary",children:"Worry-Free"})]}),i.jsx("p",{className:"hero-subtitle",children:"Trusted, vetted cleaners at your doorstep. Transparent pricing, easy booking, sparkling results."}),i.jsxs("div",{className:"hero-actions",children:[i.jsx(ye,{to:"/booking",children:i.jsx(Z,{size:"lg",children:"Book Now"})}),i.jsx(ye,{to:"/services/pricing",children:i.jsx(Z,{variant:"outline",size:"lg",children:"See Pricing"})})]}),i.jsxs("div",{className:"hero-trust",children:[i.jsx("span",{children:" 4.9 Rating"}),i.jsx("span",{children:""}),i.jsx("span",{children:"500+ Happy Homes"}),i.jsx("span",{children:""}),i.jsx("span",{children:"100% Satisfaction"})]})]}),i.jsx("div",{className:"hero-image",children:i.jsx("div",{className:"hero-image-placeholder",children:""})})]})}),i.jsx("section",{className:"section features",children:i.jsx("div",{className:"container",children:i.jsx("div",{className:"features-grid",children:ow.map((s,n)=>i.jsxs("div",{className:"feature-item",children:[i.jsx("span",{className:"feature-icon",children:s.icon}),i.jsx("h3",{className:"feature-title",children:s.title}),i.jsx("p",{className:"feature-text",children:s.description})]},n))})})}),i.jsx("section",{className:"section how-it-works",children:i.jsxs("div",{className:"container",children:[i.jsx("h2",{className:"section-title text-center",children:"How It Works"}),i.jsx("p",{className:"section-subtitle text-center",children:"Getting your home cleaned is as easy as 1-2-3"}),i.jsxs("div",{className:"steps-grid",children:[i.jsxs("div",{className:"step-item",children:[i.jsx("div",{className:"step-number",children:"1"}),i.jsx("h3",{children:"Book Online"}),i.jsx("p",{children:"Choose your service, date, and time in minutes."})]}),i.jsxs("div",{className:"step-item",children:[i.jsx("div",{className:"step-number",children:"2"}),i.jsx("h3",{children:"We Clean"}),i.jsx("p",{children:"Our vetted cleaner arrives and works their magic."})]}),i.jsxs("div",{className:"step-item",children:[i.jsx("div",{className:"step-number",children:"3"}),i.jsx("h3",{children:"You Relax"}),i.jsx("p",{children:"Come home to a sparkling clean space."})]})]})]})}),i.jsx("section",{className:"section services-section",children:i.jsxs("div",{className:"container",children:[i.jsx("h2",{className:"section-title text-center",children:"Our Services"}),i.jsx("div",{className:"services-grid",children:cw.map((s,n)=>i.jsx(W,{hover:!0,className:"service-card",children:i.jsxs(H,{children:[i.jsx("h3",{className:"service-title",children:s.title}),i.jsx("p",{className:"service-price",children:s.price?`Starting at $${s.price}`:"Custom Quote"}),i.jsx("p",{className:"service-desc",children:s.description}),i.jsx(ye,{to:s.link,children:i.jsx(Z,{variant:"secondary",fullWidth:!0,children:"Learn More"})})]})},n))})]})}),i.jsx("section",{className:"section testimonials",children:i.jsxs("div",{className:"container",children:[i.jsx("h2",{className:"section-title text-center",children:"What Our Clients Say"}),i.jsx("div",{className:"testimonials-grid",children:lw.map((s,n)=>i.jsx(W,{className:"testimonial-card",children:i.jsxs(H,{children:[i.jsx("div",{className:"testimonial-stars",children:"".repeat(s.rating)}),i.jsxs("p",{className:"testimonial-text",children:['"',s.text,'"']}),i.jsxs("p",{className:"testimonial-author",children:[i.jsx("strong",{children:s.name}),"  ",s.city]})]})},n))})]})}),i.jsx("section",{className:"section cta",children:i.jsx("div",{className:"container",children:i.jsxs("div",{className:"cta-content",children:[i.jsx("h2",{children:"Ready for a Sparkling Home?"}),i.jsx("p",{children:"Book your cleaning in under 2 minutes. No surprises, just clean."}),i.jsx(ye,{to:"/booking",children:i.jsx(Z,{size:"lg",children:"Book Your Cleaning"})})]})})})]})}const ca={baseRegular:89,baseDeep:149,sqftRate:.03,bedroomRate:15,bathroomRate:20,taxRate:.13,addons:{fridge:{id:"fridge",label:"Inside Fridge",price:25},oven:{id:"oven",label:"Inside Oven",price:30},dishes:{id:"dishes",label:"Dishes",price:15},cabinets:{id:"cabinets",label:"Inside Cabinets",price:40},laundry:{id:"laundry",label:"Laundry",price:20}}};function Ph(s,n=ca){const r=s.serviceType==="regular"?n.baseRegular:n.baseDeep,l=Math.max(0,s.sqft-1e3),c=Math.round(l*n.sqftRate),u=(s.bedrooms-1)*n.bedroomRate,f=(s.bathrooms-1)*n.bathroomRate,p=s.addons.map(T=>{const O=n.addons[T];return O?{name:O.label,price:O.price}:null}).filter(T=>T!==null),m=p.reduce((T,O)=>T+O.price,0),g=r+c+u+f+m,y=Math.round(g*n.taxRate*100)/100,x=Math.round((g+y)*100)/100,k=s.serviceType==="regular"?2:3,N=s.bedrooms*.25+s.bathrooms*.5,R=s.sqft>1500?(s.sqft-1500)/1e3:0,E=Math.round((k+N+R)*2)/2;return{base:r,sqftCharge:c,bedroomCharge:u,bathroomCharge:f,addons:p,subtotal:g,tax:y,total:x,estimatedHours:E}}function Gt(s,n="CAD"){return new Intl.NumberFormat("en-CA",{style:"currency",currency:n,minimumFractionDigits:2}).format(s)}const Oh={serviceType:"regular",sqft:1200,bedrooms:2,bathrooms:1,addons:[],date:"",time:"morning",fullName:"",email:"",phone:"",street:"",city:"",postalCode:"",notes:""},dw=[{value:"morning",label:"Morning (8am - 12pm)"},{value:"afternoon",label:"Afternoon (12pm - 4pm)"},{value:"evening",label:"Evening (4pm - 8pm)"}],hw=Object.entries(ca.addons).map(([s,n])=>({id:s,label:n.label,price:n.price}));function fw(){const{user:s,profile:n}=er(),r=Wr(),[l,c]=A.useState(Oh),[u,f]=A.useState(()=>Ph(Oh,ca)),[p,m]=A.useState(!1),[g,y]=A.useState(null),[x,k]=A.useState(!1),N=A.useRef(null),R=A.useRef(null);A.useEffect(()=>{n&&c(J=>({...J,fullName:n.full_name||"",email:n.email||"",phone:n.phone||""}))},[n]),A.useEffect(()=>{const J=Ph({serviceType:l.serviceType,sqft:l.sqft,bedrooms:l.bedrooms,bathrooms:l.bathrooms,addons:l.addons},ca);f(J)},[l.serviceType,l.sqft,l.bedrooms,l.bathrooms,l.addons]),A.useEffect(()=>{const J=N.current;if(!J)return;const K=new IntersectionObserver(([re])=>{k(!re.isIntersecting)},{root:null,threshold:0});return K.observe(J),()=>K.disconnect()},[]);const E=J=>{const{name:K,value:re}=J.target;c(pe=>({...pe,[K]:re}))},T=J=>{c(K=>({...K,serviceType:J}))},O=J=>{c(K=>({...K,addons:K.addons.includes(J)?K.addons.filter(re=>re!==J):[...K.addons,J]}))},$=async J=>{J.preventDefault(),y(null),m(!0);try{if(!l.date)throw new Error("Please select a date");if(!l.fullName)throw new Error("Please enter your name");if(!l.email)throw new Error("Please enter your email");if(!l.street)throw new Error("Please enter your address");const K=new Date(`${l.date}T${l.time==="morning"?"09:00":l.time==="afternoon"?"13:00":"17:00"}:00`),re={client_id:(s==null?void 0:s.id)||crypto.randomUUID(),service_type:l.serviceType,sqft:l.sqft,bedrooms:l.bedrooms,bathrooms:l.bathrooms,addons:l.addons,scheduled_at:K.toISOString(),status:"pending",price_breakdown:u,total:u.total,notes:l.notes},{error:pe}=await nw.from("bookings").insert(re);pe&&console.error("Booking error:",pe),r("/booking/confirmation")}catch(K){y(K instanceof Error?K.message:"Something went wrong")}finally{m(!1)}},I=new Date;I.setDate(I.getDate()+1);const z=I.toISOString().split("T")[0];return i.jsx("div",{className:"booking-page",children:i.jsxs("div",{className:"container",children:[i.jsxs("header",{className:"booking-header",children:[i.jsx("h1",{children:"Book Your Cleaning"}),i.jsx("p",{children:"Get an instant quote  no hidden fees"})]}),i.jsxs("div",{className:"booking-layout",children:[i.jsxs("form",{className:"booking-form",onSubmit:$,children:[g&&i.jsx(Zn,{variant:"error",title:"Oops!",children:g}),i.jsxs("section",{className:"form-section",children:[i.jsx("h2",{children:"Choose Your Service"}),i.jsxs("div",{className:"service-type-grid",children:[i.jsxs("button",{type:"button",className:`service-type-card ${l.serviceType==="regular"?"active":""}`,onClick:()=>T("regular"),children:[i.jsx("span",{className:"service-type-icon",children:""}),i.jsx("span",{className:"service-type-name",children:"Regular Cleaning"}),i.jsx("span",{className:"service-type-price",children:"From $89"}),i.jsx("span",{className:"service-type-desc",children:"Weekly or bi-weekly maintenance"})]}),i.jsxs("button",{type:"button",className:`service-type-card ${l.serviceType==="deep"?"active":""}`,onClick:()=>T("deep"),children:[i.jsx("span",{className:"service-type-icon",children:""}),i.jsx("span",{className:"service-type-name",children:"Deep Cleaning"}),i.jsx("span",{className:"service-type-price",children:"From $149"}),i.jsx("span",{className:"service-type-desc",children:"Thorough top-to-bottom clean"})]})]}),i.jsx("p",{className:"reassurance",children:" Great choice! Our cleaners love this service."})]}),i.jsxs("section",{className:"form-section",children:[i.jsx("h2",{children:"Tell Us About Your Home"}),i.jsx("div",{className:"form-row",children:i.jsx(Se,{label:"Square Footage",name:"sqft",type:"number",value:l.sqft,onChange:E,min:200,max:1e4,required:!0})}),i.jsxs("div",{className:"form-row two-col",children:[i.jsx(Rh,{label:"Bedrooms",value:l.bedrooms,min:1,max:6,onChange:J=>c(K=>({...K,bedrooms:J}))}),i.jsx(Rh,{label:"Bathrooms",value:l.bathrooms,min:1,max:5,onChange:J=>c(K=>({...K,bathrooms:J}))})]}),i.jsx("p",{className:"reassurance",children:" Got it! We'll match you with a cleaning expert."})]}),i.jsxs("section",{className:"form-section",children:[i.jsx("h2",{children:"Add Extras"}),i.jsx("p",{className:"section-helper",children:"Optional services to make your home sparkle"}),i.jsx("div",{className:"addons-grid",children:hw.map(J=>i.jsxs("label",{className:"addon-card",children:[i.jsx("input",{type:"checkbox",checked:l.addons.includes(J.id),onChange:()=>O(J.id)}),i.jsxs("span",{className:"addon-info",children:[i.jsx("span",{className:"addon-name",children:J.label}),i.jsxs("span",{className:"addon-price",children:["+",Gt(J.price)]})]}),i.jsx("span",{className:"addon-check",children:""})]},J.id))}),l.addons.length>0&&i.jsx("p",{className:"reassurance",children:" These extras will make your home sparkle!"})]}),i.jsxs("section",{className:"form-section",children:[i.jsx("h2",{children:"Pick a Date & Time"}),i.jsxs("div",{className:"form-row two-col",children:[i.jsx(Se,{label:"Preferred Date",name:"date",type:"date",value:l.date,onChange:E,min:z,required:!0}),i.jsx(df,{label:"Preferred Time",name:"time",value:l.time,onChange:E,options:dw,required:!0})]}),i.jsx("p",{className:"reassurance",children:" Perfect timing. You can reschedule later if needed."})]}),i.jsxs("section",{className:"form-section",children:[i.jsx("h2",{children:"Your Information"}),i.jsx("div",{className:"form-row",children:i.jsx(Se,{label:"Full Name",name:"fullName",value:l.fullName,onChange:E,required:!0})}),i.jsxs("div",{className:"form-row two-col",children:[i.jsx(Se,{label:"Email",name:"email",type:"email",value:l.email,onChange:E,required:!0}),i.jsx(Se,{label:"Phone",name:"phone",type:"tel",value:l.phone,onChange:E,required:!0})]}),i.jsx("div",{className:"form-row",children:i.jsx(Se,{label:"Street Address",name:"street",value:l.street,onChange:E,required:!0})}),i.jsxs("div",{className:"form-row two-col",children:[i.jsx(Se,{label:"City",name:"city",value:l.city,onChange:E,required:!0}),i.jsx(Se,{label:"Postal Code",name:"postalCode",value:l.postalCode,onChange:E,placeholder:"A1A 1A1",required:!0})]})]}),i.jsxs("section",{className:"form-section",children:[i.jsx("h2",{children:"Special Requests"}),i.jsx("div",{className:"form-row",children:i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Notes for Cleaner (Optional)"}),i.jsx("textarea",{name:"notes",className:"form-textarea",value:l.notes,onChange:E,placeholder:"Any special instructions, access codes, or things we should know...",rows:4})]})})]}),i.jsxs("div",{className:"mobile-submit hide-desktop",children:[i.jsxs(Z,{type:"submit",size:"lg",fullWidth:!0,isLoading:p,children:["Confirm Booking  ",Gt(u.total)]}),i.jsx("p",{className:"final-reassurance",children:"No payment required until service day. Cancel anytime."})]})]}),i.jsxs("div",{className:"booking-summary-wrapper",children:[i.jsx("div",{ref:N,className:"summary-sentinel"}),i.jsx(W,{ref:R,className:`booking-summary ${x?"is-stuck":""}`,children:i.jsxs(H,{children:[i.jsx("h3",{className:"summary-title",children:"Your Cleaning Quote"}),i.jsxs("div",{className:"summary-lines",children:[i.jsxs("div",{className:"summary-line",children:[i.jsxs("span",{children:[l.serviceType==="regular"?"Regular":"Deep"," Cleaning"]}),i.jsx("span",{children:Gt(u.base)})]}),u.sqftCharge>0&&i.jsxs("div",{className:"summary-line",children:[i.jsxs("span",{children:[l.sqft," sqft"]}),i.jsxs("span",{children:["+",Gt(u.sqftCharge)]})]}),u.bedroomCharge>0&&i.jsxs("div",{className:"summary-line",children:[i.jsxs("span",{children:[l.bedrooms," bedrooms"]}),i.jsxs("span",{children:["+",Gt(u.bedroomCharge)]})]}),u.bathroomCharge>0&&i.jsxs("div",{className:"summary-line",children:[i.jsxs("span",{children:[l.bathrooms," bathrooms"]}),i.jsxs("span",{children:["+",Gt(u.bathroomCharge)]})]}),u.addons.map((J,K)=>i.jsxs("div",{className:"summary-line",children:[i.jsx("span",{children:J.name}),i.jsxs("span",{children:["+",Gt(J.price)]})]},K))]}),i.jsx("div",{className:"summary-divider"}),i.jsxs("div",{className:"summary-line subtotal",children:[i.jsx("span",{children:"Subtotal"}),i.jsx("span",{children:Gt(u.subtotal)})]}),i.jsxs("div",{className:"summary-line",children:[i.jsx("span",{children:"HST (13%)"}),i.jsx("span",{children:Gt(u.tax)})]}),i.jsx("div",{className:"summary-divider"}),i.jsxs("div",{className:"summary-line total",children:[i.jsx("span",{children:"Total"}),i.jsx("span",{children:Gt(u.total)})]}),i.jsxs("p",{className:"summary-estimate",children:["Estimated duration: ",u.estimatedHours," hours"]}),i.jsx(Z,{type:"button",size:"lg",fullWidth:!0,className:"hide-mobile",isLoading:p,onClick:()=>{var J;return(J=document.querySelector(".booking-form"))==null?void 0:J.requestSubmit()},children:"Book Now"}),i.jsxs("p",{className:"summary-note",children:["No payment required until service day.",i.jsx("br",{}),"Cancel or reschedule anytime."]})]})})]})]})]})})}function pw(){return i.jsx("div",{className:"container",style:{padding:"4rem 1rem",maxWidth:"600px",textAlign:"center"},children:i.jsx(W,{children:i.jsxs(H,{children:[i.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),i.jsx("h1",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"You're All Set!"}),i.jsx("p",{style:{color:"var(--color-text-muted)",marginBottom:"2rem"},children:"Your booking request has been received. We'll send you a confirmation email shortly."}),i.jsxs("div",{style:{background:"var(--color-bg-subtle)",padding:"1.5rem",borderRadius:"12px",marginBottom:"2rem"},children:[i.jsx("p",{style:{fontWeight:500,marginBottom:"0.5rem"},children:"What happens next?"}),i.jsxs("ol",{style:{textAlign:"left",color:"var(--color-text-muted)",paddingLeft:"1.5rem"},children:[i.jsx("li",{style:{marginBottom:"0.5rem"},children:"We'll match you with a vetted cleaner"}),i.jsx("li",{style:{marginBottom:"0.5rem"},children:"You'll receive a confirmation email"}),i.jsx("li",{children:"Your cleaner will arrive at the scheduled time"})]})]}),i.jsx("p",{style:{color:"var(--color-success)",marginBottom:"2rem"},children:" No payment required until service day"}),i.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[i.jsx(ye,{to:"/",children:i.jsx(Z,{variant:"secondary",children:"Back to Home"})}),i.jsx(ye,{to:"/dashboard",children:i.jsx(Z,{children:"View Dashboard"})})]})]})})})}const mw=[{id:"pricing",title:"Pricing & Payments",icon:"",items:[{id:"pricing-1",question:"How is my cleaning price calculated?",answer:"Prices are based on home size, type of clean, and selected add-ons. Everything is shown upfront during booking so there are no surprises."},{id:"pricing-2",question:"Can the price change after booking?",answer:"No. If anything unexpected comes up, we'll contact you before making changes."},{id:"pricing-3",question:"Are tips included?",answer:"Tips are optional and always go 100% to the cleaner."},{id:"pricing-4",question:"What payment methods do you accept?",answer:"Credit and debit cards via secure checkout."}]},{id:"services",title:"Services & Scope",icon:"",items:[{id:"services-1",question:"What's included in a standard clean?",answer:"Surface cleaning, kitchen, bathrooms, floors, dusting, and tidying within the booked scope."},{id:"services-2",question:"What is considered a deep clean?",answer:"A deep clean includes detailed attention to buildup, edges, and areas not covered in regular cleans."},{id:"services-3",question:"Are there things you don't clean?",answer:"Yes. For safety reasons, we don't clean biohazards, exterior windows, or high-risk areas."}]},{id:"supplies",title:"Supplies & Equipment",icon:"",items:[{id:"supplies-1",question:"Do I need to provide cleaning supplies?",answer:i.jsxs(i.Fragment,{children:[i.jsx("p",{children:"It depends on the service mode you select:"}),i.jsxs("ul",{children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Transit-Friendly Clean:"})," Vacuum + mop/bucket provided by client"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"All-In Clean:"})," Queren brings everything"]})]})]})},{id:"supplies-2",question:"Why does Queren offer two service modes?",answer:"This allows us to reduce cross-contamination, support transit-based cleaners, and keep prices fair."}]},{id:"scheduling",title:"Scheduling & Cancellations",icon:"",items:[{id:"scheduling-1",question:"How do cancellations work?",answer:"Cancellations made with sufficient notice are free. Late cancellations may incur a fee to protect cleaner time."},{id:"scheduling-2",question:"Can I reschedule my cleaning?",answer:"Yes  rescheduling is easy through your booking link."}]},{id:"satisfaction",title:"Satisfaction & Issues",icon:"",items:[{id:"satisfaction-1",question:"What if I'm not satisfied with my clean?",answer:"Contact us within 24 hours. We'll review the issue based on the service checklist and make it right."},{id:"satisfaction-2",question:"Will the cleaner be penalized automatically?",answer:"No. We assess concerns fairly and protect both clients and cleaners."}]},{id:"trust",title:"Cleaners & Trust",icon:"",items:[{id:"trust-1",question:"Are cleaners vetted?",answer:"Yes. All cleaners are background-checked and trained on Queren's standardized process."},{id:"trust-2",question:"Will I get the same cleaner every time?",answer:"For recurring bookings, we prioritize consistency whenever possible."}]}];function vw(){return i.jsx("div",{className:"faq-page",children:i.jsxs("div",{className:"container",children:[i.jsxs("header",{className:"faq-header",children:[i.jsx("h1",{children:"Frequently Asked Questions"}),i.jsx("p",{children:"Everything you need to know about Queren's cleaning services"})]}),i.jsx("div",{className:"faq-sections",children:mw.map(s=>i.jsxs("section",{className:"faq-section",children:[i.jsxs("div",{className:"faq-section-header",children:[i.jsx("span",{className:"faq-section-icon",children:s.icon}),i.jsx("h2",{children:s.title})]}),i.jsx(aw,{items:s.items})]},s.id))}),i.jsx("div",{className:"faq-contact",children:i.jsxs("div",{className:"faq-contact-card",children:[i.jsx("span",{className:"faq-contact-icon",children:""}),i.jsx("h3",{children:"Still have questions?"}),i.jsx("p",{children:"We're here to help. Reach out and we'll get back to you quickly."}),i.jsx("a",{href:"/contact",className:"btn btn-primary",children:"Contact Us"})]})})]})})}function gw(){const{signIn:s}=er(),n=Wr(),[r,l]=A.useState(""),[c,u]=A.useState(""),[f,p]=A.useState(null),[m,g]=A.useState(!1),y=async x=>{x.preventDefault(),p(null),g(!0);const{error:k}=await s(r,c);k?(p(k.message),g(!1)):n("/dashboard")};return i.jsx("div",{className:"auth-page",children:i.jsxs("div",{className:"auth-container",children:[i.jsxs("div",{className:"auth-header",children:[i.jsxs(ye,{to:"/",className:"logo",children:[i.jsx("span",{className:"logo-icon",children:""}),i.jsx("span",{className:"logo-text",children:"Queren"})]}),i.jsx("h1",{children:"Welcome Back"}),i.jsx("p",{children:"Sign in to your account"})]}),i.jsx(W,{className:"auth-card",children:i.jsxs(H,{children:[f&&i.jsx(Zn,{variant:"error",children:f}),i.jsxs("form",{onSubmit:y,className:"auth-form",children:[i.jsx(Se,{label:"Email",type:"email",value:r,onChange:x=>l(x.target.value),required:!0}),i.jsx(Se,{label:"Password",type:"password",value:c,onChange:x=>u(x.target.value),required:!0}),i.jsx("div",{className:"auth-forgot",children:i.jsx(ye,{to:"/forgot-password",children:"Forgot password?"})}),i.jsx(Z,{type:"submit",fullWidth:!0,isLoading:m,children:"Sign In"})]}),i.jsx("div",{className:"auth-footer",children:i.jsxs("p",{children:["Don't have an account? ",i.jsx(ye,{to:"/signup",children:"Sign up"})]})})]})})]})})}function yw(){const{signUp:s}=er(),n=Wr(),[r,l]=A.useState({fullName:"",email:"",phone:"",password:"",confirmPassword:""}),[c,u]=A.useState(null),[f,p]=A.useState(!1),m=async g=>{if(g.preventDefault(),u(null),r.password!==r.confirmPassword){u("Passwords do not match");return}if(r.password.length<8){u("Password must be at least 8 characters");return}p(!0);const{error:y}=await s(r.email,r.password,r.fullName,r.phone);y?(u(y.message),p(!1)):n("/dashboard")};return i.jsx("div",{className:"auth-page",children:i.jsxs("div",{className:"auth-container",children:[i.jsxs("div",{className:"auth-header",children:[i.jsxs(ye,{to:"/",className:"logo",children:[i.jsx("span",{className:"logo-icon",children:""}),i.jsx("span",{className:"logo-text",children:"Queren"})]}),i.jsx("h1",{children:"Create Your Account"}),i.jsx("p",{children:"Join thousands of happy homeowners"})]}),i.jsx(W,{className:"auth-card",children:i.jsxs(H,{children:[c&&i.jsx(Zn,{variant:"error",children:c}),i.jsxs("form",{onSubmit:m,className:"auth-form",children:[i.jsx(Se,{label:"Full Name",value:r.fullName,onChange:g=>l(y=>({...y,fullName:g.target.value})),required:!0}),i.jsx(Se,{label:"Email",type:"email",value:r.email,onChange:g=>l(y=>({...y,email:g.target.value})),required:!0}),i.jsx(Se,{label:"Phone",type:"tel",value:r.phone,onChange:g=>l(y=>({...y,phone:g.target.value})),required:!0}),i.jsx(Se,{label:"Password",type:"password",value:r.password,onChange:g=>l(y=>({...y,password:g.target.value})),helper:"At least 8 characters",required:!0}),i.jsx(Se,{label:"Confirm Password",type:"password",value:r.confirmPassword,onChange:g=>l(y=>({...y,confirmPassword:g.target.value})),required:!0}),i.jsx(Z,{type:"submit",fullWidth:!0,isLoading:f,children:"Create Account"})]}),i.jsx("div",{className:"auth-footer",children:i.jsxs("p",{children:["Already have an account? ",i.jsx(ye,{to:"/login",children:"Sign in"})]})})]})})]})})}const ww=[{to:"/dashboard",label:"Overview",icon:""},{to:"/dashboard/profile",label:"Profile",icon:""},{to:"/dashboard/billing",label:"Billing",icon:""},{to:"/dashboard/history",label:"History",icon:""},{to:"/dashboard/preferences",label:"Preferences",icon:""}];function Ah(){const{profile:s}=er();return i.jsxs(Xe,{title:"Dashboard",links:ww,children:[i.jsx(W,{className:"mb-6",style:{background:"linear-gradient(135deg, var(--color-primary-50), var(--color-bg))"},children:i.jsxs(H,{children:[i.jsxs("h2",{style:{fontSize:"1.5rem",marginBottom:"0.5rem"},children:["Hi, ",(s==null?void 0:s.full_name)||"there","! "]}),i.jsx("p",{style:{color:"var(--color-text-muted)"},children:"Your home is in good hands. Ready to schedule your next cleaning?"}),i.jsx(ye,{to:"/booking",style:{display:"inline-block",marginTop:"1rem"},children:i.jsx(Z,{children:"Book a Cleaning"})})]})}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[i.jsx(W,{children:i.jsxs(H,{style:{textAlign:"center"},children:[i.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"var(--color-primary)"},children:"0"}),i.jsx("div",{style:{color:"var(--color-text-muted)"},children:"Upcoming Cleanings"})]})}),i.jsx(W,{children:i.jsxs(H,{style:{textAlign:"center"},children:[i.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"var(--color-primary)"},children:"0"}),i.jsx("div",{style:{color:"var(--color-text-muted)"},children:"Past Cleanings"})]})}),i.jsx(W,{children:i.jsxs(H,{style:{textAlign:"center"},children:[i.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"var(--color-primary)"},children:"-"}),i.jsx("div",{style:{color:"var(--color-text-muted)"},children:"Your Rating"})]})})]}),i.jsx(W,{children:i.jsxs(H,{children:[i.jsx("h3",{style:{marginBottom:"1rem"},children:"Next Scheduled Cleaning"}),i.jsxs("div",{className:"empty-state",style:{padding:"2rem"},children:[i.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),i.jsx("p",{style:{marginBottom:"1rem"},children:"No upcoming cleanings scheduled"}),i.jsx(ye,{to:"/booking",children:i.jsx(Z,{variant:"secondary",children:"Book Your First Cleaning"})})]})]})})]})}const On=[{to:"/worker",label:"Dashboard",icon:""},{to:"/worker/onboarding",label:"Onboarding",icon:""},{to:"/worker/jobs",label:"Available Jobs",icon:""},{to:"/worker/schedule",label:"My Schedule",icon:""},{to:"/worker/tracking",label:"Time Tracking",icon:""},{to:"/worker/earnings",label:"Earnings",icon:""},{to:"/worker/training",label:"Training Hub",icon:""},{to:"/worker/profile",label:"Profile",icon:""}];function xw(){return i.jsxs(Xe,{title:"Worker Dashboard",links:On,children:[i.jsx(W,{className:"mb-6 welcome-banner",children:i.jsxs(H,{children:[i.jsx("h2",{children:"Welcome back! "}),i.jsx("p",{children:"You have 2 jobs scheduled today."})]})}),i.jsxs("div",{className:"stats-grid",children:[i.jsx(W,{children:i.jsxs(H,{className:"stat-card",children:[i.jsx("div",{className:"stat-value",children:"$847"}),i.jsx("div",{className:"stat-label",children:"This Week"})]})}),i.jsx(W,{children:i.jsxs(H,{className:"stat-card",children:[i.jsx("div",{className:"stat-value",children:"23"}),i.jsx("div",{className:"stat-label",children:"Jobs Completed"})]})}),i.jsx(W,{children:i.jsxs(H,{className:"stat-card",children:[i.jsx("div",{className:"stat-value",children:"4.9"}),i.jsx("div",{className:"stat-label",children:"Your Rating"})]})})]}),i.jsxs("div",{className:"dashboard-grid",children:[i.jsx(W,{children:i.jsxs(H,{children:[i.jsx("h3",{className:"card-title",children:"Today's Schedule"}),i.jsxs("div",{className:"schedule-list",children:[i.jsxs("div",{className:"schedule-item",children:[i.jsx("div",{className:"schedule-time",children:"9:00 AM"}),i.jsxs("div",{className:"schedule-details",children:[i.jsx("div",{className:"schedule-type",children:"Regular Cleaning"}),i.jsx("div",{className:"schedule-location",children:"Downtown Vancouver"})]}),i.jsx(Te,{variant:"primary",children:"Upcoming"})]}),i.jsxs("div",{className:"schedule-item",children:[i.jsx("div",{className:"schedule-time",children:"2:00 PM"}),i.jsxs("div",{className:"schedule-details",children:[i.jsx("div",{className:"schedule-type",children:"Deep Cleaning"}),i.jsx("div",{className:"schedule-location",children:"North Vancouver"})]}),i.jsx(Te,{variant:"warning",children:"Pending"})]})]})]})}),i.jsx(W,{children:i.jsxs(H,{children:[i.jsx("h3",{className:"card-title",children:"Pending Actions"}),i.jsxs("div",{className:"action-list",children:[i.jsxs("div",{className:"action-item",children:[i.jsx("span",{children:"Complete verification"}),i.jsx(Z,{variant:"secondary",size:"sm",children:"Start"})]}),i.jsxs("div",{className:"action-item",children:[i.jsx("span",{children:"2 new job requests"}),i.jsx(Z,{variant:"secondary",size:"sm",children:"View"})]})]})]})})]})]})}function jw(){const s=[{num:1,title:"Personal Info",status:"complete"},{num:2,title:"Documents",status:"current"},{num:3,title:"Background Check",status:"pending"},{num:4,title:"Training",status:"pending"}];return i.jsxs(Xe,{title:"Onboarding & Verification",links:On,children:[i.jsx(W,{className:"mb-6",children:i.jsx(H,{children:i.jsx("div",{className:"progress-tracker",children:s.map((n,r)=>i.jsxs("div",{className:`progress-step ${n.status}`,children:[i.jsx("div",{className:"step-circle",children:n.status==="complete"?"":n.num}),i.jsx("span",{className:"step-title",children:n.title}),r<s.length-1&&i.jsx("div",{className:"step-line"})]},n.num))})})}),i.jsx(W,{children:i.jsxs(H,{children:[i.jsx("h3",{className:"card-title",children:"Step 2: Upload Documents"}),i.jsx("p",{className:"card-subtitle",children:"Please upload the following documents to verify your identity."}),i.jsxs("div",{className:"upload-grid",children:[i.jsxs("div",{className:"upload-box",children:[i.jsx("div",{className:"upload-icon",children:""}),i.jsx("h4",{children:"Government ID (Front)"}),i.jsx("p",{children:"Driver's license or passport"}),i.jsx(Z,{variant:"secondary",children:"Upload"})]}),i.jsxs("div",{className:"upload-box",children:[i.jsx("div",{className:"upload-icon",children:""}),i.jsx("h4",{children:"Government ID (Back)"}),i.jsx("p",{children:"Back of your ID"}),i.jsx(Z,{variant:"secondary",children:"Upload"})]}),i.jsxs("div",{className:"upload-box completed",children:[i.jsx("div",{className:"upload-icon",children:""}),i.jsx("h4",{children:"Proof of Address"}),i.jsx("p",{children:"Utility bill or bank statement"}),i.jsx(Te,{variant:"success",children:"Uploaded"})]})]}),i.jsx(Zn,{variant:"info",title:"Why do we need this?",children:"These documents help us verify your identity and ensure safety for our clients. All documents are encrypted and stored securely."}),i.jsxs("div",{className:"form-actions",children:[i.jsx(Z,{variant:"ghost",children:"Back"}),i.jsx(Z,{children:"Continue to Background Check"})]})]})})]})}function _w(){const s=[{id:1,type:"Regular Cleaning",location:"Downtown",date:"Tomorrow, 9 AM",distance:"3.2 km",pay:89,status:"new"},{id:2,type:"Deep Cleaning",location:"Kitsilano",date:"Jan 15, 2 PM",distance:"5.8 km",pay:149,status:"new"},{id:3,type:"Regular Cleaning",location:"Burnaby",date:"Jan 16, 10 AM",distance:"8.1 km",pay:95,status:"viewed"}];return i.jsxs(Xe,{title:"Available Jobs",links:On,children:[i.jsxs("div",{className:"filter-bar",children:[i.jsx(Se,{placeholder:"Search by location..."}),i.jsxs("select",{className:"form-select",style:{maxWidth:200},children:[i.jsx("option",{children:"All Types"}),i.jsx("option",{children:"Regular Cleaning"}),i.jsx("option",{children:"Deep Cleaning"})]}),i.jsxs("select",{className:"form-select",style:{maxWidth:200},children:[i.jsx("option",{children:"Any Distance"}),i.jsx("option",{children:"Within 5 km"}),i.jsx("option",{children:"Within 10 km"}),i.jsx("option",{children:"Within 25 km"})]})]}),i.jsx("div",{className:"jobs-list",children:s.map(n=>i.jsx(W,{className:"job-card",children:i.jsxs(H,{children:[i.jsxs("div",{className:"job-header",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"job-type",children:n.type}),i.jsxs("p",{className:"job-location",children:[" ",n.location,"  ",n.distance," away"]})]}),n.status==="new"&&i.jsx(Te,{variant:"primary",children:"New"})]}),i.jsxs("div",{className:"job-details",children:[i.jsxs("div",{className:"job-detail",children:[i.jsx("span",{className:"detail-label",children:"Date & Time"}),i.jsx("span",{className:"detail-value",children:n.date})]}),i.jsxs("div",{className:"job-detail",children:[i.jsx("span",{className:"detail-label",children:"Estimated Pay"}),i.jsxs("span",{className:"detail-value pay",children:["$",n.pay]})]})]}),i.jsxs("div",{className:"job-actions",children:[i.jsx(Z,{variant:"ghost",children:"View Details"}),i.jsx(Z,{variant:"secondary",children:"Decline"}),i.jsx(Z,{children:"Accept Job"})]})]})},n.id))})]})}function kw(){const s=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],n=[13,14,15,16,17,18,19],r=[{day:0,time:"9:00",duration:2,title:"Regular Cleaning",location:"Downtown"},{day:0,time:"14:00",duration:3,title:"Deep Cleaning",location:"North Van"},{day:2,time:"10:00",duration:2,title:"Regular Cleaning",location:"Burnaby"},{day:4,time:"11:00",duration:2,title:"Regular Cleaning",location:"Kitsilano"}];return i.jsxs(Xe,{title:"My Schedule",links:On,children:[i.jsx(W,{children:i.jsxs(H,{children:[i.jsxs("div",{className:"schedule-header",children:[i.jsx(Z,{variant:"ghost",children:" Previous"}),i.jsx("h3",{children:"January 13 - 19, 2026"}),i.jsx(Z,{variant:"ghost",children:"Next "})]}),i.jsxs("div",{className:"calendar-week",children:[i.jsx("div",{className:"calendar-header",children:s.map((l,c)=>i.jsxs("div",{className:`calendar-day-header ${c===0?"today":""}`,children:[i.jsx("span",{className:"day-name",children:l}),i.jsx("span",{className:"day-date",children:n[c]})]},l))}),i.jsx("div",{className:"calendar-body",children:s.map((l,c)=>i.jsx("div",{className:"calendar-column",children:r.filter(u=>u.day===c).map((u,f)=>i.jsxs("div",{className:"calendar-event",style:{top:`${(parseInt(u.time)-8)*40}px`,height:`${u.duration*40}px`},children:[i.jsx("span",{className:"event-time",children:u.time}),i.jsx("span",{className:"event-title",children:u.title}),i.jsx("span",{className:"event-location",children:u.location})]},f))},c))})]})]})}),i.jsx(W,{className:"mt-6",children:i.jsxs(H,{children:[i.jsx("h3",{className:"card-title",children:"Upcoming This Week"}),i.jsx("div",{className:"agenda-list",children:r.map((l,c)=>i.jsxs("div",{className:"agenda-item",children:[i.jsxs("div",{className:"agenda-date",children:[s[l.day]," ",n[l.day]]}),i.jsxs("div",{className:"agenda-details",children:[i.jsx("strong",{children:l.title}),i.jsxs("span",{children:[l.time,"  ",l.location]})]}),i.jsx(Z,{variant:"secondary",size:"sm",children:"Details"})]},c))})]})})]})}function Sw(){const[s,n]=A.useState(!1);return i.jsxs(Xe,{title:"Time Tracking",links:On,children:[s?i.jsx(W,{className:"active-job-card",children:i.jsxs(H,{children:[i.jsxs("div",{className:"active-job-header",children:[i.jsx(Te,{variant:"success",children:"Currently Working"}),i.jsx("span",{className:"timer",children:"01:23:45"})]}),i.jsx("h2",{children:"Regular Cleaning"}),i.jsx("p",{className:"job-address",children:"123 Main St, Downtown Vancouver"}),i.jsx("p",{className:"job-client",children:"Client: Sarah M."}),i.jsx("div",{className:"tracking-actions",children:i.jsx(Z,{variant:"secondary",onClick:()=>n(!1),children:"Check Out"})})]})}):i.jsx(W,{children:i.jsx(H,{children:i.jsxs("div",{className:"empty-state",children:[i.jsx("div",{className:"empty-icon",children:""}),i.jsx("h3",{children:"No Active Job"}),i.jsx("p",{children:"When it's time for your next job, check in here to start tracking."})]})})}),i.jsx("h3",{className:"section-title mt-8",children:"Today's Jobs"}),i.jsxs("div",{className:"tracking-jobs",children:[i.jsx(W,{children:i.jsx(H,{children:i.jsxs("div",{className:"tracking-job",children:[i.jsxs("div",{className:"tracking-job-info",children:[i.jsx("h4",{children:"Regular Cleaning"}),i.jsx("p",{children:"Downtown Vancouver  9:00 AM"})]}),!s&&i.jsx(Z,{onClick:()=>n(!0),children:"Check In"})]})})}),i.jsx(W,{children:i.jsx(H,{children:i.jsxs("div",{className:"tracking-job",children:[i.jsxs("div",{className:"tracking-job-info",children:[i.jsx("h4",{children:"Deep Cleaning"}),i.jsx("p",{children:"North Vancouver  2:00 PM"})]}),i.jsx(Te,{children:"Later"})]})})})]}),i.jsx("h3",{className:"section-title mt-8",children:"Completed Today"}),i.jsx(W,{children:i.jsx(H,{children:i.jsx("div",{className:"empty-state small",children:i.jsx("p",{children:"No completed jobs yet today"})})})})]})}function Nw(){const s=[{date:"Jan 12",job:"Regular Cleaning - Downtown",hours:2,amount:89,status:"paid"},{date:"Jan 11",job:"Deep Cleaning - Kitsilano",hours:3.5,amount:149,status:"paid"},{date:"Jan 10",job:"Regular Cleaning - Burnaby",hours:2,amount:95,status:"paid"},{date:"Jan 9",job:"Regular Cleaning - North Van",hours:2.5,amount:99,status:"paid"}];return i.jsxs(Xe,{title:"Earnings & Payments",links:On,children:[i.jsxs("div",{className:"stats-grid",children:[i.jsx(W,{className:"highlight-card",children:i.jsxs(H,{className:"stat-card",children:[i.jsx("div",{className:"stat-value",children:"$847"}),i.jsx("div",{className:"stat-label",children:"This Week"})]})}),i.jsx(W,{children:i.jsxs(H,{className:"stat-card",children:[i.jsx("div",{className:"stat-value",children:"$3,240"}),i.jsx("div",{className:"stat-label",children:"This Month"})]})}),i.jsx(W,{children:i.jsxs(H,{className:"stat-card",children:[i.jsx("div",{className:"stat-value",children:"$12,450"}),i.jsx("div",{className:"stat-label",children:"Total Earnings"})]})})]}),i.jsx(W,{className:"mt-6",children:i.jsxs(H,{children:[i.jsxs("div",{className:"earnings-header",children:[i.jsx("h3",{className:"card-title",children:"Next Payout"}),i.jsx(Te,{variant:"primary",children:"Friday, Jan 17"})]}),i.jsxs("div",{className:"payout-preview",children:[i.jsx("div",{className:"payout-amount",children:"$432.00"}),i.jsx("p",{children:"5 jobs completed since last payout"})]})]})}),i.jsx(W,{className:"mt-6",children:i.jsxs(H,{children:[i.jsx("h3",{className:"card-title",children:"Earnings History"}),i.jsxs("div",{className:"earnings-table",children:[i.jsxs("div",{className:"table-header",children:[i.jsx("span",{children:"Date"}),i.jsx("span",{children:"Job"}),i.jsx("span",{children:"Hours"}),i.jsx("span",{children:"Amount"}),i.jsx("span",{children:"Status"})]}),s.map((n,r)=>i.jsxs("div",{className:"table-row",children:[i.jsx("span",{children:n.date}),i.jsx("span",{children:n.job}),i.jsxs("span",{children:[n.hours,"h"]}),i.jsxs("span",{className:"amount",children:["$",n.amount]}),i.jsx(Te,{variant:"success",children:"Paid"})]},r))]})]})})]})}const bw=[{id:"1",title:"Welcome to Queren",description:"Introduction to our cleaning standards and company values",type:"video",contentUrl:"https://example.com/welcome.mp4",duration:"10 min",isRequired:!0,quiz:[{id:"q1",question:"What is Queren's core value?",options:["Speed","Quality & Trust","Low prices","Quantity"],correctIndex:1},{id:"q2",question:"How should you greet a client?",options:["Ignore them","Professional greeting","Wave silently","Start cleaning immediately"],correctIndex:1}],passingScore:80,completed:!0,quizScore:100},{id:"2",title:"Cleaning Standards & Quality",description:"Detailed guide on our cleaning checklist and quality expectations",type:"pdf",contentUrl:"https://example.com/standards.pdf",duration:"20 min",isRequired:!0,quiz:[{id:"q1",question:"What should you clean first in a bathroom?",options:["Toilet","Mirror","Counters","Floor"],correctIndex:0},{id:"q2",question:"How often should mop heads be replaced?",options:["Never","Monthly","Weekly","Daily"],correctIndex:2}],passingScore:80,completed:!0,quizScore:100},{id:"3",title:"Client Communication",description:"Best practices for interacting with clients professionally",type:"video",contentUrl:"https://example.com/communication.mp4",duration:"15 min",isRequired:!0,quiz:[],passingScore:80,completed:!1},{id:"4",title:"Safety & Supplies",description:"How to safely use cleaning supplies and equipment",type:"pdf",contentUrl:"https://example.com/safety.pdf",duration:"12 min",isRequired:!0,quiz:[{id:"q1",question:"Should you mix bleach with ammonia?",options:["Yes","No","Sometimes","Only outdoors"],correctIndex:1}],passingScore:100,completed:!1}];function Ew(){const[s,n]=A.useState(bw),[r,l]=A.useState(null),[c,u]=A.useState("list"),[f,p]=A.useState({}),[m,g]=A.useState(null),y=s.filter(O=>O.completed).length,x=O=>{l(O),p({}),g(null),u("content")},k=()=>{p({}),u("quiz")},N=(O,$)=>{p({...f,[O]:$})},R=()=>{if(!r||r.quiz.length===0)return;let O=0;r.quiz.forEach(z=>{f[z.id]===z.correctIndex&&O++});const $=Math.round(O/r.quiz.length*100),I=$>=r.passingScore;g({score:$,passed:I}),u("result"),I&&n(s.map(z=>z.id===r.id?{...z,completed:!0,quizScore:$}:z))},E=()=>{u("list"),l(null)},T=()=>{p({}),g(null),u("quiz")};return i.jsxs(Xe,{title:"Training Hub",links:On,children:[c==="list"&&i.jsxs(i.Fragment,{children:[i.jsx(W,{className:"mb-6",children:i.jsx(H,{children:i.jsxs("div",{className:"training-progress",children:[i.jsxs("div",{className:"progress-info",children:[i.jsx("h3",{children:"Your Progress"}),i.jsxs("p",{children:[y," of ",s.length," modules completed"]})]}),i.jsx("div",{className:"progress-bar-container",children:i.jsx("div",{className:"progress-bar",style:{width:`${y/s.length*100}%`}})})]})})}),i.jsx("h3",{className:"section-title",children:"Required Training"}),i.jsx("div",{className:"training-list",children:s.map(O=>i.jsx(W,{className:"training-card",children:i.jsx(H,{children:i.jsxs("div",{className:"training-item",children:[i.jsx("div",{className:"training-icon",children:O.completed?"":O.type==="video"?"":""}),i.jsxs("div",{className:"training-info",children:[i.jsx("h4",{children:O.title}),i.jsxs("span",{children:[O.duration," ",O.quiz.length>0&&` ${O.quiz.length} quiz questions`]})]}),O.completed?i.jsxs("div",{className:"training-status",children:[i.jsx(Te,{variant:"success",children:"Complete"}),O.quizScore!==void 0&&i.jsxs("small",{className:"text-muted",children:["Score: ",O.quizScore,"%"]})]}):i.jsx(Z,{variant:"secondary",size:"sm",onClick:()=>x(O),children:"Start"})]})})},O.id))}),i.jsx("h3",{className:"section-title mt-8",children:"Resources"}),i.jsxs("div",{className:"resource-grid",children:[i.jsx(W,{hover:!0,children:i.jsxs(H,{className:"resource-card",children:[i.jsx("span",{className:"resource-icon",children:""}),i.jsx("h4",{children:"Cleaning Checklist"}),i.jsx("p",{children:"Standard checklist for all jobs"})]})}),i.jsx(W,{hover:!0,children:i.jsxs(H,{className:"resource-card",children:[i.jsx("span",{className:"resource-icon",children:""}),i.jsx("h4",{children:"Support Contact"}),i.jsx("p",{children:"Get help when you need it"})]})}),i.jsx(W,{hover:!0,children:i.jsxs(H,{className:"resource-card",children:[i.jsx("span",{className:"resource-icon",children:""}),i.jsx("h4",{children:"Tips & Tricks"}),i.jsx("p",{children:"Pro cleaning techniques"})]})})]})]}),c==="content"&&r&&i.jsxs("div",{className:"module-viewer",children:[i.jsx(Z,{variant:"ghost",onClick:E,className:"mb-4",children:" Back to Training"}),i.jsx(W,{className:"mb-6",children:i.jsx(H,{children:i.jsxs("div",{className:"module-header",children:[i.jsx("div",{className:"module-type-icon",children:r.type==="video"?"":""}),i.jsxs("div",{children:[i.jsx("h2",{children:r.title}),i.jsx("p",{className:"text-muted",children:r.description})]})]})})}),i.jsx(W,{className:"content-placeholder mb-6",children:i.jsx(H,{children:i.jsx("div",{className:"content-preview",children:r.type==="video"?i.jsxs("div",{className:"video-placeholder",children:[i.jsx("span",{className:"placeholder-icon",children:""}),i.jsx("p",{children:"Video Player"}),i.jsx("small",{className:"text-muted",children:r.contentUrl})]}):i.jsxs("div",{className:"pdf-placeholder",children:[i.jsx("span",{className:"placeholder-icon",children:""}),i.jsx("p",{children:"PDF Viewer"}),i.jsx("small",{className:"text-muted",children:r.contentUrl})]})})})}),i.jsx("div",{className:"module-actions",children:r.quiz.length>0?i.jsxs(Z,{onClick:k,children:["Take Quiz (",r.quiz.length," questions)"]}):i.jsx(Z,{onClick:()=>{n(s.map(O=>O.id===r.id?{...O,completed:!0}:O)),E()},children:"Mark as Complete"})})]}),c==="quiz"&&r&&i.jsxs("div",{className:"quiz-taking",children:[i.jsx(Z,{variant:"ghost",onClick:()=>u("content"),className:"mb-4",children:" Back to Content"}),i.jsx(W,{className:"mb-6",children:i.jsxs(H,{children:[i.jsxs("h2",{children:["Quiz: ",r.title]}),i.jsxs("p",{className:"text-muted",children:["Answer all questions. You need ",r.passingScore,"% to pass."]})]})}),r.quiz.map((O,$)=>i.jsx(W,{className:"quiz-question-card mb-4",children:i.jsxs(H,{children:[i.jsxs("div",{className:"question-text",children:[i.jsxs("span",{className:"question-num",children:["Q",$+1]}),i.jsx("p",{children:O.question})]}),i.jsx("div",{className:"answer-options",children:O.options.map((I,z)=>i.jsxs("label",{className:`answer-option ${f[O.id]===z?"selected":""}`,children:[i.jsx("input",{type:"radio",name:`question-${O.id}`,checked:f[O.id]===z,onChange:()=>N(O.id,z)}),i.jsx("span",{children:I})]},z))})]})},O.id)),i.jsx(Z,{onClick:R,disabled:Object.keys(f).length!==r.quiz.length,children:"Submit Quiz"})]}),c==="result"&&r&&m&&i.jsx("div",{className:"quiz-result",children:i.jsx(W,{children:i.jsx(H,{children:i.jsxs("div",{className:`result-display ${m.passed?"passed":"failed"}`,children:[i.jsx("div",{className:"result-icon",children:m.passed?"":""}),i.jsx("h2",{children:m.passed?"Congratulations!":"Not Quite..."}),i.jsxs("div",{className:"result-score",children:[i.jsxs("span",{className:"score",children:[m.score,"%"]}),i.jsxs("span",{className:"passing",children:["Passing: ",r.passingScore,"%"]})]}),i.jsx("p",{children:m.passed?"You passed the quiz! This module is now complete.":"You did not reach the passing score. Review the material and try again."}),i.jsx("div",{className:"result-actions",children:m.passed?i.jsx(Z,{onClick:E,children:"Back to Training"}):i.jsxs(i.Fragment,{children:[i.jsx(Z,{variant:"secondary",onClick:()=>u("content"),children:"Review Content"}),i.jsx(Z,{onClick:T,children:"Retake Quiz"})]})})]})})})})]})}function Cw(){return i.jsx(Xe,{title:"Profile & Settings",links:On,children:i.jsxs("div",{className:"profile-layout",children:[i.jsx(W,{className:"profile-card",children:i.jsxs(H,{children:[i.jsxs("div",{className:"profile-header",children:[i.jsx("div",{className:"profile-avatar",children:"JD"}),i.jsxs("div",{className:"profile-info",children:[i.jsx("h2",{children:"Jane Doe"}),i.jsx("p",{children:"Member since January 2026"}),i.jsx(Te,{variant:"success",children:"Verified"})]})]}),i.jsxs("div",{className:"profile-stats",children:[i.jsxs("div",{className:"profile-stat",children:[i.jsx("span",{className:"stat-value",children:"23"}),i.jsx("span",{className:"stat-label",children:"Jobs"})]}),i.jsxs("div",{className:"profile-stat",children:[i.jsx("span",{className:"stat-value",children:"4.9"}),i.jsx("span",{className:"stat-label",children:"Rating"})]}),i.jsxs("div",{className:"profile-stat",children:[i.jsx("span",{className:"stat-value",children:"100%"}),i.jsx("span",{className:"stat-label",children:"On Time"})]})]})]})}),i.jsx(W,{children:i.jsxs(H,{children:[i.jsx("h3",{className:"card-title",children:"Personal Information"}),i.jsxs("div",{className:"form-grid",children:[i.jsx(Se,{label:"Full Name",defaultValue:"Jane Doe"}),i.jsx(Se,{label:"Email",type:"email",defaultValue:"jane@example.com",disabled:!0}),i.jsx(Se,{label:"Phone",type:"tel",defaultValue:"(604) 555-1234"})]}),i.jsx(Z,{className:"mt-4",children:"Save Changes"})]})}),i.jsx(W,{className:"mt-6",children:i.jsxs(H,{children:[i.jsx("h3",{className:"card-title",children:"Work Preferences"}),i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Service Radius"}),i.jsxs("select",{className:"form-select",children:[i.jsx("option",{children:"5 km"}),i.jsx("option",{children:"10 km"}),i.jsx("option",{selected:!0,children:"15 km"}),i.jsx("option",{children:"25 km"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Available Days"}),i.jsx("div",{className:"checkbox-group",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(s=>i.jsxs("label",{className:"form-check",children:[i.jsx("input",{type:"checkbox",defaultChecked:s!=="Sun"}),i.jsx("span",{className:"form-check-label",children:s})]},s))})]})]}),i.jsx(Z,{className:"mt-4",children:"Save Preferences"})]})})]})})}const An=[{to:"/q-admin",label:"Dashboard",icon:""},{to:"/q-admin/bookings",label:"Bookings",icon:""},{to:"/q-admin/cleaners",label:"Cleaners",icon:""},{to:"/q-admin/training",label:"Training",icon:""},{to:"/q-admin/pricing",label:"Pricing",icon:""},{to:"/q-admin/revenue",label:"Revenue",icon:""},{to:"/q-admin/reviews",label:"Reviews",icon:""},{to:"/q-admin/support",label:"Support",icon:""}];function Tw(){const s=new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return i.jsxs(Xe,{title:"Business Dashboard",links:An,children:[i.jsx(W,{className:"welcome-banner-owner mb-6",children:i.jsx(H,{children:i.jsxs("div",{className:"welcome-content",children:[i.jsxs("div",{className:"welcome-text",children:[i.jsx("h2",{children:"Good afternoon, Queren! "}),i.jsx("p",{children:s})]}),i.jsxs("div",{className:"welcome-summary",children:[i.jsxs("span",{className:"summary-item",children:[i.jsx("strong",{children:"4"})," jobs today"]}),i.jsxs("span",{className:"summary-item",children:[i.jsx("strong",{children:"2"})," need attention"]}),i.jsxs("span",{className:"summary-item success",children:[i.jsx("strong",{children:"$847"})," earned today"]})]})]})})}),i.jsxs("div",{className:"alerts-row mb-6",children:[i.jsx(Zn,{variant:"warning",title:"Cleaner needed",children:"Tomorrow's 10AM booking at North Vancouver still needs a cleaner assigned."}),i.jsx(Zn,{variant:"info",title:"Payout reminder",children:"Weekly payouts are scheduled for Friday. $2,340 pending."})]}),i.jsxs("div",{className:"kpi-grid-enhanced",children:[i.jsx(W,{className:"kpi-card primary",children:i.jsx(H,{children:i.jsxs("div",{className:"kpi-content-enhanced",children:[i.jsxs("div",{className:"kpi-header",children:[i.jsx("span",{className:"kpi-icon-lg",children:""}),i.jsx("span",{className:"kpi-trend positive",children:" 12%"})]}),i.jsx("span",{className:"kpi-value-lg",children:"$12,450"}),i.jsx("span",{className:"kpi-label",children:"January Revenue"}),i.jsx("div",{className:"kpi-comparison",children:"vs $11,110 last month"})]})})}),i.jsx(W,{className:"kpi-card",children:i.jsx(H,{children:i.jsxs("div",{className:"kpi-content-enhanced",children:[i.jsxs("div",{className:"kpi-header",children:[i.jsx("span",{className:"kpi-icon-lg",children:""}),i.jsx("span",{className:"kpi-trend positive",children:" 8%"})]}),i.jsx("span",{className:"kpi-value-lg",children:"156"}),i.jsx("span",{className:"kpi-label",children:"Bookings MTD"}),i.jsxs("div",{className:"kpi-mini-stats",children:[i.jsx("span",{children:"12 today"}),i.jsx("span",{children:"48 this week"})]})]})})}),i.jsx(W,{className:"kpi-card",children:i.jsx(H,{children:i.jsxs("div",{className:"kpi-content-enhanced",children:[i.jsxs("div",{className:"kpi-header",children:[i.jsx("span",{className:"kpi-icon-lg",children:""}),i.jsx("span",{className:"kpi-trend neutral",children:""})]}),i.jsx("span",{className:"kpi-value-lg",children:"12"}),i.jsx("span",{className:"kpi-label",children:"Active Cleaners"}),i.jsxs("div",{className:"kpi-mini-stats",children:[i.jsx("span",{className:"warning",children:"2 pending"}),i.jsx("span",{children:"8 working today"})]})]})})}),i.jsx(W,{className:"kpi-card",children:i.jsx(H,{children:i.jsxs("div",{className:"kpi-content-enhanced",children:[i.jsxs("div",{className:"kpi-header",children:[i.jsx("span",{className:"kpi-icon-lg",children:""}),i.jsx("span",{className:"kpi-trend positive",children:" 0.1"})]}),i.jsx("span",{className:"kpi-value-lg",children:"4.9"}),i.jsx("span",{className:"kpi-label",children:"Customer Rating"}),i.jsx("div",{className:"kpi-comparison",children:"87 reviews total"})]})})}),i.jsx(W,{className:"kpi-card",children:i.jsx(H,{children:i.jsxs("div",{className:"kpi-content-enhanced",children:[i.jsxs("div",{className:"kpi-header",children:[i.jsx("span",{className:"kpi-icon-lg",children:""}),i.jsx("span",{className:"kpi-trend positive",children:" 5%"})]}),i.jsx("span",{className:"kpi-value-lg",children:"68%"}),i.jsx("span",{className:"kpi-label",children:"Repeat Clients"}),i.jsx("div",{className:"kpi-comparison",children:"42 returning this month"})]})})}),i.jsx(W,{className:"kpi-card",children:i.jsx(H,{children:i.jsxs("div",{className:"kpi-content-enhanced",children:[i.jsxs("div",{className:"kpi-header",children:[i.jsx("span",{className:"kpi-icon-lg",children:""}),i.jsx("span",{className:"kpi-trend positive",children:" 3%"})]}),i.jsx("span",{className:"kpi-value-lg",children:"$80"}),i.jsx("span",{className:"kpi-label",children:"Avg. Ticket"}),i.jsx("div",{className:"kpi-comparison",children:"per booking"})]})})})]}),i.jsxs("div",{className:"dashboard-row mt-6",children:[i.jsx(W,{className:"today-card",children:i.jsxs(H,{children:[i.jsxs("div",{className:"card-header-row",children:[i.jsx("h3",{children:" Today's Schedule"}),i.jsx(Te,{variant:"primary",children:"4 jobs"})]}),i.jsxs("div",{className:"timeline",children:[i.jsxs("div",{className:"timeline-item completed",children:[i.jsx("div",{className:"timeline-time",children:"9:00 AM"}),i.jsxs("div",{className:"timeline-content",children:[i.jsx("strong",{children:"Regular Cleaning"}),i.jsx("span",{children:"Downtown  Jane D."}),i.jsx("span",{className:"client",children:"Sarah Mitchell"})]}),i.jsx(Te,{variant:"success",children:"Done"})]}),i.jsxs("div",{className:"timeline-item active",children:[i.jsx("div",{className:"timeline-time",children:"11:30 AM"}),i.jsxs("div",{className:"timeline-content",children:[i.jsx("strong",{children:"Deep Cleaning"}),i.jsx("span",{children:"Kitsilano  Maria G."}),i.jsx("span",{className:"client",children:"John Kim"})]}),i.jsx(Te,{variant:"warning",children:"In Progress"})]}),i.jsxs("div",{className:"timeline-item",children:[i.jsx("div",{className:"timeline-time",children:"2:00 PM"}),i.jsxs("div",{className:"timeline-content",children:[i.jsx("strong",{children:"Regular Cleaning"}),i.jsx("span",{children:"North Van  Tom H."}),i.jsx("span",{className:"client",children:"Lisa Park"})]}),i.jsx(Te,{variant:"primary",children:"Upcoming"})]}),i.jsxs("div",{className:"timeline-item",children:[i.jsx("div",{className:"timeline-time",children:"4:30 PM"}),i.jsxs("div",{className:"timeline-content",children:[i.jsx("strong",{children:"Regular Cleaning"}),i.jsx("span",{children:"Burnaby  Jane D."}),i.jsx("span",{className:"client",children:"Mike Torres"})]}),i.jsx(Te,{variant:"primary",children:"Upcoming"})]})]})]})}),i.jsx(W,{className:"quick-actions-card",children:i.jsxs(H,{children:[i.jsx("h3",{children:" Quick Actions"}),i.jsxs("div",{className:"quick-actions-grid",children:[i.jsxs("button",{className:"quick-action",children:[i.jsx("span",{className:"qa-icon",children:""}),i.jsx("span",{children:"New Booking"})]}),i.jsxs("button",{className:"quick-action",children:[i.jsx("span",{className:"qa-icon",children:""}),i.jsx("span",{children:"Add Cleaner"})]}),i.jsxs("button",{className:"quick-action",children:[i.jsx("span",{className:"qa-icon",children:""}),i.jsx("span",{children:"Process Payout"})]}),i.jsxs("button",{className:"quick-action",children:[i.jsx("span",{className:"qa-icon",children:""}),i.jsx("span",{children:"View Reports"})]}),i.jsxs("button",{className:"quick-action",children:[i.jsx("span",{className:"qa-icon",children:""}),i.jsx("span",{children:"Reply Reviews"})]}),i.jsxs("button",{className:"quick-action",children:[i.jsx("span",{className:"qa-icon",children:""}),i.jsx("span",{children:"Settings"})]})]}),i.jsxs("div",{className:"pending-section mt-6",children:[i.jsx("h4",{children:"Needs Your Attention"}),i.jsxs("div",{className:"pending-items",children:[i.jsxs("div",{className:"pending-item",children:[i.jsx("span",{className:"pending-indicator warning"}),i.jsx("span",{children:"Assign cleaner to Booking #2160"}),i.jsx(Z,{variant:"secondary",size:"sm",children:"Assign"})]}),i.jsxs("div",{className:"pending-item",children:[i.jsx("span",{className:"pending-indicator error"}),i.jsx("span",{children:"Reply to review from Mike T."}),i.jsx(Z,{variant:"secondary",size:"sm",children:"Reply"})]}),i.jsxs("div",{className:"pending-item",children:[i.jsx("span",{className:"pending-indicator primary"}),i.jsx("span",{children:"Approve Sarah L.'s documents"}),i.jsx(Z,{variant:"secondary",size:"sm",children:"Review"})]})]})]})]})})]}),i.jsxs("div",{className:"dashboard-row mt-6",children:[i.jsx(W,{children:i.jsxs(H,{children:[i.jsxs("div",{className:"card-header-row",children:[i.jsx("h3",{children:" Team Performance"}),i.jsx(Z,{variant:"ghost",size:"sm",children:"View All"})]}),i.jsx("div",{className:"team-leaderboard",children:[{name:"Jane Doe",jobs:12,rating:4.9,earnings:1020,trend:"up"},{name:"Maria Garcia",jobs:10,rating:4.8,earnings:890,trend:"up"},{name:"Tom Henderson",jobs:8,rating:4.7,earnings:720,trend:"down"}].map((n,r)=>i.jsxs("div",{className:"leaderboard-item",children:[i.jsxs("span",{className:"rank",children:["#",r+1]}),i.jsxs("div",{className:"cleaner-info",children:[i.jsx("div",{className:"cleaner-avatar-sm",children:n.name.split(" ").map(l=>l[0]).join("")}),i.jsx("span",{className:"cleaner-name",children:n.name})]}),i.jsxs("div",{className:"cleaner-metrics",children:[i.jsxs("span",{children:[n.jobs," jobs"]}),i.jsxs("span",{children:[n.rating,""]}),i.jsxs("span",{className:"earnings",children:["$",n.earnings]})]})]},r))})]})}),i.jsx(W,{children:i.jsxs(H,{children:[i.jsxs("div",{className:"card-header-row",children:[i.jsx("h3",{children:" Recent Activity"}),i.jsx(Z,{variant:"ghost",size:"sm",children:"View All"})]}),i.jsx("div",{className:"activity-feed",children:[{icon:"",text:"Jane D. completed Booking #2155",time:"15 min ago"},{icon:"",text:"New 5-star review from Sarah M.",time:"32 min ago"},{icon:"",text:"Payment received: $149 from John K.",time:"1 hour ago"},{icon:"",text:"New booking: Lisa P. for Jan 15",time:"2 hours ago"},{icon:"",text:"Sarah Lee submitted verification docs",time:"3 hours ago"}].map((n,r)=>i.jsxs("div",{className:"activity-item",children:[i.jsx("span",{className:"activity-icon",children:n.icon}),i.jsx("span",{className:"activity-text",children:n.text}),i.jsx("span",{className:"activity-time",children:n.time})]},r))})]})})]}),i.jsx("div",{className:"dashboard-row mt-6",children:i.jsx(W,{className:"wide-card",children:i.jsxs(H,{children:[i.jsxs("div",{className:"card-header-row",children:[i.jsx("h3",{children:" Weekly Revenue"}),i.jsxs("div",{className:"chart-legend",children:[i.jsxs("span",{className:"legend-item",children:[i.jsx("span",{className:"dot primary"})," This Week: $2,450"]}),i.jsxs("span",{className:"legend-item",children:[i.jsx("span",{className:"dot muted"})," Last Week: $2,180"]})]})]}),i.jsx("div",{className:"chart-enhanced",children:i.jsx("div",{className:"chart-bars-enhanced",children:[{day:"Mon",current:320,prev:280},{day:"Tue",current:450,prev:380},{day:"Wed",current:380,prev:320},{day:"Thu",current:520,prev:460},{day:"Fri",current:420,prev:400},{day:"Sat",current:280,prev:260},{day:"Sun",current:80,prev:80}].map((n,r)=>i.jsxs("div",{className:"chart-bar-group",children:[i.jsxs("div",{className:"bar-container",children:[i.jsx("div",{className:"bar prev",style:{height:`${n.prev/520*100}%`}}),i.jsx("div",{className:"bar current",style:{height:`${n.current/520*100}%`}})]}),i.jsx("span",{className:"chart-label",children:n.day})]},r))})})]})})}),i.jsxs("div",{className:"dashboard-row mt-6",children:[i.jsx(W,{children:i.jsxs(H,{children:[i.jsx("h3",{children:" Service Breakdown (This Month)"}),i.jsxs("div",{className:"service-stats",children:[i.jsxs("div",{className:"service-stat",children:[i.jsx("div",{className:"service-icon regular",children:""}),i.jsxs("div",{className:"service-info",children:[i.jsx("span",{className:"service-name",children:"Regular Cleaning"}),i.jsx("span",{className:"service-count",children:"98 bookings"})]}),i.jsx("span",{className:"service-revenue",children:"$8,722"})]}),i.jsxs("div",{className:"service-stat",children:[i.jsx("div",{className:"service-icon deep",children:""}),i.jsxs("div",{className:"service-info",children:[i.jsx("span",{className:"service-name",children:"Deep Cleaning"}),i.jsx("span",{className:"service-count",children:"42 bookings"})]}),i.jsx("span",{className:"service-revenue",children:"$6,258"})]}),i.jsxs("div",{className:"service-stat",children:[i.jsx("div",{className:"service-icon addon",children:""}),i.jsxs("div",{className:"service-info",children:[i.jsx("span",{className:"service-name",children:"Add-On Services"}),i.jsx("span",{className:"service-count",children:"67 orders"})]}),i.jsx("span",{className:"service-revenue",children:"$2,345"})]})]})]})}),i.jsx(W,{children:i.jsxs(H,{children:[i.jsxs("div",{className:"card-header-row",children:[i.jsx("h3",{children:" Recent Reviews"}),i.jsx(Z,{variant:"ghost",size:"sm",children:"View All"})]}),i.jsx("div",{className:"reviews-compact",children:[{rating:5,text:"Amazing service! Jane was incredibly thorough.",client:"Sarah M.",responded:!0},{rating:5,text:"Very thorough deep clean. Excellent job!",client:"John K.",responded:!1},{rating:4,text:"Good overall, just a few spots missed.",client:"Lisa P.",responded:!0}].map((n,r)=>i.jsxs("div",{className:"review-compact-item",children:[i.jsx("div",{className:"review-rating",children:"".repeat(n.rating)}),i.jsxs("p",{children:['"',n.text,'"']}),i.jsxs("div",{className:"review-meta",children:[i.jsxs("span",{children:[" ",n.client]}),!n.responded&&i.jsx(Te,{variant:"warning",children:"Reply"})]})]},r))})]})})]})]})}function Rw(){const[s,n]=A.useState("all"),r=[{id:"#2156",client:"Sarah Mitchell",type:"Regular Cleaning",date:"Jan 13, 2026",time:"2:00 PM",cleaner:"Jane D.",status:"confirmed",total:89},{id:"#2155",client:"John Kim",type:"Deep Cleaning",date:"Jan 13, 2026",time:"10:00 AM",cleaner:"Maria G.",status:"in_progress",total:149},{id:"#2154",client:"Lisa Park",type:"Regular Cleaning",date:"Jan 12, 2026",time:"3:00 PM",cleaner:"Jane D.",status:"completed",total:95},{id:"#2153",client:"Mike Torres",type:"Regular Cleaning",date:"Jan 12, 2026",time:"11:00 AM",cleaner:"Tom H.",status:"completed",total:89},{id:"#2152",client:"Emma Williams",type:"Deep Cleaning",date:"Jan 11, 2026",time:"9:00 AM",cleaner:"Maria G.",status:"completed",total:165}];return i.jsxs(Xe,{title:"Bookings Management",links:An,children:[i.jsxs("div",{className:"page-actions",children:[i.jsx("div",{className:"filter-tabs",children:["all","pending","confirmed","in_progress","completed","cancelled"].map(l=>i.jsx("button",{className:`filter-tab ${s===l?"active":""}`,onClick:()=>n(l),children:l.replace("_"," ")},l))}),i.jsx(Se,{placeholder:"Search bookings...",style:{maxWidth:250}})]}),i.jsx(W,{children:i.jsx(H,{className:"table-card",children:i.jsxs("div",{className:"data-table",children:[i.jsxs("div",{className:"table-header",children:[i.jsx("span",{children:"ID"}),i.jsx("span",{children:"Client"}),i.jsx("span",{children:"Service"}),i.jsx("span",{children:"Date & Time"}),i.jsx("span",{children:"Cleaner"}),i.jsx("span",{children:"Total"}),i.jsx("span",{children:"Status"}),i.jsx("span",{children:"Actions"})]}),r.map(l=>i.jsxs("div",{className:"table-row",children:[i.jsx("span",{className:"booking-id",children:l.id}),i.jsx("span",{children:l.client}),i.jsx("span",{children:l.type}),i.jsxs("span",{children:[l.date,", ",l.time]}),i.jsx("span",{children:l.cleaner}),i.jsxs("span",{className:"amount",children:["$",l.total]}),i.jsx(Te,{variant:l.status==="completed"?"success":l.status==="in_progress"?"warning":l.status==="cancelled"?"error":"primary",children:l.status.replace("_"," ")}),i.jsx("div",{className:"row-actions",children:i.jsx(Z,{variant:"ghost",size:"sm",children:"View"})})]},l.id))]})})})]})}function Pw(){const s=[{id:1,name:"Jane Doe",email:"jane@example.com",phone:"(604) 555-1234",status:"active",jobs:45,rating:4.9},{id:2,name:"Maria Garcia",email:"maria@example.com",phone:"(604) 555-5678",status:"active",jobs:38,rating:4.8},{id:3,name:"Tom Henderson",email:"tom@example.com",phone:"(604) 555-9012",status:"active",jobs:52,rating:4.7},{id:4,name:"Sarah Lee",email:"sarah@example.com",phone:"(604) 555-3456",status:"pending",jobs:0,rating:null},{id:5,name:"Alex Wong",email:"alex@example.com",phone:"(604) 555-7890",status:"inactive",jobs:23,rating:4.5}];return i.jsxs(Xe,{title:"Cleaners Management",links:An,children:[i.jsxs("div",{className:"page-actions",children:[i.jsxs("div",{className:"filter-tabs",children:[i.jsx("button",{className:"filter-tab active",children:"All"}),i.jsx("button",{className:"filter-tab",children:"Active"}),i.jsx("button",{className:"filter-tab",children:"Pending"}),i.jsx("button",{className:"filter-tab",children:"Inactive"})]}),i.jsx(Z,{children:"+ Add Cleaner"})]}),i.jsx("div",{className:"cleaners-grid",children:s.map(n=>i.jsx(W,{className:"cleaner-card",children:i.jsxs(H,{children:[i.jsxs("div",{className:"cleaner-header",children:[i.jsx("div",{className:"cleaner-avatar",children:n.name.split(" ").map(r=>r[0]).join("")}),i.jsx(Te,{variant:n.status==="active"?"success":n.status==="pending"?"warning":"default",children:n.status})]}),i.jsx("h4",{className:"cleaner-name",children:n.name}),i.jsx("p",{className:"cleaner-email",children:n.email}),i.jsxs("div",{className:"cleaner-stats",children:[i.jsxs("div",{className:"cleaner-stat",children:[i.jsx("span",{className:"stat-value",children:n.jobs}),i.jsx("span",{className:"stat-label",children:"Jobs"})]}),i.jsxs("div",{className:"cleaner-stat",children:[i.jsx("span",{className:"stat-value",children:n.rating?`${n.rating}`:"-"}),i.jsx("span",{className:"stat-label",children:"Rating"})]})]}),i.jsxs("div",{className:"cleaner-actions",children:[i.jsx(Z,{variant:"ghost",size:"sm",children:"View Profile"}),i.jsx(Z,{variant:"secondary",size:"sm",children:"Message"})]})]})},n.id))})]})}function Ow(){return i.jsxs(Xe,{title:"Pricing Configuration",links:An,children:[i.jsx(Zn,{variant:"info",title:"Pricing Changes",children:"Changes will apply to new bookings only. Existing bookings will keep their original pricing."}),i.jsx(W,{className:"mt-6",children:i.jsxs(H,{children:[i.jsx("h3",{children:"Base Rates"}),i.jsxs("div",{className:"pricing-grid",children:[i.jsxs("div",{className:"pricing-item",children:[i.jsx("label",{children:"Regular Cleaning (Base)"}),i.jsxs("div",{className:"price-input",children:[i.jsx("span",{className:"price-prefix",children:"$"}),i.jsx("input",{type:"number",defaultValue:89})]})]}),i.jsxs("div",{className:"pricing-item",children:[i.jsx("label",{children:"Deep Cleaning (Base)"}),i.jsxs("div",{className:"price-input",children:[i.jsx("span",{className:"price-prefix",children:"$"}),i.jsx("input",{type:"number",defaultValue:149})]})]}),i.jsxs("div",{className:"pricing-item",children:[i.jsx("label",{children:"Per Extra Sqft (over 1000)"}),i.jsxs("div",{className:"price-input",children:[i.jsx("span",{className:"price-prefix",children:"$"}),i.jsx("input",{type:"number",defaultValue:.04,step:.01})]})]}),i.jsxs("div",{className:"pricing-item",children:[i.jsx("label",{children:"Per Extra Bedroom"}),i.jsxs("div",{className:"price-input",children:[i.jsx("span",{className:"price-prefix",children:"$"}),i.jsx("input",{type:"number",defaultValue:15})]})]}),i.jsxs("div",{className:"pricing-item",children:[i.jsx("label",{children:"Per Extra Bathroom"}),i.jsxs("div",{className:"price-input",children:[i.jsx("span",{className:"price-prefix",children:"$"}),i.jsx("input",{type:"number",defaultValue:20})]})]}),i.jsxs("div",{className:"pricing-item",children:[i.jsx("label",{children:"Tax Rate (%)"}),i.jsxs("div",{className:"price-input",children:[i.jsx("input",{type:"number",defaultValue:13}),i.jsx("span",{className:"price-suffix",children:"%"})]})]})]})]})}),i.jsx(W,{className:"mt-6",children:i.jsxs(H,{children:[i.jsx("h3",{children:"Add-Ons"}),i.jsxs("div",{className:"addons-table",children:[i.jsxs("div",{className:"addon-row header",children:[i.jsx("span",{children:"Add-On"}),i.jsx("span",{children:"Price"}),i.jsx("span",{children:"Enabled"})]}),[{name:"Inside Fridge",price:35},{name:"Inside Oven",price:30},{name:"Inside Cabinets",price:40},{name:"Laundry",price:25},{name:"Interior Windows",price:45}].map((s,n)=>i.jsxs("div",{className:"addon-row",children:[i.jsx("span",{children:s.name}),i.jsxs("div",{className:"price-input small",children:[i.jsx("span",{className:"price-prefix",children:"$"}),i.jsx("input",{type:"number",defaultValue:s.price})]}),i.jsxs("label",{className:"toggle",children:[i.jsx("input",{type:"checkbox",defaultChecked:!0}),i.jsx("span",{className:"toggle-slider"})]})]},n))]})]})}),i.jsxs("div",{className:"form-actions",children:[i.jsx(Z,{variant:"ghost",children:"Reset to Defaults"}),i.jsx(Z,{children:"Save Changes"})]})]})}function Aw(){return i.jsxs(Xe,{title:"Revenue & Payroll",links:An,children:[i.jsxs("div",{className:"kpi-grid small",children:[i.jsx(W,{children:i.jsxs(H,{className:"kpi-card-small",children:[i.jsx("span",{className:"kpi-label",children:"This Month Revenue"}),i.jsx("span",{className:"kpi-value",children:"$8,450"})]})}),i.jsx(W,{children:i.jsxs(H,{className:"kpi-card-small",children:[i.jsx("span",{className:"kpi-label",children:"Pending Payouts"}),i.jsx("span",{className:"kpi-value",children:"$2,340"})]})}),i.jsx(W,{children:i.jsxs(H,{className:"kpi-card-small",children:[i.jsx("span",{className:"kpi-label",children:"Net Profit"}),i.jsx("span",{className:"kpi-value success",children:"$6,110"})]})})]}),i.jsxs("div",{className:"dashboard-grid",children:[i.jsx(W,{children:i.jsxs(H,{children:[i.jsx("h3",{children:"Revenue Breakdown"}),i.jsxs("div",{className:"breakdown-list",children:[i.jsxs("div",{className:"breakdown-item",children:[i.jsx("span",{className:"breakdown-label",children:"Regular Cleaning"}),i.jsx("span",{className:"breakdown-value",children:"$4,250"}),i.jsx("div",{className:"breakdown-bar",style:{width:"50%"}})]}),i.jsxs("div",{className:"breakdown-item",children:[i.jsx("span",{className:"breakdown-label",children:"Deep Cleaning"}),i.jsx("span",{className:"breakdown-value",children:"$3,480"}),i.jsx("div",{className:"breakdown-bar",style:{width:"41%"}})]}),i.jsxs("div",{className:"breakdown-item",children:[i.jsx("span",{className:"breakdown-label",children:"Add-Ons"}),i.jsx("span",{className:"breakdown-value",children:"$720"}),i.jsx("div",{className:"breakdown-bar",style:{width:"9%"}})]})]})]})}),i.jsx(W,{children:i.jsxs(H,{children:[i.jsxs("div",{className:"card-header-row",children:[i.jsx("h3",{children:"Pending Payouts"}),i.jsx(Z,{size:"sm",children:"Process All"})]}),i.jsx("div",{className:"payout-list",children:[{cleaner:"Jane Doe",jobs:8,amount:680},{cleaner:"Maria Garcia",jobs:6,amount:520},{cleaner:"Tom Henderson",jobs:10,amount:840}].map((s,n)=>i.jsxs("div",{className:"payout-item",children:[i.jsxs("div",{className:"payout-info",children:[i.jsx("span",{className:"payout-cleaner",children:s.cleaner}),i.jsxs("span",{className:"payout-jobs",children:[s.jobs," jobs"]})]}),i.jsxs("span",{className:"payout-amount",children:["$",s.amount]}),i.jsx(Z,{variant:"secondary",size:"sm",children:"Pay"})]},n))})]})})]}),i.jsx(W,{className:"mt-6",children:i.jsxs(H,{children:[i.jsx("h3",{children:"Transaction History"}),i.jsxs("div",{className:"data-table",children:[i.jsxs("div",{className:"table-header",children:[i.jsx("span",{children:"Date"}),i.jsx("span",{children:"Type"}),i.jsx("span",{children:"Description"}),i.jsx("span",{children:"Amount"})]}),[{date:"Jan 13",type:"income",desc:"Booking #2156 - Sarah M.",amount:89},{date:"Jan 13",type:"income",desc:"Booking #2155 - John K.",amount:149},{date:"Jan 12",type:"payout",desc:"Payout to Jane D.",amount:-340},{date:"Jan 12",type:"income",desc:"Booking #2154 - Lisa P.",amount:95}].map((s,n)=>i.jsxs("div",{className:"table-row",children:[i.jsx("span",{children:s.date}),i.jsx(Te,{variant:s.type==="income"?"success":"warning",children:s.type}),i.jsx("span",{children:s.desc}),i.jsxs("span",{className:s.amount>0?"amount positive":"amount negative",children:[s.amount>0?"+":"",s.amount<0?"-":"","$",Math.abs(s.amount)]})]},n))]})]})})]})}function Iw(){const s=[{id:1,client:"Sarah Mitchell",rating:5,text:"Amazing service! Jane was incredibly thorough and professional. My home has never been this clean!",cleaner:"Jane Doe",date:"Jan 12, 2026",responded:!0},{id:2,client:"John Kim",rating:5,text:"Very thorough deep clean. Maria did an excellent job with the kitchen and bathrooms.",cleaner:"Maria Garcia",date:"Jan 11, 2026",responded:!1},{id:3,client:"Lisa Park",rating:4,text:"Good job overall, but missed a few spots under the couch. Otherwise great!",cleaner:"Jane Doe",date:"Jan 10, 2026",responded:!0},{id:4,client:"Mike Torres",rating:5,text:"Always reliable and friendly. Love the Queren service!",cleaner:"Tom Henderson",date:"Jan 9, 2026",responded:!1}];return i.jsxs(Xe,{title:"Reviews",links:An,children:[i.jsxs("div",{className:"kpi-grid small",children:[i.jsx(W,{children:i.jsxs(H,{className:"kpi-card-small",children:[i.jsx("span",{className:"kpi-label",children:"Average Rating"}),i.jsx("span",{className:"kpi-value",children:"4.9 "})]})}),i.jsx(W,{children:i.jsxs(H,{className:"kpi-card-small",children:[i.jsx("span",{className:"kpi-label",children:"Total Reviews"}),i.jsx("span",{className:"kpi-value",children:"87"})]})}),i.jsx(W,{children:i.jsxs(H,{className:"kpi-card-small",children:[i.jsx("span",{className:"kpi-label",children:"Awaiting Response"}),i.jsx("span",{className:"kpi-value warning",children:"2"})]})})]}),i.jsx("div",{className:"reviews-list",children:s.map(n=>i.jsx(W,{className:"review-card",children:i.jsxs(H,{children:[i.jsxs("div",{className:"review-header",children:[i.jsxs("div",{className:"review-meta",children:[i.jsx("span",{className:"review-stars",children:"".repeat(n.rating)}),i.jsx("span",{className:"review-date",children:n.date})]}),!n.responded&&i.jsx(Te,{variant:"warning",children:"Needs Response"})]}),i.jsxs("p",{className:"review-text",children:['"',n.text,'"']}),i.jsxs("div",{className:"review-footer",children:[i.jsxs("div",{className:"review-people",children:[i.jsxs("span",{children:[i.jsx("strong",{children:"Client:"})," ",n.client]}),i.jsxs("span",{children:[i.jsx("strong",{children:"Cleaner:"})," ",n.cleaner]})]}),i.jsxs("div",{className:"review-actions",children:[!n.responded&&i.jsx(Z,{size:"sm",children:"Reply"}),i.jsx(Z,{variant:"ghost",size:"sm",children:"View Booking"})]})]})]})},n.id))})]})}function $w(){const s=[{id:"#SUP-042",subject:"Cleaner was late",client:"Sarah M.",priority:"high",status:"open",created:"2 hours ago"},{id:"#SUP-041",subject:"Billing question",client:"John K.",priority:"medium",status:"in_progress",created:"5 hours ago"},{id:"#SUP-040",subject:"Reschedule request",client:"Lisa P.",priority:"low",status:"resolved",created:"1 day ago"},{id:"#SUP-039",subject:"Quality concern",client:"Mike T.",priority:"high",status:"resolved",created:"2 days ago"}];return i.jsxs(Xe,{title:"Support Queue",links:An,children:[i.jsxs("div",{className:"kpi-grid small",children:[i.jsx(W,{children:i.jsxs(H,{className:"kpi-card-small",children:[i.jsx("span",{className:"kpi-label",children:"Open Tickets"}),i.jsx("span",{className:"kpi-value warning",children:"2"})]})}),i.jsx(W,{children:i.jsxs(H,{className:"kpi-card-small",children:[i.jsx("span",{className:"kpi-label",children:"Avg. Response Time"}),i.jsx("span",{className:"kpi-value",children:"2.5 hours"})]})}),i.jsx(W,{children:i.jsxs(H,{className:"kpi-card-small",children:[i.jsx("span",{className:"kpi-label",children:"Resolved This Week"}),i.jsx("span",{className:"kpi-value success",children:"8"})]})})]}),i.jsx(W,{children:i.jsx(H,{className:"table-card",children:i.jsxs("div",{className:"data-table",children:[i.jsxs("div",{className:"table-header",children:[i.jsx("span",{children:"Ticket"}),i.jsx("span",{children:"Subject"}),i.jsx("span",{children:"Client"}),i.jsx("span",{children:"Priority"}),i.jsx("span",{children:"Status"}),i.jsx("span",{children:"Created"}),i.jsx("span",{children:"Actions"})]}),s.map(n=>i.jsxs("div",{className:"table-row",children:[i.jsx("span",{className:"ticket-id",children:n.id}),i.jsx("span",{children:n.subject}),i.jsx("span",{children:n.client}),i.jsx(Te,{variant:n.priority==="high"?"error":n.priority==="medium"?"warning":"default",children:n.priority}),i.jsx(Te,{variant:n.status==="resolved"?"success":n.status==="in_progress"?"warning":"primary",children:n.status.replace("_"," ")}),i.jsx("span",{className:"text-muted",children:n.created}),i.jsx("div",{className:"row-actions",children:i.jsx(Z,{variant:"secondary",size:"sm",children:"View"})})]},n.id))]})})})]})}const Dw=[{id:"1",title:"Welcome to Queren",description:"Introduction to our cleaning standards and company values",type:"video",contentUrl:"https://example.com/welcome.mp4",duration:"10 min",isRequired:!0,isActive:!0,quiz:[{id:"q1",question:"What is Queren's core value?",options:["Speed","Quality & Trust","Low prices","Quantity"],correctIndex:1},{id:"q2",question:"How should you greet a client?",options:["Ignore them","Professional greeting","Wave silently","Start cleaning immediately"],correctIndex:1}],passingScore:80,completedBy:8,createdAt:"2024-01-15"},{id:"2",title:"Cleaning Standards & Quality",description:"Detailed guide on our cleaning checklist and quality expectations",type:"pdf",contentUrl:"https://example.com/standards.pdf",duration:"20 min",isRequired:!0,isActive:!0,quiz:[{id:"q1",question:"What should you clean first in a bathroom?",options:["Toilet","Mirror","Counters","Floor"],correctIndex:0},{id:"q2",question:"How often should mop heads be replaced?",options:["Never","Monthly","Weekly","Daily"],correctIndex:2}],passingScore:80,completedBy:6,createdAt:"2024-01-16"},{id:"3",title:"Client Communication",description:"Best practices for interacting with clients professionally",type:"video",contentUrl:"https://example.com/communication.mp4",duration:"15 min",isRequired:!0,isActive:!0,quiz:[],passingScore:80,completedBy:4,createdAt:"2024-01-17"}];function Lw(){const[s,n]=A.useState(Dw),[r,l]=A.useState(!1),[c,u]=A.useState(null),[f,p]=A.useState("details"),[m,g]=A.useState(""),[y,x]=A.useState(""),[k,N]=A.useState("video"),[R,E]=A.useState(""),[T,O]=A.useState(""),[$,I]=A.useState(!0),[z,J]=A.useState([]),[K,re]=A.useState(80),pe=()=>{u(null),g(""),x(""),N("video"),E(""),O(""),I(!0),J([]),re(80),p("details"),l(!0)},Ie=B=>{u(B),g(B.title),x(B.description),N(B.type),E(B.contentUrl),O(B.duration),I(B.isRequired),J([...B.quiz]),re(B.passingScore),p("details"),l(!0)},st=()=>{if(c)n(s.map(B=>B.id===c.id?{...B,title:m,description:y,type:k,contentUrl:R,duration:T,isRequired:$,quiz:z,passingScore:K}:B));else{const B={id:Date.now().toString(),title:m,description:y,type:k,contentUrl:R,duration:T,isRequired:$,isActive:!0,quiz:z,passingScore:K,completedBy:0,createdAt:new Date().toISOString().split("T")[0]};n([...s,B])}l(!1)},Nt=()=>{J([...z,{id:Date.now().toString(),question:"",options:["","","",""],correctIndex:0}])},mt=(B,q,te)=>{const V=[...z];V[B]={...V[B],[q]:te},J(V)},it=(B,q,te)=>{const V=[...z],S=[...V[B].options];S[q]=te,V[B]={...V[B],options:S},J(V)},vt=B=>{J(z.filter((q,te)=>te!==B))},bt=B=>{n(s.map(q=>q.id===B?{...q,isActive:!q.isActive}:q))},Ze=B=>{confirm("Are you sure you want to delete this training module?")&&n(s.filter(q=>q.id!==B))};return i.jsxs(Xe,{title:"Training Management",links:An,children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("div",{children:i.jsx("p",{className:"text-muted",children:"Create and manage training materials for your cleaners"})}),i.jsx(Z,{onClick:pe,children:"+ New Module"})]}),i.jsxs("div",{className:"stats-grid mb-6",children:[i.jsx(W,{children:i.jsxs(H,{className:"stat-card",children:[i.jsx("div",{className:"stat-value",children:s.length}),i.jsx("div",{className:"stat-label",children:"Total Modules"})]})}),i.jsx(W,{children:i.jsxs(H,{className:"stat-card",children:[i.jsx("div",{className:"stat-value",children:s.filter(B=>B.isActive).length}),i.jsx("div",{className:"stat-label",children:"Active"})]})}),i.jsx(W,{children:i.jsxs(H,{className:"stat-card",children:[i.jsx("div",{className:"stat-value",children:s.filter(B=>B.quiz.length>0).length}),i.jsx("div",{className:"stat-label",children:"With Quizzes"})]})})]}),i.jsx(W,{children:i.jsxs(H,{children:[i.jsx("div",{className:"table-header",children:i.jsx("h3",{children:"Training Modules"})}),i.jsxs("div",{className:"data-table",children:[i.jsxs("div",{className:"table-row table-header-row",children:[i.jsx("span",{children:"Module"}),i.jsx("span",{children:"Type"}),i.jsx("span",{children:"Duration"}),i.jsx("span",{children:"Quiz"}),i.jsx("span",{children:"Completed By"}),i.jsx("span",{children:"Status"}),i.jsx("span",{children:"Actions"})]}),s.map(B=>i.jsxs("div",{className:"table-row",children:[i.jsxs("div",{className:"module-info",children:[i.jsx("strong",{children:B.title}),i.jsx("small",{className:"text-muted",children:B.description})]}),i.jsxs("span",{children:[B.type==="video"?"":B.type==="pdf"?"":""," ",B.type]}),i.jsx("span",{children:B.duration}),i.jsx("span",{children:B.quiz.length>0?i.jsxs(Te,{variant:"primary",children:[B.quiz.length," questions"]}):i.jsx("span",{className:"text-muted",children:"None"})}),i.jsxs("span",{children:[B.completedBy," cleaners"]}),i.jsx(Te,{variant:B.isActive?"success":"warning",children:B.isActive?"Active":"Draft"}),i.jsxs("div",{className:"row-actions",children:[i.jsx(Z,{variant:"secondary",size:"sm",onClick:()=>Ie(B),children:"Edit"}),i.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>bt(B.id),children:B.isActive?"Deactivate":"Activate"}),i.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>Ze(B.id),children:""})]})]},B.id))]})]})}),r&&i.jsx("div",{className:"modal-overlay",onClick:()=>l(!1),children:i.jsxs("div",{className:"modal-content modal-lg",onClick:B=>B.stopPropagation(),children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h3",{children:c?"Edit Module":"Create New Module"}),i.jsx("button",{className:"modal-close",onClick:()=>l(!1),children:""})]}),i.jsxs("div",{className:"modal-tabs",children:[i.jsx("button",{className:`modal-tab ${f==="details"?"active":""}`,onClick:()=>p("details"),children:" Details"}),i.jsxs("button",{className:`modal-tab ${f==="quiz"?"active":""}`,onClick:()=>p("quiz"),children:[" Quiz (",z.length,")"]})]}),i.jsx("div",{className:"modal-body",children:f==="details"?i.jsxs("div",{className:"form-grid",children:[i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Title"}),i.jsx(Se,{value:m,onChange:B=>g(B.target.value),placeholder:"e.g. Welcome to Queren"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Duration"}),i.jsx(Se,{value:T,onChange:B=>O(B.target.value),placeholder:"e.g. 15 min"})]}),i.jsxs("div",{className:"form-group full-width",children:[i.jsx("label",{className:"form-label",children:"Description"}),i.jsx("textarea",{className:"form-textarea",value:y,onChange:B=>x(B.target.value),placeholder:"Brief description of this training module",rows:3})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Content Type"}),i.jsxs("select",{className:"form-select",value:k,onChange:B=>N(B.target.value),children:[i.jsx("option",{value:"video",children:" Video"}),i.jsx("option",{value:"pdf",children:" PDF"}),i.jsx("option",{value:"document",children:" Document"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{className:"form-label",children:"Content URL"}),i.jsx(Se,{value:R,onChange:B=>E(B.target.value),placeholder:"https://..."})]}),i.jsx("div",{className:"form-group",children:i.jsxs("label",{className:"form-check",children:[i.jsx("input",{type:"checkbox",checked:$,onChange:B=>I(B.target.checked)}),i.jsx("span",{children:"Required for all cleaners"})]})})]}):i.jsxs("div",{className:"quiz-builder",children:[i.jsxs("div",{className:"quiz-settings mb-4",children:[i.jsxs("label",{className:"form-label",children:["Passing Score: ",K,"%"]}),i.jsx("input",{type:"range",min:"50",max:"100",step:"5",value:K,onChange:B=>re(Number(B.target.value)),className:"range-slider"})]}),z.length===0?i.jsxs("div",{className:"empty-state",children:[i.jsx("p",{children:"No quiz questions yet"}),i.jsx(Z,{onClick:Nt,children:"+ Add First Question"})]}):i.jsxs("div",{className:"questions-list",children:[z.map((B,q)=>i.jsxs("div",{className:"question-card",children:[i.jsxs("div",{className:"question-header",children:[i.jsxs("span",{className:"question-number",children:["Q",q+1]}),i.jsx("button",{className:"btn-remove",onClick:()=>vt(q),children:""})]}),i.jsx(Se,{value:B.question,onChange:te=>mt(q,"question",te.target.value),placeholder:"Enter your question",className:"mb-3"}),i.jsx("div",{className:"options-grid",children:B.options.map((te,V)=>i.jsxs("div",{className:`option-input ${B.correctIndex===V?"correct":""}`,children:[i.jsx("input",{type:"radio",name:`correct-${B.id}`,checked:B.correctIndex===V,onChange:()=>mt(q,"correctIndex",V)}),i.jsx(Se,{value:te,onChange:S=>it(q,V,S.target.value),placeholder:`Option ${V+1}`})]},V))}),i.jsx("small",{className:"text-muted",children:"Select the correct answer"})]},B.id)),i.jsx(Z,{variant:"secondary",onClick:Nt,children:"+ Add Question"})]})]})}),i.jsxs("div",{className:"modal-footer",children:[i.jsx(Z,{variant:"ghost",onClick:()=>l(!1),children:"Cancel"}),i.jsx(Z,{onClick:st,children:c?"Save Changes":"Create Module"})]})]})})]})}function Ke({children:s,allowedRoles:n}){const{user:r,role:l,isLoading:c}=er();return c?i.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:i.jsx("div",{className:"btn-spinner",style:{width:32,height:32,border:"3px solid var(--color-primary)",borderRightColor:"transparent"}})}):r?n&&l&&!n.includes(l)?l==="worker"?i.jsx(Dr,{to:"/worker",replace:!0}):l==="owner"?i.jsx(Dr,{to:"/q-admin",replace:!0}):i.jsx(Dr,{to:"/dashboard",replace:!0}):i.jsx(i.Fragment,{children:s}):i.jsx(Dr,{to:"/login",replace:!0})}function Uw(){return i.jsxs(ov,{children:[i.jsx(de,{path:"/",element:i.jsx(ot,{children:i.jsx(uw,{})})}),i.jsx(de,{path:"/booking",element:i.jsx(ot,{children:i.jsx(fw,{})})}),i.jsx(de,{path:"/booking/confirmation",element:i.jsx(ot,{children:i.jsx(pw,{})})}),i.jsx(de,{path:"/services",element:i.jsx(ot,{children:i.jsx(Mt,{title:"Our Services"})})}),i.jsx(de,{path:"/services/regular",element:i.jsx(ot,{children:i.jsx(Mt,{title:"Regular Cleaning"})})}),i.jsx(de,{path:"/services/deep",element:i.jsx(ot,{children:i.jsx(Mt,{title:"Deep Cleaning"})})}),i.jsx(de,{path:"/services/pricing",element:i.jsx(ot,{children:i.jsx(Mt,{title:"Pricing"})})}),i.jsx(de,{path:"/about",element:i.jsx(ot,{children:i.jsx(Mt,{title:"About Us"})})}),i.jsx(de,{path:"/about/story",element:i.jsx(ot,{children:i.jsx(Mt,{title:"Our Story"})})}),i.jsx(de,{path:"/about/areas",element:i.jsx(ot,{children:i.jsx(Mt,{title:"Service Areas"})})}),i.jsx(de,{path:"/about/values",element:i.jsx(ot,{children:i.jsx(Mt,{title:"Our Values"})})}),i.jsx(de,{path:"/about/careers",element:i.jsx(ot,{children:i.jsx(Mt,{title:"Careers"})})}),i.jsx(de,{path:"/faq",element:i.jsx(ot,{children:i.jsx(vw,{})})}),i.jsx(de,{path:"/policies",element:i.jsx(ot,{children:i.jsx(Mt,{title:"Policies"})})}),i.jsx(de,{path:"/contact",element:i.jsx(ot,{children:i.jsx(Mt,{title:"Contact"})})}),i.jsx(de,{path:"/login",element:i.jsx(gw,{})}),i.jsx(de,{path:"/signup",element:i.jsx(yw,{})}),i.jsx(de,{path:"/dashboard",element:i.jsx(Ke,{allowedRoles:["client"],children:i.jsx(Ah,{})})}),i.jsx(de,{path:"/dashboard/*",element:i.jsx(Ke,{allowedRoles:["client"],children:i.jsx(Ah,{})})}),i.jsx(de,{path:"/cleaner-login",element:i.jsx(Dr,{to:"/login?role=worker",replace:!0})}),i.jsx(de,{path:"/worker",element:i.jsx(Ke,{allowedRoles:["worker"],children:i.jsx(xw,{})})}),i.jsx(de,{path:"/worker/onboarding",element:i.jsx(Ke,{allowedRoles:["worker"],children:i.jsx(jw,{})})}),i.jsx(de,{path:"/worker/jobs",element:i.jsx(Ke,{allowedRoles:["worker"],children:i.jsx(_w,{})})}),i.jsx(de,{path:"/worker/schedule",element:i.jsx(Ke,{allowedRoles:["worker"],children:i.jsx(kw,{})})}),i.jsx(de,{path:"/worker/tracking",element:i.jsx(Ke,{allowedRoles:["worker"],children:i.jsx(Sw,{})})}),i.jsx(de,{path:"/worker/earnings",element:i.jsx(Ke,{allowedRoles:["worker"],children:i.jsx(Nw,{})})}),i.jsx(de,{path:"/worker/training",element:i.jsx(Ke,{allowedRoles:["worker"],children:i.jsx(Ew,{})})}),i.jsx(de,{path:"/worker/profile",element:i.jsx(Ke,{allowedRoles:["worker"],children:i.jsx(Cw,{})})}),i.jsx(de,{path:"/q-admin",element:i.jsx(Ke,{allowedRoles:["owner"],children:i.jsx(Tw,{})})}),i.jsx(de,{path:"/q-admin/bookings",element:i.jsx(Ke,{allowedRoles:["owner"],children:i.jsx(Rw,{})})}),i.jsx(de,{path:"/q-admin/cleaners",element:i.jsx(Ke,{allowedRoles:["owner"],children:i.jsx(Pw,{})})}),i.jsx(de,{path:"/q-admin/training",element:i.jsx(Ke,{allowedRoles:["owner"],children:i.jsx(Lw,{})})}),i.jsx(de,{path:"/q-admin/pricing",element:i.jsx(Ke,{allowedRoles:["owner"],children:i.jsx(Ow,{})})}),i.jsx(de,{path:"/q-admin/revenue",element:i.jsx(Ke,{allowedRoles:["owner"],children:i.jsx(Aw,{})})}),i.jsx(de,{path:"/q-admin/reviews",element:i.jsx(Ke,{allowedRoles:["owner"],children:i.jsx(Iw,{})})}),i.jsx(de,{path:"/q-admin/support",element:i.jsx(Ke,{allowedRoles:["owner"],children:i.jsx($w,{})})}),i.jsx(de,{path:"*",element:i.jsx(Dr,{to:"/",replace:!0})})]})}function Mt({title:s}){return i.jsxs("div",{className:"container",style:{padding:"4rem 1rem",textAlign:"center"},children:[i.jsx("h1",{style:{fontSize:"2rem",marginBottom:"1rem"},children:s}),i.jsx("p",{style:{color:"var(--color-text-muted)"},children:"This page is coming soon."})]})}function zw(){return i.jsx(vv,{children:i.jsx(sw,{children:i.jsx(Uw,{})})})}ym.createRoot(document.getElementById("root")).render(i.jsx(Mr.StrictMode,{children:i.jsx(zw,{})}));
